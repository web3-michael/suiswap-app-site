(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[710],{2119:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/community/auth/suiswap-points-login-auth",function(){return c(4810)}])},4810:function(a,b,c){"use strict";c.r(b);var d=c(7568),e=c(1799),f=c(4051),g=c.n(f),h=c(5893),i=c(7742),j=c.n(i),k=c(645);c(2978);var l=c(196),m=c(7294),n=c(1838),o=c(7318),p=c(9769),q=c(6491),r={avatarUrl:"/images/misc/user-profile-image-test.png",name:"Unknown",point:0,details:[]},s={avatarUrl:"/images/misc/user-profile-image-test.png",name:"Loading",point:0,details:[]},t=function(){var a=(0,m.useRef)(null),b=(0,m.useState)("loading"),c=b[0],f=b[1],i=(0,m.useState)(!0),t=i[0],u=i[1],v=(0,m.useState)(null),w=v[0],x=v[1],y=(0,m.useState)(null),z=y[0],A=y[1],B=(0,m.useState)(r),C=B[0],D=B[1];(0,m.useEffect)(function(){var a=new URLSearchParams(window.location.hash.slice(1)),b=[a.get("access_token"),a.get("token_type")],c=b[0],d=b[1];x(c),A(d)},[]),(0,m.useEffect)(function(){var a;(a=(0,d.Z)(g().mark(function a(){return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return u(!0),a.next=3,(0,p.delay)(2e3);case 3:u(!1);case 4:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)})()},[]),(0,m.useEffect)(function(){var a;if(null===w){f("unknown");return}f("loading"),(a=(0,d.Z)(g().mark(function a(){var b,c,d,e,h,i,j,k,m,n,o,p;return g().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://discord.com/api/users/@me",{headers:{authorization:"".concat(z," ").concat(w)}});case 2:return b=a.sent,a.next=5,b.json();case 5:if(d=(c=a.sent).id,e=c.username,h=c.avatar,i=void 0!==d&& void 0!==e&& void 0!==h?"https://cdn.discordapp.com/avatars/".concat(d,"/").concat(h,".jpg"):void 0,j=0,k=[],!(void 0!==d)){a.next=29;break}return a.prev=13,a.next=16,l.ZP.get("https://vivi.one/discord-bot/suiswap-points",{params:{userId:d}});case 16:j=null!==(o=(n=(m=a.sent).data).point)&& void 0!==o?o:0,k=null!==(p=n.details)&& void 0!==p?p:[],a.next=27;break;case 24:return a.prev=24,a.t0=a.catch(13),a.abrupt("return");case 27:D({avatarUrl:null!=i?i:"/images/misc/user-profile-image-test.png",name:null!=e?e:"",point:j,details:k}),f("done");case 29:case"end":return a.stop()}},a,null,[[13,24]])})),function(){return a.apply(this,arguments)})()},[w,z]);var E=r;return"loading"===c?E=s:"done"===c&&(E=(0,e.Z)({},r,C)),(0,h.jsx)(q.$Q,{children:(0,h.jsxs)("div",{ref:a,style:{margin:"0px",width:"100%",height:"100%",position:"fixed",top:0,left:0,background:"#f9f9f9"},children:[(0,h.jsx)(n.A,{}),(0,h.jsx)("div",{style:{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"0px"},children:(0,h.jsxs)("div",{className:j()["modal-background-content-frame"],children:[(0,h.jsxs)("div",{className:j()["modal-background-frame-title-frame"],style:{width:486},children:[(0,h.jsx)("span",{className:j()["modal-background-frame-title"],children:"Suiswap Point"}),(0,h.jsx)("span",{className:j()["modal-background-frame-subtitle"],children:"Your Suiswap Point is"})]}),"loading"===c||t?(0,h.jsx)("div",{children:(0,h.jsx)(k.Dots,{color:"black"})}):(0,h.jsx)("div",{style:{boxShadow:"-21px 24px 11px rgba(204, 201, 201, 0.25)",borderRadius:"40px",maxWidth:400},children:(0,h.jsx)(o.fQ,(0,e.Z)({},E))})]})})]})})};b.default=t},7742:function(a){a.exports={"modal-background-content-frame":"suiswap-points-login-auth_modal-background-content-frame__6U4oW","modal-background-frame-subtitle":"suiswap-points-login-auth_modal-background-frame-subtitle__cf2Bm","modal-background-frame-title":"suiswap-points-login-auth_modal-background-frame-title__WLjEP","modal-background-frame-title-frame":"suiswap-points-login-auth_modal-background-frame-title-frame__ZcJu9"}}},function(a){a.O(0,[219,304,770,101,318,774,888,179],function(){var b;return a(a.s=2119)}),_N_E=a.O()}])