(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{6177:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/app",function(){return c(5297)}])},5297:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return at}});var d=c(5893),e=c(5192),f=c(8197),g=c(5402),h=c(145),i=c(8713),j=c(6875),k=c(7294),l=c(7568),m=c(1799),n=c(828),o=c(4051),p=c.n(o),q=c(5675),r=c.n(q),s=c(6628),t=c(286),u=c(998),v=c(6116),w=c(2766),x=function(a){var b=a.placeholder,c=a.text,e=a.onInput;return(0,d.jsxs)("div",{className:"app-content-search-bar",children:[(0,d.jsx)(t.fL,{size:17,color:"#9da3ae"}),(0,d.jsx)("input",{className:"app-content-search-bar-input",type:"text",placeholder:b,value:null!=c?c:"",onInput:function(a){void 0!==e&&e(a.target.value)}})]})},y=function(a){var b=a.gap,c=a.children;return(0,d.jsx)("div",{className:"app-content-items-group",style:{gap:b},children:c})},z=function(a){var b=a.title,c=a.gap,e=a.children,f=a.bottom,g=a.refreshFn,h=a.refreshToastTitle,i="#9da3ae",l=(0,k.useState)(!1),m=l[0],n=l[1],o=(0,k.useState)(!1),p=o[0],q=o[1],r=(0,k.useCallback)(function(){void 0!==g&&(g(),(0,j.L$)(void 0!==h?"Refresh ".concat(h,"..."):"Refresh..."))},[g,h]),s=i;m&&(s=void 0!==g?"#2e98f1":i),p&&(s=void 0!==g?"#343434":i);var u=(0,d.jsx)("div",{className:"app-content-items-title-split-line",children:(0,d.jsx)("div",{className:"app-content-split-line-inner"})}),v=void 0!==f&&f>0?(0,d.jsx)("div",{style:{width:1,height:f}}):(0,d.jsx)(d.Fragment,{});return(0,d.jsxs)("div",{className:"app-content-items",children:[(0,d.jsxs)("div",{className:"app-content-items-title",children:[(0,d.jsxs)("div",{className:"app-content-items-title-inner",style:{cursor:void 0!==g?"pointer":"default"},onMouseEnter:function(){n(!0)},onMouseLeave:function(){n(!1)},onMouseDown:function(){q(!0)},onMouseUp:function(){q(!1)},onClick:r,children:[(0,d.jsx)("span",{style:{color:s},children:b}),(0,d.jsx)(t.zf,{color:s,size:9})]}),u]}),(0,d.jsxs)("div",{className:"app-content-items-view",style:{gap:c},children:[e,v]})]})},A=function(a){var b=a.title,c=a.width,e=a.textColor,f=a.children,g=a.style;return(0,d.jsxs)("div",{className:"item-sector",style:{width:c},children:[(0,d.jsx)("span",{className:"item-sector-title",style:g,children:b}),(0,d.jsx)("span",{className:"item-sector-info",style:(0,m.Z)({color:e},null!=g?g:{}),children:f})]})},B=function(){return(0,d.jsx)("div",{className:"item-bottom-split-line",children:(0,d.jsx)("div",{className:"app-content-split-line-inner"})})},C=function(a){var b=a.title,c=a.fontSize,e=a.fontWeight,f=a.borderRadius,g=a.size,h=a.grow,i=a.onClick,j=a.buttonEnabled,k=a.style,l=null==j||j,o=(0,n.Z)(null!=g?g:["fixed",151,37],3),p=o[0],q=o[1],r=o[2],s=null!=h?h:"hover",t=["no-userselect","item-button",l?"item-button-enabled":"item-button-disabled"];return l&&("always"===s?t.push("item-button-grow"):"hover"===s?t.push("item-button-grow-hover"):t.push("item-button-grow-never")),(0,d.jsx)("div",{onClick:i,className:t.join(" "),style:(0,m.Z)({},{fontSize:null!=c?c:18,fontWeight:null!=e?e:500,borderRadius:null!=f?f:12},"fixed"===p?{width:q,height:r}:{paddingLeft:q,paddingRight:q,paddingTop:r,paddingBottom:r},k),children:b})},D=function(a){var b=a.text;return(0,d.jsx)("div",{className:"utils-empty-item-placeholder",children:(0,d.jsx)("div",{className:"utils-empty-item-placeholder-inner",children:(0,d.jsx)("span",{children:b})})})},E=function(a){var b=a.condition,c=a.children;return b?(0,d.jsx)(d.Fragment,{children:c}):(0,d.jsx)(d.Fragment,{})},F=function(a){var b=a.interval,c=(0,h.s)().refresh;return(0,k.useEffect)(function(){if(b>0){var a=setInterval(function(){console.log("[TIMER]: refresh-global-data"),c()},1e3*b);return function(){return clearInterval(a)}}},[c,b]),(0,d.jsx)(d.Fragment,{})},G=function(a){var b=a.interval,c=a.pool,e=(0,h.s)().refreshPool;return(0,k.useEffect)(function(){if(null!==c){var a=setInterval(function(){console.log("[TIMER]: refresh-pool"),e(c)},1e3*b);return function(){return clearInterval(a)}}},[e,c,b]),(0,d.jsx)(d.Fragment,{})},H=function(a){var b=a.interval,c=(0,i.K)().refreshAccountCoins;return(0,k.useEffect)(function(){var a=setInterval(function(){console.log("[TIMER]: refresh-account-coins"),c()},1e3*b);return function(){return clearInterval(a)}},[c,b]),(0,d.jsx)(d.Fragment,{})},I=function(a){var b=a.interval,c=(0,h.s)().refreshPrimaryCoinPrice;return(0,k.useEffect)(function(){var a=setInterval(function(){console.log("[TIMER]: refresh-primary-coin-price"),c()},1e3*b);return function(){return clearInterval(a)}},[c,b]),(0,d.jsx)(d.Fragment,{})},J=function(a){var b,c,e=a.coinType,f=a.coinUi,g=a.onClick,h="",i=null!==(b=f.name)&& void 0!==b?b:"",j=e.name.split("::");return j.length>1&&(h=j[0],""===i&&(i=j.slice(1).join("::"))),(0,d.jsxs)("div",{className:"modal-token-list-item-frame",onClick:g,children:[(0,d.jsxs)("div",{className:"modal-token-list-item-left-frame",children:[(0,d.jsx)(r(),{alt:"",src:null!==(c=f.logoUrl)&& void 0!==c?c:u.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:30,height:30}),(0,d.jsxs)("span",{style:{width:"210px",overflow:"hidden",whiteSpace:"nowrap"},children:[(0,d.jsx)("span",{className:"modal-token-list-item-left-symbol-span",children:f.symbol}),(0,d.jsx)("span",{className:"modal-token-list-item-left-detail-span",children:" "}),(0,d.jsx)("span",{className:"modal-token-list-item-left-detail-span",children:i})]})]}),(0,d.jsx)("div",{className:"modal-token-list-item-right-frame",children:(0,d.jsx)("span",{children:h.length>13?h.slice(0,10)+"...":h})})]})},K=function(a){var b=a.coinTypeAndUis,c=a.onSelectCoinType;return(0,d.jsxs)("div",{className:"modal-wallet-frame",children:[(0,d.jsx)("div",{className:"modal-wallet-title-frame",children:(0,d.jsx)("span",{children:"Select Token"})}),b.length>0?(0,d.jsx)("div",{className:"modal-token-list-panel-frame",children:b.map(function(a){var b=(0,n.Z)(a,2),e=b[0],f=b[1];return(0,d.jsx)(J,{onClick:function(){void 0!==c&&c(e)},coinType:e,coinUi:f},e.name)})}):(0,d.jsx)("span",{style:{fontStyle:"normal",fontWeight:"500",fontSize:"21px",lineHeight:"32px",color:"#9da3ae"},children:"No avaliable token for selecting"})]})},L="#d83939",M="#d88f39",N=function(a){var b,c,f,g,m,o,q,t,v,x,y,z,A,B,C,D=a.accountAddr,E=a.poolInfo,F=a.getCoinUi,G=a.wallet,H=a.client,I=a.dismissModal,J=(0,k.useState)("CUSTOM"),K=J[0],N=J[1],O=(0,i.K)().refreshTransactions,P=(0,k.useState)([]),Q=P[0],R=P[1],S=(0,k.useState)([]),T=S[0],U=S[1],V=(0,k.useState)([]),W=V[0],X=V[1],Y=(0,k.useState)(""),Z=Y[0],$=Y[1],_=(0,k.useState)(""),aa=_[0],ab=_[1];if(null===E||null===G||null===H||null===D)return(0,d.jsx)(d.Fragment,{});var ac=G.getAddLiqudityEstimatedGas()*G.getGasFeePrice();(0,k.useEffect)(function(){var a;null!==D&&(a=(0,l.Z)(p().mark(function a(){var b,c,d,e,f;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,b=[E.type.xTokenType.name,E.type.yTokenType.name,H.getPrimaryCoinType().name],a.t0=n.Z,a.next=5,H.getSortedAccountCoinsArray(D,b);case 5:a.t1=a.sent,d=(c=(0,a.t0)(a.t1,3))[0],e=c[1],f=c[2],R(d),U(e),X(f.filter(function(a){return a.balance>=ac})),a.next=18;break;case 15:a.prev=15,a.t2=a.catch(0),console.log(a.t2,"deposit-model-fetch-coin-info");case 18:case"end":return a.stop()}},a,null,[[0,15]])})),function(){return a.apply(this,arguments)})()},[D,G,H,E,ac]);var ad=W.length>0?W.slice(-1)[0]:null,ae=Q.length>0?Q[0]:null,af=T.length>0?T[0]:null,ag=(0,k.useMemo)(function(){if(null===ae)return u.K_.ZERO;var a=null!==ad&&(0,s.Rd)(ae,ad)?ae.balance-ac:ae.balance;return a>u.K_.ZERO?a:u.K_.ZERO},[ae,ad,G,ac]),ah=(0,k.useMemo)(function(){if(null===af)return u.K_.ZERO;var a=null!==ad&&(0,s.Rd)(af,ad)?af.balance-ac:af.balance;return a>u.K_.ZERO?a:u.K_.ZERO},[af,ad,G,ac]),ai=u.K_.ZERO,aj=u.K_.ZERO;E.isInitialized()&&(E.getDepositXAmount(ah)>ag?(ai=ag,aj=(aj=E.getDepositYAmount(ag))<ah?aj:ah):(aj=ah,ai=(ai=E.getDepositXAmount(ah))<ag?ai:ag));var ak=F(E.type.xTokenType),al=F(E.type.yTokenType),am=null!==(b=ak.demical)&& void 0!==b?b:0,an=null!==(c=al.demical)&& void 0!==c?c:0,ao=ak.symbol,ap=al.symbol,aq=null!==(f=ak.logoUrl)&& void 0!==f?f:"/images/token/unknown-token.svg",ar=null!==(g=al.logoUrl)&& void 0!==g?g:"/images/token/unknown-token.svg",as=(0,k.useMemo)(function(){return(0,w.v4)(new s.NS(ag,am).toString(!0),10)},[ag,am]),at=(0,k.useMemo)(function(){return(0,w.v4)(new s.NS(ah,an).toString(!0),10)},[ah,an]),au=(0,k.useMemo)(function(){var a=s.NS.fromString(Z);return null!==a&&a.canAlignTo(am)?a.alignTo(am).value:u.K_.ZERO},[Z,am]),av=(0,k.useMemo)(function(){var a=s.NS.fromString(aa);return null!==a&&a.canAlignTo(an)?a.alignTo(an).value:u.K_.ZERO},[aa,an]),aw=(0,k.useCallback)(function(a){if(""===a){$(""),E.isInitialized()&&ab("");return}if(!(am<=0&&a.indexOf(".")> -1)){var b=s.NS.fromString(a);if(null!==b&&b.canAlignTo(am)&&b.value>=u.K_.ZERO){var c=(b=b.alignTo(am)).value,d=E.getDepositYAmount(c);c<=ag&&(!E.isInitialized()||d<=ah)&&($(a),E.isInitialized()&&ab(new s.NS(d,an).toString()))}}},[ag,ah,am,an,$,ab,E]),ax=(0,k.useCallback)(function(a){if(""===a){ab(""),E.isInitialized()&&$("");return}if(!(an<=0&&a.indexOf(".")> -1)){var b=s.NS.fromString(a);if(null!==b&&b.canAlignTo(an)&&b.value>=u.K_.ZERO){var c=(b=b.alignTo(an)).value,d=E.getDepositXAmount(c);c<=ah&&(!E.isInitialized()||d<=ag)&&(ab(a),E.isInitialized()&&$(new s.NS(d,am).toString()))}}},[ag,ah,am,an,$,ab,E]),ay=null,az=null;null===D?(ay=(m=[L,"Invalid account address"])[0],az=m[1]):null===ad?(ay=(o=[L,"Cannot pay enough gas"])[0],az=o[1]):null===ae||ag===u.K_.ZERO?(ay=(q=[L,"Cannot find avaliable coin ".concat(ak.symbol," to deposit")])[0],az=q[1]):null===af||ah===u.K_.ZERO?(ay=(t=[L,"Cannot find avaliable coin ".concat(al.symbol," to deposit")])[0],az=t[1]):au<=u.K_.ZERO||au>ag?(ay=(v=[L,"Invalid amount input for ".concat(ak.symbol)])[0],az=v[1]):av<=u.K_.ZERO||av>ah?(ay=(x=[L,"Invalid amount input for ".concat(al.symbol)])[0],az=x[1]):E.freeze?(ay=(y=[L,"Pool is freeze for adding liqudity"])[0],az=y[1]):null!==ad&&ad.balance<ac?(ay=(z=[M,"Not enough balance left to pay transaction gas fee"])[0],az=z[1]):au>ai&&E.isInitialized()?(ay=(A=[M,"Input amount for ".concat(ak.symbol," is enough")])[0],az=A[1]):av>aj&&E.isInitialized()?(ay=(B=[M,"Input amount for ".concat(al.symbol," is enough")])[0],az=B[1]):!E.isInitialized()&&av>u.K_.ZERO&&au>u.K_.ZERO&&(ay=(C=["#2e98f1","Pool is initialzed"])[0],az=C[1]);var aA=(0,h.s)(),aB=aA.refresh,aC=(0,i.K)().refreshAccountCoins,aD=(0,k.useCallback)(function(){if(null!==az&&ay===L){(0,j._N)(az);return}var a,b=(a=(0,l.Z)(p().mark(function a(){var b;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,G.addLiqudity({client:H,pool:E,xAmount:au,yAmount:av});case 2:return(b=a.sent).isSuccess()&&(aB(),aC(),O()),a.abrupt("return",b);case 5:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});(0,j.pn)(H,"Deposit Coin",b()),void 0!==I&&I()},[az,ay,j._N,aB,au,av,I]),aE=(0,k.useCallback)(function(a,b){var c=ai*a/b,d=aj*a/b,e=new s.NS(ag<c?ag:c,am).toString(!0),f=new s.NS(ah<d?ah:d,an).toString(!0);$(e),ab(f)},[am,an,ai,aj,ag,ah]);return(0,d.jsxs)("div",{className:"modal-wallet-frame",children:[(0,d.jsx)("div",{className:"modal-wallet-title-frame",children:(0,d.jsxs)("span",{children:["Deposit",(0,d.jsx)("span",{children:" "}),(0,d.jsx)("span",{style:{fontWeight:"700",fontSize:"24px",lineHeight:"36px"},children:ao}),(0,d.jsx)("span",{style:{fontWeight:"700",fontSize:"24px",lineHeight:"36px"},children:"/"}),(0,d.jsx)("span",{style:{fontWeight:"700",fontSize:"24px",lineHeight:"36px"},children:ap})]})}),(0,d.jsxs)("div",{className:"modal-deposit-info-frame",children:[(0,d.jsxs)("div",{className:"modal-deposit-panel-frame",children:[(0,d.jsx)(r(),{src:aq,width:29,height:29,style:{borderRadius:"15px",overflow:"hidden"}}),(0,d.jsx)("span",{className:"modal-deposit-panel-token-name-label",children:ao}),(0,d.jsx)("input",{className:"modal-deposit-panel-token-amount-input",placeholder:"0",style:{color:"CUSTOM"===K?"#000000":"#2e98f1"},disabled:E.isInitialized()&&ai<=u.K_.ZERO||"CUSTOM"!==K,value:Z,onInput:function(a){aw(a.target.value)}}),(0,d.jsx)("div",{className:"modal-deposit-panel-token-amount-label-frame",children:(0,d.jsxs)("span",{className:"modal-deposit-panel-token-amount-label",children:[(0,d.jsx)("span",{children:"max: "}),(0,d.jsx)("span",{children:as})]})})]}),(0,d.jsxs)("div",{className:"modal-deposit-panel-frame",children:[(0,d.jsx)(r(),{src:ar,width:29,height:29,style:{borderRadius:"15px",overflow:"hidden"}}),(0,d.jsx)("span",{className:"modal-deposit-panel-token-name-label",children:ap}),(0,d.jsx)("input",{className:"modal-deposit-panel-token-amount-input",placeholder:"0",style:{color:"CUSTOM"===K?"#000000":"#2e98f1"},disabled:E.isInitialized()&&aj<=u.K_.ZERO||"CUSTOM"!==K,value:aa,onInput:function(a){ax(a.target.value)}}),(0,d.jsx)("div",{className:"modal-deposit-panel-token-amount-label-frame",children:(0,d.jsxs)("span",{className:"modal-deposit-panel-token-amount-label",children:[(0,d.jsx)("span",{children:"max: "}),(0,d.jsx)("span",{children:at})]})})]}),(0,d.jsxs)("div",{className:"modal-deposit-panel-quick-select-frame",children:[(0,d.jsx)(e.cc,{selected:"0.2"===K,onClick:function(){E.isInitialized()&&(N("0.2"),aE(BigInt(2),BigInt(10)))},children:"20%"}),(0,d.jsx)(e.cc,{selected:"0.5"===K,onClick:function(){E.isInitialized()&&(N("0.5"),aE(BigInt(1),BigInt(2)))},children:"50%"}),(0,d.jsx)(e.cc,{selected:"0.75"===K,onClick:function(){E.isInitialized()&&(N("0.75"),aE(BigInt(75),BigInt(100)))},children:"75%"}),(0,d.jsx)(e.cc,{selected:"1.0"===K,onClick:function(){E.isInitialized()&&(N("1.0"),aE(BigInt(1),BigInt(1)))},children:"MAX"}),(0,d.jsx)(e.cc,{selected:!1,onClick:function(){"CUSTOM"!==K&&(N("CUSTOM"),$(""),ab(""))},children:"CUSTOM"})]}),null===az||null===ay||""===Z||""===aa?(0,d.jsx)(d.Fragment,{}):(0,d.jsx)(e.OY,{color:ay,message:az}),(0,d.jsx)(e.Hq,{enabled:ay!==L,onClick:aD,icon:!1})]})]})},O=function(a){var b,c,f=a.positionInfo,m=a.getCoinUi,n=a.dismissModal,o=(0,k.useRef)(null),q=(0,k.useState)(1e3),t=q[0],v=q[1],w=(0,h.s)(),x=w.client,y=w.refreshPool,z=(0,g.O)(),A=z.wallet,B=z.connected,D=(0,i.K)(),E=D.accountAddr,F=(D.accountCoins,D.refreshAccountCoins),G=D.refreshTransactions,H=null!==A&&"connected"===B&&null!==E,I=m(f.poolInfo.type.xTokenType),J=m(f.poolInfo.type.yTokenType),K=I.symbol,L=J.symbol,M=(0,k.useMemo)(function(){return f.partial(new s.NS(BigInt(t),3))},[f,t]),N=(0,k.useMemo)(function(){return M.getShareCoinAmounts()},[M]),O=N[0],P=N[1],Q=(0,k.useMemo)(function(){var a;return new s.NS(O,null!==(a=I.demical)&& void 0!==a?a:0)},[O,I]),R=(0,k.useMemo)(function(){var a;return new s.NS(P,null!==(a=J.demical)&& void 0!==a?a:0)},[P,J]),S=(0,k.useMemo)(function(){return(0,d.jsx)(e.$z,{value:Q,width:20,precision:5})},[Q]),T=(0,k.useMemo)(function(){return(0,d.jsx)(e.$z,{value:R,width:20,precision:5})},[R]),U=function(a){var b=(a.value-a.min)/(a.max-a.min)*100,c="#2e98f1",d="#f9f9f9",e="linear-gradient(to right, ".concat(c," 0%, ").concat(c," ").concat(b,"%, ").concat(d," ").concat(b,"%, ").concat(d," 100%)");a.style.setProperty("--track-background",e)},V=(0,k.useCallback)(function(){if(null===A|| !1===H||null===x){(0,j._N)("Cannot correctly sign the operation, wallet is either not connected or we could not operate the sign operation");return}var a,b=(a=(0,l.Z)(p().mark(function a(){var b;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A.removeLiqudity({client:x,positionInfo:M});case 3:return(b=a.sent).isSuccess()&&(y(M.poolInfo),F(),G()),a.abrupt("return",b);case 8:throw a.prev=8,a.t0=a.catch(0),a.t0;case 11:case"end":return a.stop()}},a,null,[[0,8]])})),function(){return a.apply(this,arguments)});(0,j.pn)(x,"Harvest Position",b()),void 0!==n&&n()},[M,A,x,H,y,F,G,n]);(0,k.useEffect)(function(){null!==o.current&&U(o.current)},[o]);var W=(0,d.jsx)("div",{className:"modal-harvest-frame-title",children:(0,d.jsxs)("span",{children:[(0,d.jsx)("span",{children:"Harvest "}),(0,d.jsx)("span",{style:{fontWeight:700},children:K}),(0,d.jsx)("span",{children:"/"}),(0,d.jsx)("span",{style:{fontWeight:700},children:L})]})}),X=(0,d.jsx)("div",{className:"modal-harvest-main-frame",children:(0,d.jsxs)("div",{className:"modal-harvest-amount-frame",children:[(0,d.jsxs)("div",{className:"modal-harvest-amount-detail-frame",children:[(0,d.jsxs)("div",{className:"modal-harvest-amount-detail-left-frame",children:[(0,d.jsx)(r(),{alt:"",src:null!==(b=I.logoUrl)&& void 0!==b?b:u.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:29,height:29,style:{borderRadius:15,overflow:"hidden"}}),(0,d.jsx)("span",{children:K})]}),(0,d.jsx)("span",{className:"modal-harvest-amount-detail-right-frame",children:S})]}),(0,d.jsxs)("div",{className:"modal-harvest-amount-detail-frame",children:[(0,d.jsxs)("div",{className:"modal-harvest-amount-detail-left-frame",children:[(0,d.jsx)(r(),{alt:"",src:null!==(c=J.logoUrl)&& void 0!==c?c:u.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:29,height:29,style:{borderRadius:15,overflow:"hidden"}}),(0,d.jsx)("span",{children:L})]}),(0,d.jsx)("span",{className:"modal-harvest-amount-detail-right-frame",children:T})]}),(0,d.jsxs)("div",{className:"modal-harvest-amount-slider-frame",children:[(0,d.jsx)("input",{type:"range",style:{width:200},min:0,max:1,step:.001,ref:o,value:t/1e3,onInput:function(a){U(a.target);var b=Math.round(1e3*a.target.value);b<0?b=0:b>1e3&&(b=1e3),v(b)}}),(0,d.jsxs)("span",{className:"modal-harvest-amount-slider-ratio",children:[(t/10).toFixed(1),(0,d.jsx)("span",{style:{fontWeight:400},children:"%"})]})]}),(0,d.jsx)(C,{title:"Harvest",fontSize:18,fontWeight:500,borderRadius:12,size:["fixed",163,37],grow:"always",buttonEnabled:t>0,onClick:V})]})});return(0,d.jsxs)("div",{className:"modal-harvest-frame",children:[W,X]})},P=function(a){var b,c,f=a.fromCoinUi,g=a.toCoinUi,h=a.fromCoinAmount,i=a.toCoinAmount,j=a.swapPrice,k=a.marketPrice,l=a.priceImpact,m=a.onClick,n=(0,d.jsx)("div",{className:"modal-confirm-swap-title-frame",children:(0,d.jsxs)("span",{children:[(0,d.jsx)("span",{children:"Swap"}),(0,d.jsx)("span",{children:" "}),(0,d.jsx)("span",{style:{fontWeight:700},children:f.symbol}),(0,d.jsx)("span",{children:" to "}),(0,d.jsx)("span",{style:{fontWeight:700},children:g.symbol})]})}),o=(0,d.jsxs)("div",{className:"modal-confirm-swap-token-frame",children:[(0,d.jsxs)("div",{className:"modal-confirm-swap-token-frame-left",children:[(0,d.jsx)(r(),{alt:"",src:null!==(b=f.logoUrl)&& void 0!==b?b:u.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:"29",height:"29"}),(0,d.jsx)("span",{children:f.symbol})]}),(0,d.jsx)("div",{className:"modal-confirm-swap-token-frame-right",style:{color:"#a73232"},children:(0,d.jsx)("span",{children:"-".concat(h)})})]}),p=(0,d.jsxs)("div",{className:"modal-confirm-swap-token-frame",children:[(0,d.jsxs)("div",{className:"modal-confirm-swap-token-frame-left",children:[(0,d.jsx)(r(),{alt:"",src:null!==(c=g.logoUrl)&& void 0!==c?c:u.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:"29",height:"29"}),(0,d.jsx)("span",{children:g.symbol})]}),(0,d.jsx)("div",{className:"modal-confirm-swap-token-frame-right",style:{color:"#2e98f1"},children:(0,d.jsx)("span",{children:"+".concat(i)})})]}),q=(0,d.jsxs)("div",{className:"modal-confirm-swap-token-frame-outer",children:[o,p]}),s=(0,d.jsxs)("div",{className:"modal-confirm-swap-price-frame",children:[(0,d.jsxs)("div",{className:"modal-confirm-swap-price-frame-top",children:[(0,d.jsx)("span",{className:"modal-confirm-swap-price-frame-top-text-bar",children:"Swap Price"}),(0,d.jsxs)("span",{className:"modal-confirm-swap-price-frame-top-text-bar",children:[(0,d.jsx)("span",{children:"Price Impact "}),(0,d.jsx)("a",{style:{marginLeft:".15rem"}}),(0,d.jsx)("span",{style:{color:"rgb(202 55 55)",fontWeight:700},children:"-".concat((0,w.IZ)((100*l).toFixed(3)),"%")})]})]}),(0,d.jsxs)("span",{className:"modal-confirm-swap-price-frame-bottom",children:[(0,d.jsx)(e.$h,{value:j,hintFontSize:13,width:8,precision:4}),(0,d.jsx)("span",{children:" "}),(0,d.jsx)("span",{style:{fontWeight:300},children:"|"}),(0,d.jsx)("span",{children:" "}),(0,d.jsx)("span",{style:{color:"#bebebe"},children:(0,d.jsx)(e.$h,{value:k,hintFontSize:13,width:8,precision:4})})]})]}),t=(0,d.jsx)(C,{title:"Confirm & Swap",fontSize:24,fontWeight:500,borderRadius:12,size:["pad",16,8],grow:"hover",onClick:m}),v=(0,d.jsxs)("div",{className:"modal-confirm-swap-frame",children:[n,q,s,t]});return v},Q=function(a){var b=a.slippageIndex,c=a.onSlippageIndexChange,f=a.customSlippageValue,g=a.onCustomSlippageValueChange,h="Custom"===b;return(0,d.jsxs)("div",{className:"swap-slippage-frame",children:[(0,d.jsxs)(e.cc,{selected:"0.2"===b,onClick:function(){c("0.2")},children:["0.2",(0,d.jsx)("span",{style:{fontWeight:300},children:"%"})]}),(0,d.jsxs)(e.cc,{selected:"0.5"===b,onClick:function(){c("0.5")},children:["0.5",(0,d.jsx)("span",{style:{fontWeight:300},children:"%"})]}),(0,d.jsxs)(e.cc,{selected:"1.0"===b,onClick:function(){c("1.0")},children:["1.0",(0,d.jsx)("span",{style:{fontWeight:300},children:"%"})]}),(0,d.jsxs)(e.cc,{selected:"2.0"===b,onClick:function(){c("2.0")},children:["2.0",(0,d.jsx)("span",{style:{fontWeight:300},children:"%"})]}),(0,d.jsx)(e.cc,{selected:"Disable"===b,onClick:function(){c("Disable")},children:"Disable"}),(0,d.jsxs)("div",{className:h?"swap-slippage-input-frame":"swap-slippage-input-frame-unselected",onClick:function(){!1===h&&c("Custom")},children:[(0,d.jsx)("span",{className:"swap-slippage-input-pre-label",children:"Custom: "}),(0,d.jsx)("input",{className:"swap-slippage-input",style:{width:"25.8px",overflow:"hidden",whiteSpace:"nowrap",cursor:h?void 0:"pointer"},contentEditable:!0,suppressContentEditableWarning:!0,disabled:!h,value:f,onInput:function(a){g(a.target.value)}}),(0,d.jsx)("span",{className:"swap-slippage-input",style:{fontWeight:400},children:"%"})]},h?"swap-slippage-input-frame":"swap-slippage-input-frame-unselected")]})},R=function(a){var b,c,o,q,x,y=a.style,z=(0,h.s)(),A=z.client,B=z.pools,C=z.refresh,D=(z.refreshPool,z.getCoinUi),E=(0,k.useMemo)(function(){return B.filter(function(a){return a.isAvaliableForSwap()})},[B]),F=(0,k.useMemo)(function(){var a=E.flatMap(function(a){return[a.type.xTokenType,a.type.yTokenType]});return(0,s.hm)(a,function(a){return a.name})},[E]),I=(0,g.O)(),J=I.wallet,L=I.connected,M=I.presentModal,N=(0,i.K)(),O=N.accountAddr,R=N.accountCoins,S=N.refreshAccountCoins,T=N.refreshTransactions,U=(0,k.useState)(null),V=U[0],W=U[1],X=(0,k.useState)(null),Y=X[0],Z=X[1],$=(0,k.useState)(""),_=$[0],aa=$[1],ab=(0,k.useState)(""),ac=ab[0],ad=ab[1],ae=(0,k.useState)("1.0"),af=ae[0],ag=ae[1],ah=(0,k.useState)("0.1"),ai=ah[0],aj=ah[1],ak=(0,k.useMemo)(function(){if(null===V||null===R||null===O||null===A||null===J)return[null,!1];var a=(0,s.r2)(A.getPrimaryCoinType(),V),b=R.filter(function(a){return(0,s.r2)(a.type,V)}),c=u.K_.ZERO;if(a&&(c=J.getSwapEstimatedGas()*J.getGasFeePrice(),b.filter(function(a){return a.balance<=c})),b.sort(function(a,b){return a.balance<b.balance?1:a.balance>b.balance?-1:0}),0===b.length)return[u.K_.ZERO,!1];var d=a&&1===b.length,e=d?b[0].balance-c:b[0].balance;return e<u.K_.ZERO&&(e=u.K_.ZERO),[e,d]},[V,O,R,A,J]),al=ak[0],am=ak[1],an=(0,k.useMemo)(function(){return null!==V?D(V):null},[V,D]),ao=(0,k.useMemo)(function(){return null!==Y?D(Y):null},[Y,D]),ap=(0,k.useCallback)(function(a){if(""!==a){var b=s.NS.fromString(a);if(null===b||b.demical>3||b.toNumber()>100)return}aj(a)},[]),aq=0;if("0.2"==af)aq=.002;else if("0.5"==af)aq=.005;else if("1.0"==af)aq=.01;else if("2.0"==af)aq=.02;else if("Disable"==af)aq=0;else if("Custom"==af){var ar=""!==ai?Number(ai):0;aq=(isNaN(ar)?0:ar)/100}var as=(0,k.useCallback)(function(){aF("from"),aI(!0)},[]),at=(0,k.useCallback)(function(){aF("to"),aI(!0)},[]),au=(0,k.useMemo)(function(){if(null===V||null===Y)return null;var a=!0,b=!1,c=void 0;try{for(var d,e=E[Symbol.iterator]();!(a=(d=e.next()).done);a=!0){var f=d.value,g=(0,s.r2)(f.type.xTokenType,V)&&(0,s.r2)(f.type.yTokenType,Y),h=(0,s.r2)(f.type.yTokenType,V)&&(0,s.r2)(f.type.xTokenType,Y);if(!0===g|| !0===h)return{pool:f,direction:g?"forward":"reverse"}}}catch(i){b=!0,c=i}finally{try{a||null==e.return||e.return()}finally{if(b)throw c}}return null},[E,V,Y]),av=(0,k.useCallback)(function(a){if(null!==V&&null!==an){var b,c,d=null!==(b=an.demical)&& void 0!==b?b:0;if(0!=d|| -1===a.indexOf(".")){var e=new s.NS(u.K_.ZERO,d);if(""!==a){if(null===(e=s.NS.fromString(a))||!e.canAlignTo(d))return;e=e.alignTo(d)}if(null!==e){if(aa(a),""===a){null!==Y&&ad("");return}if(null!==Y&&null!==ao&&null!==au&&au.pool.isInitialized()){var f="forward"===au.direction?au.pool.getXToYAmount(e.value):au.pool.getYToXAmount(e.value),g=new s.NS(f,null!==(c=ao.demical)&& void 0!==c?c:0).toString();ad(g)}}}}},[V,an,Y,ao,au]),aw=(0,k.useCallback)(function(a){if(null!==Y&&null!==ao){var b,c,d=null!==(b=ao.demical)&& void 0!==b?b:0;if(0!=d|| -1===a.indexOf(".")){var e=new s.NS(u.K_.ZERO,d);if(""!==a){if(null===(e=s.NS.fromString(a))||!e.canAlignTo(d))return;e=e.alignTo(d)}if(null!==e){if(ad(a),""===a){null!==V&&aa("");return}if(null!==V&&null!==an&&null!==au&&au.pool.isInitialized()){var f=u.K_.ZERO;if(e.value>u.K_.ZERO){for(var g=u.K_._1E0,h="forward"===au.direction?au.pool.x:au.pool.y;g<h;){var i,j=(g+h)/u.K_.TWO;(i=j,("forward"===au.direction?au.pool.getXToYAmount(i):au.pool.getYToXAmount(i))>=e.value)?h=j:g=j+u.K_.ONE}f=g}var k=new s.NS(f,null!==(c=an.demical)&& void 0!==c?c:0).toString();aa(k)}}}}},[Y,ao,V,an,au]),ax=(0,k.useCallback)(function(){W(Y),Z(V),aa(""),ad("")},[V,Y]),ay=(0,k.useMemo)(function(){if(""===_||null===an)return u.K_.ZERO;var a,b=null!==(a=an.demical)&& void 0!==a?a:0,c=s.NS.fromString(_);return null!==c&&c.canAlignTo(b)?c.alignTo(b).value:u.K_.ZERO},[_,an]),az=(0,k.useMemo)(function(){if(""===ac||null===ao)return u.K_.ZERO;var a,b=null!==(a=ao.demical)&& void 0!==a?a:0,c=s.NS.fromString(ac);return null!==c&&c.canAlignTo(b)?c.alignTo(b).value:u.K_.ZERO},[ac,ao]),aA=null;null!==al&&(aA=al===u.K_.ZERO?0:Number(ay*u.K_._1E7/al)/1e7);var aB=(0,k.useCallback)(function(a){if(a<=0||null===V||null===an||null===al||al<=u.K_.ZERO){aa(""),ad("");return}var b,c=null!==(b=an.demical)&& void 0!==b?b:0,d=al*BigInt(Math.round(1e7*a))/u.K_._1E7;d<=u.K_.ZERO?d=u.K_.ZERO:d>=al&&(d=al);var e=new s.NS(d,c);av(e.toString())},[av,V,an,al]),aC=(0,k.useMemo)(function(){if(null===au||null===an||null===ao||au.pool.x<=u.K_.ZERO||au.pool.y<=u.K_.ZERO)return null;var a,b,c,d,e=(0,n.Z)("forward"===au.direction?[ay,az]:[az,ay],2),f=e[0],g=e[1];if(f===u.K_.ZERO||g===u.K_.ZERO)return null;var h=(0,n.Z)("forward"===au.direction?[null!==(a=an.demical)&& void 0!==a?a:0,null!==(b=ao.demical)&& void 0!==b?b:0]:[null!==(c=ao.demical)&& void 0!==c?c:0,null!==(d=an.demical)&& void 0!==d?d:0],2),i=h[0],j=h[1],k=(0,v.$T)(BigInt(10),i),l=(0,v.$T)(BigInt(10),j),m=au.pool.y*k,o=au.pool.x*l,p=g*k,q=f*l,r=o>m,t=q>p,w=new s.NS(r?o*BigInt(1e8)/m:m*BigInt(1e8)/o,8),x=new s.NS(t?q*BigInt(1e8)/p:p*BigInt(1e8)/q,8),y=r?1/w.toNumber():w.toNumber(),z=t?1/x.toNumber():x.toNumber();return[{df:x,inverse:t,value:z},{df:w,inverse:r,value:y}]},[au,an,ao,ay,az]),aD=(0,k.useState)("initial"),aE=aD[0],aF=aD[1],aG=(0,k.useState)(!1),aH=aG[0],aI=aG[1],aJ=(0,k.useCallback)(function(a,b){return null===a||null===b||E.some(function(c){return c.isCapableSwappingForCoins(a,b)})},[E]),aK=(0,k.useMemo)(function(){return"from"===aE?F:"to"===aE?F.filter(function(a){return(null===V||a.name!==V.name)&&(null===Y||a.name!==Y.name)&&aJ(V,a)}):[]},[F,V,Y,aE,aJ]),aL=(0,k.useMemo)(function(){return aK.map(function(a){return[a,D(a)]})},[aK,D]),aM=(0,k.useState)(!1),aN=aM[0],aO=aM[1],aP=(0,k.useState)(!1),aQ=aP[0],aR=aP[1];(0,k.useEffect)(function(){aN&&null!==V&&null!==Y&&null!==an&&null!==ao&&(av(_),aO(!1))},[V,Y,an,ao,_,aN]),(0,k.useEffect)(function(){aQ&&null!==V&&null!==Y&&null!==an&&null!==ao&&(aw(ac),aR(!1))},[V,Y,an,ao,ac,aQ]);var aS=(0,k.useCallback)(function(a){aI(!1);var b=V,c=Y;"from"===aE?(b=a,null!==Y&&((0,s.r2)(Y,a)||!aJ(a,Y))&&(c=null)):"to"===aE&&(c=a,null!==V&&((0,s.r2)(V,a)||!aJ(V,a))&&(b=null)),W(b),Z(c),""!==_&&null!==b&&"to"===aE?aO(!0):""!==ac&&null!==c&&"from"===aE?aw(ac):(aa(""),ad(""))},[aE,aJ,aw,V,Y,_,ac]),aT=null,aU=null,aV="#d83939";if(null!==J&&"connected"===L&&null!==O){if(null===au&&(null===V||null===Y))aT="Please select the correct tokens for swapping",aU="error",aV="#d83939";else if(null!==V&&(null===al||al===u.K_.ZERO||ay>al))aT=am?"No enough balance to swap (gas include)":"No enough balance to swap",aU="error",aV="#d83939";else if(ay<=u.K_.ZERO&&""!==_)aT="Not correct input value",aU="error",aV="#d83939";else if(isNaN(aq)||aq<0)aT="Invalid slipplage input",aU="error",aV="#d83939";else if(null===au&&null!==V&&null!==Y)aT="Could not find pool(s) for swapping",aU="error",aV="#d83939";else if(null!==au&&null!==au.pool.getNotAvaliableForSwapReason())aT=au.pool.getNotAvaliableForSwapReason(),aU="error",aV="#d83939";else if(ay>u.K_.ZERO&&az===u.K_.ZERO)aT="Estimated output amount is zero",aU="warning",aV="#d88f39";else if(ay<=u.K_.ZERO&&""===_)aT="Not correct input value",aU="error-not-show",aV="#d83939";else if(null===V||null===Y)aT="Invalid coin input",aU="error-not-show",aV="#d83939";else if(null===au&&(null===V||null===Y))aT="No token pair select",aU="error-not-show",aV="#d83939";else if(null!==aC){var aW=aC[0],aX=aC[1],aY=function(a){return(0,w.IZ)(a,10)},aZ=aW.inverse?(0,d.jsx)("span",{children:aY(aW.value.toFixed(aW.df.demical))}):(0,d.jsx)(e.$z,{value:aW.df}),a$=aX.inverse?(0,d.jsx)("span",{children:aY(aX.value.toFixed(aX.df.demical))}):(0,d.jsx)(e.$z,{value:aX.df});aT=(0,d.jsxs)("span",{children:["Swap price: ",aZ,"(pool price: ",a$,")"]}),aU="info",aV="#2e98f1"}}else aT="Wallet is either not connected or cannot sign transaction",aU="warning",aV="#d88f39";var a_="error"!==aU&&"error-not-show"!==aU,a0=(0,k.useCallback)(function(){if(null!==A&&null!==au&&null!==an&&null!==ao&&null!==J&& !1!==a_&&ay!==u.K_.ZERO){"forward"===au.direction?au.pool.getXToYMinOutputAmount:au.pool.getYToXMinOutputAmount;var a,b=aq<=0?void 0:"forward"===au.direction?au.pool.getXToYMinOutputAmount(ay,aq):au.pool.getYToXMinOutputAmount(ay,aq),c=(a=(0,l.Z)(p().mark(function a(){var c;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,J.swap({client:A,pool:au.pool,direction:au.direction,amount:ay,minOutputAmount:b});case 2:return(c=a.sent).isSuccess()&&(C(),S(),T(),aa(""),ad("")),a.abrupt("return",c);case 5:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});(0,j.pn)(A,"Swap Coin ".concat(an.symbol," to ").concat(ao.symbol),c())}},[A,au,an,ao,J,ay,aq,C,S,T,aa,ad,a_]),a1=(0,k.useState)(!1),a2=a1[0],a3=a1[1],a4=(0,d.jsx)(d.Fragment,{});if(null!==an&&null!==ao&&null!==aC){var a5=aC[0].value,a6=aC[1].value,a7=a5<a6?(a6-a5)/a6:(a5-a6)/a5;isNaN(a7)&&(a7=0),a4=(0,d.jsx)(f.u,{presented:a2,setPresented:a3,contentWidth:430,title:"Confirm Swap",subtitle:"Make sure to check your actual swap price and price impact",children:(0,d.jsx)(P,{fromCoinUi:an,toCoinUi:ao,fromCoinAmount:_,toCoinAmount:ac,swapPrice:a5,marketPrice:a6,priceImpact:a7,onClick:function(){a3(!1),a0()}})})}return(0,d.jsxs)("div",{className:"swap-frame",style:(0,m.Z)({},null!=y?y:{}),children:[(0,d.jsx)(G,{pool:null!==(b=null==au?void 0:au.pool)&& void 0!==b?b:null,interval:10}),(0,d.jsx)(H,{interval:15}),(0,d.jsx)("div",{className:"swap-frame-title-frame",children:(0,d.jsx)("span",{children:"Exchange Token"})}),(0,d.jsxs)("div",{className:"swap-frame-panel-and-slippage-frame",children:[(0,d.jsxs)("div",{className:"swap-frame-panel-frame-outer-frame",children:[(0,d.jsxs)("div",{className:"swap-frame-panel-from-outer-frame",children:[(0,d.jsx)("div",{className:"swap-frame-panel-token-frame",children:(0,d.jsx)("div",{className:"swap-frame-panel-token-info-frame",children:null===an?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"swap-frame-panel-token-info-left-frame",children:[(0,d.jsx)("span",{className:"swap-frame-panel-token-info-left-frame-title",children:"From"}),(0,d.jsx)("span",{className:"swap-frame-panel-token-info-left-frame-span",children:"Select Your Token"})]}),(0,d.jsxs)("div",{className:"swap-frame-panel-token-info-right-select-token-frame",onClick:as,children:[(0,d.jsx)("span",{children:"Token"}),(0,d.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",padding:"4px 0px 0px 4px"},children:(0,d.jsx)(t.GG,{size:12,color:"#9da3ae"})})]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"swap-frame-panel-token-info-left-frame",children:[(0,d.jsx)("span",{className:"swap-frame-panel-token-info-left-frame-title",children:"From"}),(0,d.jsx)("input",{value:_,onInput:function(a){av(a.target.value)},className:"swap-frame-panel-token-info-left-frame-input",placeholder:"0.0"})]}),(0,d.jsx)("div",{className:"swap-frame-panel-token-info-right-token-info-frame",onClick:as,children:(0,d.jsxs)("div",{className:"swap-frame-panel-token-info-right-token-info-inner-frame",children:[(0,d.jsx)(r(),{alt:"",src:null!==(c=an.logoUrl)&& void 0!==c?c:u.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:29,height:29}),(0,d.jsx)("span",{className:"swap-frame-panel-token-info-right-token-info-inner-frame-token-title",children:an.symbol})]})})]})})}),(0,d.jsxs)("div",{className:"swap-frame-panel-from-hint-info-frame",children:[null!==aA&&null!==al?(0,d.jsxs)("span",{className:"swap-frame-panel-from-hint-text",children:[(0,d.jsxs)("span",{style:{fontWeight:700},children:[(100*aA).toFixed(2),(0,d.jsx)("span",{children:"%"})]}),(0,d.jsxs)("span",{children:["(",(0,d.jsx)(e.$z,{value:new s.NS(ay,null!==(o=null==an?void 0:an.demical)&& void 0!==o?o:0)}),(0,d.jsx)("span",{children:"/"}),(0,d.jsx)(e.$z,{value:new s.NS(al,null!==(q=null==an?void 0:an.demical)&& void 0!==q?q:0)}),")"]})]}):(0,d.jsx)(d.Fragment,{}),(0,d.jsxs)("div",{className:"swap-frame-panel-from-fast-set-button-group",children:[(0,d.jsx)("a",{className:"swap-frame-panel-from-fast-set-button",onClick:function(){aB(.25)},children:"25%"}),(0,d.jsx)("a",{className:"swap-frame-panel-from-fast-set-button",onClick:function(){aB(.5)},children:"50%"}),(0,d.jsx)("a",{className:"swap-frame-panel-from-fast-set-button",onClick:function(){aB(.75)},children:"75%"}),(0,d.jsx)("a",{className:"swap-frame-panel-from-fast-set-button",onClick:function(){aB(1)},children:"MAX"}),(0,d.jsx)("a",{className:"swap-frame-panel-from-fast-set-button",onClick:function(){aB(0)},children:"RESET"})]})]})]}),(0,d.jsx)("div",{onClick:ax,style:{width:18,height:18,cursor:"pointer"},children:(0,d.jsx)(t.G4,{size:18,color:"#000000"})}),(0,d.jsx)("div",{className:"swap-frame-panel-token-frame",children:(0,d.jsx)("div",{className:"swap-frame-panel-token-info-frame",children:null===ao?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"swap-frame-panel-token-info-left-frame",children:[(0,d.jsx)("span",{className:"swap-frame-panel-token-info-left-frame-title",children:"To"}),(0,d.jsx)("span",{className:"swap-frame-panel-token-info-left-frame-span",children:"Select Your Token"})]}),(0,d.jsxs)("div",{className:"swap-frame-panel-token-info-right-select-token-frame",onClick:at,children:[(0,d.jsx)("span",{children:"Token"}),(0,d.jsx)("div",{style:{display:"flex",flexDirection:"row",alignItems:"flex-start",padding:"4px 0px 0px 4px"},children:(0,d.jsx)(t.GG,{size:12,color:"#9da3ae"})})]})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"swap-frame-panel-token-info-left-frame",children:[(0,d.jsx)("span",{className:"swap-frame-panel-token-info-left-frame-title",children:"To"}),(0,d.jsx)("input",{value:ac,onInput:function(a){aw(a.target.value)},className:"swap-frame-panel-token-info-left-frame-input",placeholder:"0.0"})]}),(0,d.jsx)("div",{className:"swap-frame-panel-token-info-right-token-info-frame",onClick:at,children:(0,d.jsxs)("div",{className:"swap-frame-panel-token-info-right-token-info-inner-frame",children:[(0,d.jsx)(r(),{alt:"",src:null!==(x=ao.logoUrl)&& void 0!==x?x:u.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:29,height:29}),(0,d.jsx)("span",{className:"swap-frame-panel-token-info-right-token-info-inner-frame-token-title",children:ao.symbol})]})})]})})}),null===aT||"error-not-show"===aU?(0,d.jsx)(d.Fragment,{}):(0,d.jsx)(e.OY,{color:aV,message:aT})]}),(0,d.jsx)(Q,{slippageIndex:af,onSlippageIndexChange:ag,customSlippageValue:ai,onCustomSlippageValueChange:ap})]}),"connected"===L?(0,d.jsx)(e.vq,{text:"Swap",onClick:function(){a3(!0)},avaliable:a_}):(0,d.jsx)(e.vq,{text:"Connect Wallet",onClick:M,avaliable:!0}),(0,d.jsx)(f.u,{presented:aH,setPresented:aI,contentWidth:430,title:"Select Token",subtitle:"Select your token to swap",children:(0,d.jsx)(K,{coinTypeAndUis:aL,onSelectCoinType:aS})}),a4]})},S=c(9815);c(1664);var T=c(9694),U=function(a,b){var c="sui"==a.current?"Suiswap":"Aptoswap",e="sui"==a.current?(0,d.jsx)(t.FO,{size:b}):(0,d.jsx)(t.Nm,{size:b});return{name:c,logo:e}},V=function(){var a="2.1".split(".");return[a[0],a[1]].join(".")},W=c(1163),X=c(8190),Y=function(a){var b=a.onClick,c=a.title,d=useState(!1),e=d[0],f=d[1];return _jsx("div",{className:"connect-button-frame",style:{backgroundColor:e?"#2e98f1":"#ffffff00",cursor:void 0!==b?"pointer":"default"},onMouseOver:function(){f(!0)},onMouseOut:function(){f(!1)},onClick:b,children:_jsxs("div",{className:"connect-button-inner-frame",children:[_jsx(SvgLogoWallet,{color:e?"#ffffff":"#2e98f1",size:17}),_jsx("span",{style:{color:e?"#ffffff":"#2e98f1"},children:c})]})})},Z=function(a){var b=a.onClick,c=a.title,e=(0,k.useState)(!1),f=e[0],g=e[1];return(0,d.jsxs)("div",{className:"connect-button-frame-v2",onMouseOver:function(){g(!0)},onMouseOut:function(){g(!1)},onClick:b,children:[(0,d.jsx)(t.qN,{color:f?"#ffffff":"#2e98f1",size:18}),(0,d.jsx)("span",{children:c})]})},$=function(a){var b=a.children,c=a.href;return _jsx(Link,{href:c,passHref:!0,children:_jsx("a",{target:"_blank",className:"dtitlebar-nav-item",children:_jsx("span",{children:b})})})},_=function(a){var b=a.name,c=a.href,e=a.onClick,f=(0,k.useCallback)(function(){if(void 0!==c)return window.open(c,"_blank");void 0!==e&&e()},[e,c]);return(0,d.jsx)("div",{className:"title-bar-frame-v2-navigation-item",onClick:f,children:b})},aa=function(a){var b,c=a.items,e=a.verticalAlignWindowWidthThreadhold,f=(0,T.iE)(),h=U(f,30),i=h.name,j=h.logo,k=(0,X.d)().width,l=void 0!==e&&k<e,m=(0,W.useRouter)(),n=f.network,o=V(),p=(0,T.$1)("app-show-network-on-title-bar"),q=p?"".concat(n,"-").concat(o):o,r=(0,g.O)(),s=r.connected,t=r.disconnect,u=r.presentModal,v=c.map(function(a){return(0,d.jsx)(_,{name:a.name,href:a.href,onClick:a.onClick},a.name)}),w=null!==(b=(0,T.$1)("app-title-bar-items"))&& void 0!==b?b:[],x=w.map(function(a){var b=a.name,c=a.href;return(0,d.jsx)(_,{name:b,href:c},"extar-"+b)}),y=(0,S.Z)(v).concat((0,S.Z)(x)),z=y.flatMap(function(a){if(l)return[a];var b=(0,d.jsx)("div",{className:"title-bar-frame-v2-navigation-split-line",children:(0,d.jsx)("svg",{width:"2",height:"28",viewBox:"0 0 2 28",fill:"none",children:(0,d.jsx)("path",{d:"M1.36 27.752H0.72V0.103998H1.36V27.752Z",fill:"#9DA3AE"})})},a.key+"-splitline");return[a,b]});return(0,d.jsxs)("div",{className:l?"title-bar-frame-v2-vertical":"title-bar-frame-v2",children:[(0,d.jsxs)("div",{className:"title-bar-frame-v2-logo-frame",onClick:function(){m.push("/")},children:[j,(0,d.jsxs)("span",{children:[i,(0,d.jsx)("span",{children:" "}),(0,d.jsx)("span",{style:{fontStyle:"normal",fontWeight:"400",fontSize:"10px",lineHeight:"15px",color:"#9da3ae"},children:(0,d.jsx)("span",{children:q})})]})]}),(0,d.jsxs)("div",{className:l?"title-bar-frame-v2-navigation-item-frame-vertical":"title-bar-frame-v2-navigation-item-frame",children:[z,"connected"!==s?(0,d.jsx)(Z,{onClick:u,title:"Connect"}):void 0!==t?(0,d.jsx)(Z,{onClick:t,title:"Disconnect"}):(0,d.jsx)("div",{style:{backgroundColor:"#2e98f1",width:8,height:8,borderRadius:4,overflow:"hidden"}})]})]})},ab=function(a){var b=a.maxFrameWidth,c=a.style,e=(0,g.O)(),f=e.connected,h=e.presentModal,i=(0,X.d)().width<b,j=(0,T.Yb)(),l=j.twitter,o=j.discord,p=(0,k.useCallback)(function(){"connected"!==f&&h()},[f,h]),q=(0,d.jsxs)("span",{children:["Lightweight ","&"," ",(0,d.jsx)("span",{style:{fontWeight:700},children:"Powerful"})," ",(0,d.jsx)("span",{style:{fontWeight:500},children:"Swap Platform"})]}),s=(0,T.l6)();return void 0!==s&&(q=(0,d.jsx)("span",{children:s.map(function(a,b){var c=(0,n.Z)(a,2),e=c[0],f=c[1];return(0,d.jsx)("span",{style:{fontWeight:f},children:e},b)})})),(0,d.jsxs)("div",{className:"welcome-page-left-frame",style:(0,m.Z)({},null!=c?c:{}),children:[(0,d.jsx)("span",{className:"welcome-page-left-frame-title",style:i?{maxWidth:500}:{},children:q}),(0,d.jsxs)("div",{className:"welcome-page-left-frame-button-group",children:[(0,d.jsx)("a",{className:"welcome-page-left-frame-enter-app-button welcome-page-left-frame-button",onClick:p,children:"Enter App"}),(0,d.jsxs)("div",{className:"welcome-page-left-frame-social-frame",children:[void 0!==o?(0,d.jsx)("a",{href:o,target:"_blank",rel:"noreferrer",className:"anim-hover-transition-bigger-105",style:{filter:"drop-shadow(0px 2px 4px #5865f2)",borderRadius:12,overflow:"hidden"},children:(0,d.jsx)(r(),{alt:"href-icon-discord",src:"/images/social/icon-discord.svg",width:24,height:24})}):(0,d.jsx)(d.Fragment,{}),void 0!==l?(0,d.jsx)("a",{href:l,target:"_blank",rel:"noreferrer",className:"anim-hover-transition-bigger-105",style:{filter:"drop-shadow(0px 2px 4px #1d9bf0)",borderRadius:12,overflow:"hidden"},children:(0,d.jsx)(r(),{alt:"href-icon-twitter",src:"/images/social/icon-twitter.svg",width:24,height:24})}):(0,d.jsx)(d.Fragment,{})]})]})]})},ac=function(a){var b,c,f,g,h=a.coinUi1,i=a.coinUi2,j=a.info,k=a.showSplitLine,l=a.onClickHarvestButton,m=j.getShareRatio(),o=(0,n.Z)(j.getShareCoinAmounts(),2),p=o[0],q=o[1],r=null!==(b=h.demical)&& void 0!==b?b:0,t=null!==(c=i.demical)&& void 0!==c?c:0,v=new s.NS(p,r),w=new s.NS(q,t),x=(0,d.jsx)(e.$z,{value:v,width:7,hintFontSize:7,precision:4}),y=(0,d.jsx)(e.$z,{value:w,width:7,hintFontSize:7,precision:4}),z=(0,d.jsx)("div",{className:"position-item-pool-name",children:(0,d.jsxs)("div",{className:"position-item-pool-name-inner",children:[(0,d.jsx)(e.pj,{path1:null!==(f=h.logoUrl)&& void 0!==f?f:u.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,path2:null!==(g=i.logoUrl)&& void 0!==g?g:u.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH}),(0,d.jsxs)("span",{className:"position-item-pool-name-token-pair-info",children:[(0,d.jsx)("span",{children:h.symbol}),(0,d.jsx)("span",{style:{fontWeight:300},children:"/"}),(0,d.jsx)("span",{children:i.symbol})]})]})}),D=(0,d.jsx)(A,{title:"Share",width:108,textColor:"#2e98f1",children:(0,d.jsxs)("span",{style:{fontWeight:700},children:[(0,d.jsx)(e.$h,{value:100*m,hintFontSize:7,width:10,precision:4})," %"]})}),E=(0,d.jsx)(A,{title:"Holding",width:199,textColor:"#2e98f1",children:(0,d.jsxs)("span",{children:[x,(0,d.jsx)("span",{children:" "}),(0,d.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:h.symbol}),(0,d.jsx)("span",{style:{fontWeight:"400",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:"/"}),y,(0,d.jsx)("span",{children:" "}),(0,d.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:i.symbol})]})});return(0,d.jsxs)("div",{className:"position-item",children:[(0,d.jsxs)("div",{className:"position-item-content",children:[z,D,E,(0,d.jsx)(C,{title:"Withdraw",fontSize:18,fontWeight:500,borderRadius:12,size:["fixed",151,37],onClick:function(){void 0!==l&&l(j,h,i)}})]}),k?(0,d.jsx)(B,{}):(0,d.jsx)(d.Fragment,{})]})},ad=function(a){var b,c,f,g,h,i,j,l,m=a.coinUi1,n=a.coinUi2,o=a.info,p=a.tvl,q=a.apy,r=a.tradeVolume,t=a.showSplitLine,v=a.onClickDepositButton,w=(0,k.useState)(!1),x=w[0],y=w[1],z=o.getPrice(null!==(b=m.demical)&& void 0!==b?b:0,null!==(c=n.demical)&& void 0!==c?c:0),D=(0,d.jsx)(e.$h,{value:z,hintFontSize:7,width:7,precision:4}),E=o.x,F=o.y,G=o.totalTradeX24h,H=o.totalTradeY24h,I=new s.NS(E,null!==(f=m.demical)&& void 0!==f?f:0),J=new s.NS(F,null!==(g=n.demical)&& void 0!==g?g:0),K=new s.NS(G,null!==(h=m.demical)&& void 0!==h?h:0),L=new s.NS(H,null!==(i=n.demical)&& void 0!==i?i:0),M=Number(o.incentiveFee+o.lpFee)/100,N=Number(o.incentiveFee)/100,O=(0,d.jsx)(e.$z,{value:I,hintFontSize:7,width:6,precision:4}),P=(0,d.jsx)(e.$z,{value:J,hintFontSize:7,width:6,precision:4}),Q=(0,d.jsx)(e.$z,{value:K,hintFontSize:7,width:6,precision:4}),R=(0,d.jsx)(e.$z,{value:L,hintFontSize:7,width:6,precision:4}),S="".concat((100*q).toFixed(3),"%"),T=(0,d.jsxs)("span",{children:[(0,d.jsx)(e.$h,{value:p,hintFontSize:7,width:14,precision:7}),(0,d.jsx)("span",{children:"$"})]}),U=(0,d.jsx)("div",{className:"pool-item-expand-frame",style:{transform:x?"scaleY(-1)":void 0},children:(0,d.jsx)("div",{className:"pool-item-expand-frame-detail-button",children:(0,d.jsx)("svg",{width:"10",height:"6",viewBox:"0 0 10 6",fill:"none",children:(0,d.jsx)("path",{d:"M1.5 1.44995L5 4.94995L8.5 1.44995",stroke:"#343434",strokeWidth:"1.3",strokeLinecap:"round",strokeLinejoin:"round"})})})}),V=(0,d.jsxs)("div",{className:"position-item-pool-name no-userselect pointer-cursor",onClick:function(){y(function(a){return!a})},children:[(0,d.jsxs)("div",{className:"position-item-pool-name-inner",children:[(0,d.jsx)(e.pj,{path1:null!==(j=m.logoUrl)&& void 0!==j?j:u.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,path2:null!==(l=n.logoUrl)&& void 0!==l?l:u.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH}),(0,d.jsxs)("span",{className:"position-item-pool-name-token-pair-info",children:[(0,d.jsx)("span",{children:m.symbol}),(0,d.jsx)("span",{style:{fontWeight:300},children:"/"}),(0,d.jsx)("span",{children:n.symbol})]})]}),U]}),W=(0,d.jsxs)("div",{className:"pool-item-content-detail-split-row",children:[(0,d.jsx)("div",{className:"pool-item-content-detail-split-row-split-line-1",children:(0,d.jsx)("div",{className:"app-content-split-line-inner"})}),(0,d.jsx)("div",{className:"pool-item-content-detail-split-row-split-line-2",children:(0,d.jsx)("div",{className:"app-content-split-line-inner"})})]}),X=(0,d.jsx)("div",{className:"pool-item-content-detail-split-row",children:(0,d.jsx)("div",{className:"pool-item-content-detail-split-row-split-line-1",children:(0,d.jsx)("div",{className:"app-content-split-line-inner"})})}),Y=(0,d.jsx)(A,{title:"Price",textColor:"#343434",width:108,children:(0,d.jsx)("span",{style:{fontWeight:700},children:D})}),Z=(0,d.jsx)(A,{title:"Reserve",textColor:"#343434",width:199,children:(0,d.jsxs)("span",{children:[O,(0,d.jsx)("span",{children:" "}),(0,d.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:m.symbol}),(0,d.jsx)("span",{style:{fontWeight:"400",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:"/"}),P,(0,d.jsx)("span",{children:" "}),(0,d.jsx)("span",{style:{fontWeight:"600",fontSize:"12px",lineHeight:"18px",color:"#9da3ae"},children:n.symbol})]})}),$=(0,d.jsx)(A,{title:"APR",textColor:"#343434",width:108,children:S}),_=(0,d.jsx)(A,{title:"TVL",textColor:"#343434",width:199,children:T}),aa=(0,d.jsx)(A,{title:"LP Reward Fee",textColor:"#343434",width:280,children:(0,d.jsxs)("span",{children:[(0,d.jsxs)("span",{style:{fontWeight:700,color:N>0?"#2e98f1":"#343434"},children:[M.toFixed(2),"%"]}),N>0?(0,d.jsxs)("span",{style:{color:"#2e98f1"},children:[(0,d.jsx)("span",{style:{fontWeight:400},children:"("}),(0,d.jsxs)("span",{style:{fontWeight:700},children:[N.toFixed(2),"% "]}),(0,d.jsx)("span",{style:{fontWeight:500,fontSize:8},children:" Incentive Boost"}),(0,d.jsx)("span",{style:{fontWeight:400},children:")"})]}):(0,d.jsx)(d.Fragment,{})]})}),ab=(0,d.jsx)(A,{title:"Trade 24h",textColor:"#343434",width:280,children:(0,d.jsxs)("span",{children:[(0,d.jsx)(e.$h,{value:r,hintFontSize:7,width:12,precision:6}),(0,d.jsx)("span",{children:"$"}),(0,d.jsxs)("span",{style:{fontSize:12},children:[(0,d.jsx)("span",{children:" ("}),Q,(0,d.jsx)("span",{children:" "}),(0,d.jsx)("span",{style:{fontWeight:"600",fontSize:"10px",color:"#9da3ae"},children:m.symbol}),(0,d.jsx)("span",{style:{fontWeight:"400",fontSize:"10px",color:"#9da3ae"},children:"/"}),R,(0,d.jsx)("span",{children:" "}),(0,d.jsx)("span",{style:{fontWeight:"600",fontSize:"10px",color:"#9da3ae"},children:n.symbol}),(0,d.jsx)("span",{children:")"})]})]})}),ac=(0,d.jsxs)("div",{className:"pool-item-content-defailt-row",children:[Y,Z]}),ad=x?(0,d.jsxs)(d.Fragment,{children:[W,(0,d.jsxs)("div",{className:"pool-item-content-defailt-row",children:[$,_]})]}):(0,d.jsx)(d.Fragment,{}),ae=x?(0,d.jsxs)(d.Fragment,{children:[X,(0,d.jsx)("div",{className:"pool-item-content-defailt-row",children:ab})]}):(0,d.jsx)(d.Fragment,{}),af=x?(0,d.jsxs)(d.Fragment,{children:[X,(0,d.jsx)("div",{className:"pool-item-content-defailt-row",children:aa})]}):(0,d.jsx)(d.Fragment,{}),ag=(0,d.jsxs)("div",{className:"pool-item-content-detail",children:[ac,ad,af,ae]});return(0,d.jsxs)("div",{className:"pool-item",children:[(0,d.jsxs)("div",{className:"pool-item-content",children:[V,ag,(0,d.jsx)(C,{title:"Add",fontSize:18,fontWeight:500,borderRadius:12,size:["fixed",151,37],onClick:function(){void 0!==v&&v(o,m,n)}})]}),t?(0,d.jsx)(B,{}):(0,d.jsx)(d.Fragment,{})]})},ae=function(a){var b=a.positions,c=a.pools,e=a.onClickDepositButton,f=a.onClickHarvestButton,g=(0,k.useState)(""),j=g[0],l=g[1],m=(0,i.K)().refreshAccountCoins,n=(0,h.s)().refresh,o=function(a){!1!==/^[a-zA-Z0-9]*$/.test(a)&&l(a)},p=b.map(function(a,c){var e=a.info,g=a.coinUi1,h=a.coinUi2;return(0,d.jsx)(ac,{coinUi1:g,coinUi2:h,info:e,showSplitLine:c<b.length-1,onClickHarvestButton:f},e.getUuid())}),q=(0,k.useMemo)(function(){var a=(""===j?c:c.filter(function(a){return a.coinUi1.symbol.toLowerCase().includes(j.toLowerCase())||a.coinUi2.symbol.toLowerCase().includes(j.toLowerCase())})).sort(function(a,b){return a.tvl>b.tvl?-1:a.tvl<b.tvl?1:a.tradeVolume>b.tradeVolume?-1:a.tradeVolume<b.tradeVolume?1:a.coinUi1.symbol<b.coinUi1.symbol?-1:a.coinUi1.symbol>b.coinUi1.symbol?1:a.coinUi2.symbol<b.coinUi2.symbol?-1:a.coinUi2.symbol>b.coinUi2.symbol?1:0});return(0,S.Z)(a.filter(function(a){return a.info.isAvaliableForSwap()})).concat((0,S.Z)(a.filter(function(a){return!a.info.isAvaliableForSwap()})))},[c,j]),r=q.map(function(a,b){var c=a.info,f=a.coinUi1,g=a.coinUi2,h=a.tvl,i=a.apy,j=a.tradeVolume;return(0,d.jsx)(ad,{coinUi1:f,coinUi2:g,info:c,tvl:h,apy:i,tradeVolume:j,showSplitLine:b<q.length-1,onClickDepositButton:e},c.getUuid())}),s=p.length>0?p:(0,d.jsx)(D,{text:"No Position Found"}),t=r.length>0?r:(0,d.jsx)(D,{text:"No Pool Found"});return(0,d.jsx)("div",{className:"app-content-section-frame",children:(0,d.jsxs)("div",{className:"app-content-section-frame-inner",children:[(0,d.jsx)(x,{text:j,onInput:o,placeholder:"Search Pool"}),(0,d.jsxs)(y,{gap:39,children:[(0,d.jsx)(z,{title:"Position",gap:8,refreshFn:m,refreshToastTitle:"Position",children:s}),(0,d.jsx)(z,{title:"Pool",gap:8,bottom:100,refreshFn:n,refreshToastTitle:"Pool",children:t})]})]})})},af=function(a){var b=a.name,c=a.src,f=a.balance,g=a.showSplitLine,h=g?(0,d.jsx)("div",{className:"token-column-item-split-line",children:(0,d.jsx)("div",{className:"app-content-split-line-inner"})}):(0,d.jsx)(d.Fragment,{}),i=(0,d.jsx)("div",{className:"token-column-item-token-name",children:(0,d.jsxs)("div",{className:"token-column-item-token-name-inner",children:[(0,d.jsx)(r(),{src:null!=c?c:u.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:29,height:29,style:{overflow:"hidden",borderRadius:15}}),(0,d.jsx)("span",{children:b})]})}),j=(0,d.jsxs)("div",{className:"token-column-item-balance",children:[(0,d.jsx)("div",{className:"token-column-item-balance-title",children:"Balance"}),(0,d.jsx)("span",{className:"token-column-item-balance-info",children:(0,d.jsx)(e.$z,{value:f,hintFontSize:7,width:7,precision:4})})]});return(0,d.jsxs)("div",{className:"token-column-item",children:[(0,d.jsxs)("div",{className:"token-column-item-detail",children:[i,j]}),h]})},ag=function(a){var b=a.name,c=a.src,e=a.title,f=a.showSplitLine,g=a.onClickMintButton,h=a.background,i=f?(0,d.jsx)("div",{className:"mint-column-item-split-line",children:(0,d.jsx)("div",{className:"app-content-split-line-inner"})}):(0,d.jsx)(d.Fragment,{}),j=(0,d.jsx)("div",{className:"mint-column-item-token-name",children:(0,d.jsxs)("div",{className:"mint-column-item-token-name-inner",children:[(0,d.jsx)(r(),{src:c,width:29,height:29,style:{overflow:"hidden",borderRadius:15}}),(0,d.jsx)("span",{children:b})]})}),k=(0,d.jsx)("div",{className:"mint-column-item-mint-button-wrapped",children:(0,d.jsx)(C,{title:e,fontSize:16,fontWeight:500,borderRadius:7,size:["fixed",86,28],grow:void 0===h?"hover":"never",style:{background:h},buttonEnabled:!0,onClick:function(){void 0!==g&&g()}})});return(0,d.jsxs)("div",{className:"mint-column-item",children:[(0,d.jsxs)("div",{className:"mint-column-item-inner",children:[j,k]}),i]})},ah=function(a){var b=a.coin1,c=a.coin2,e=a.showSplitLine;return(0,d.jsxs)("div",{className:"token-item",children:[(0,d.jsx)(af,{name:b.name,src:b.src,balance:b.balance,showSplitLine:e}),null!==c?(0,d.jsx)(af,{name:c.name,src:c.src,balance:c.balance,showSplitLine:e}):(0,d.jsx)(d.Fragment,{})]})},ai=function(a){var b=a.coin1,c=a.coin2,e=a.showSplitLine;return(0,d.jsxs)("div",{className:"mint-item",children:[(0,d.jsx)(ag,{name:b.name,title:b.title,src:b.src,showSplitLine:e,onClickMintButton:b.action,background:b.background}),null!==c?(0,d.jsx)(ag,{name:c.name,title:c.title,src:c.src,showSplitLine:e,onClickMintButton:c.action,background:c.background}):(0,d.jsx)(d.Fragment,{})]})},aj=function(a){for(var b=a.coins,c=a.mintCoins,e=(0,k.useState)(""),f=e[0],g=e[1],h=(0,i.K)().refreshAccountCoins,j=function(a){!1!==/^[a-zA-Z0-9]*$/.test(a)&&g(a)},l=""===f?b:b.filter(function(a){return a.name.toLowerCase().includes(f.toLowerCase())}),m=l.length%2==1?(0,S.Z)(l).concat([null]):l,o=[],p=0;p<m.length;p+=2){var q=m[p],r=m[p+1],s=q.name+"-"+(null===r?"NULL":r.name);o.push([q,r,s])}for(var t=c.length%2==1?(0,S.Z)(c).concat([null]):c,u=[],v=0;v<t.length;v+=2){var w=t[v],A=t[v+1],B=(null===w?"NULL":w.name)+"-"+(null===A?"NULL":A.name);u.push([w,A,B])}var C=o.map(function(a,b){var c=(0,n.Z)(a,3),e=c[0],f=c[1],g=c[2];return(0,d.jsx)(ah,{coin1:e,coin2:f,showSplitLine:b<o.length-1},g)}),D=u.map(function(a){var b=(0,n.Z)(a,3),c=b[0],e=b[1],f=b[2];return(0,d.jsx)(ai,{coin1:c,coin2:e,showSplitLine:!0},f)});return(0,d.jsx)("div",{className:"app-content-section-frame",children:(0,d.jsxs)("div",{className:"app-content-section-frame-inner",children:[(0,d.jsx)(x,{placeholder:"Search Token",text:f,onInput:j}),(0,d.jsxs)(y,{gap:39,children:[(0,d.jsx)(z,{title:"Token",gap:12,refreshFn:h,refreshToastTitle:"Token",children:C}),(0,d.jsx)(E,{condition:D.length>0,children:(0,d.jsx)(z,{title:"Info",gap:14,bottom:100,children:D})})]})]})})},ak=c(730),al=function(a){var b=a.success,c=a.title,f=a.token1Amount,g=a.token1Name,h=a.token2Amount,i=a.token2Name,j=a.time,k=a.split,l=a.href,m=b?"#4fb291":"#a73232",n=b?(0,d.jsx)(t.XE,{size:20,color:m}):(0,d.jsx)(t.mu,{size:20,color:m}),o=(0,d.jsx)("div",{className:"transaction-item-split-line",children:(0,d.jsx)("div",{className:"app-content-split-line-inner"})}),p={fontStyle:"normal",fontWeight:"600",fontSize:"16px",lineHeight:"24px",color:m},q={fontStyle:"normal",fontWeight:"600",fontSize:"16px",lineHeight:"24px",color:"#343434"};return(0,d.jsxs)("div",{className:"transaction-item",children:[(0,d.jsxs)("div",{className:"transaction-item-inner",onClick:function(){window.open(l,"_blank")},children:[(0,d.jsxs)("div",{className:"transaction-item-inner-main",children:[n,(0,d.jsxs)("span",{children:[(0,d.jsxs)("span",{style:{fontStyle:"normal",fontWeight:"500",fontSize:"28px",lineHeight:"42px",color:m},children:[(0,d.jsx)("span",{children:c}),(0,d.jsx)("span",{children:" "})]}),void 0!==f?(0,d.jsxs)("span",{style:p,children:[(0,d.jsx)(e.$z,{value:f,width:8,precision:4}),(0,d.jsx)("span",{children:" "})]}):(0,d.jsx)(d.Fragment,{}),(0,d.jsx)("span",{style:q,children:g}),(0,d.jsx)("span",{style:{fontStyle:"normal",fontWeight:"arrow"===k?"500":"400",fontSize:"14px",lineHeight:"21px",color:"#343434"},children:"arrow"===k?" to ":" and "}),void 0!==h?(0,d.jsxs)("span",{style:p,children:[(0,d.jsx)(e.$z,{value:h,width:8,precision:4}),(0,d.jsx)("span",{children:" "})]}):(0,d.jsx)(d.Fragment,{}),(0,d.jsx)("span",{style:q,children:i})]})]}),(0,d.jsx)("div",{className:"transaction-item-inner-time",children:"TIME: ".concat(j)})]}),o]})},am=function(a){var b=a.transactions,c=a.getCoinUi,e=(0,i.K)().refreshTransactions,f=(0,k.useMemo)(function(){return b.map(function(a){var b,e,f=a.success,g=(0,w.i$)(Math.max(100,a.timestamp)),h=a.type[0].toUpperCase()+a.type.slice(1),i=null,j=null,k=null,l=null,m="arrow";if("swap"===a.type){var n,o=a.data;i=o.inAmount,j=null!==(n=o.outAmount)&& void 0!==n?n:null,k="forward"==o.direction?o.poolType.xTokenType:o.poolType.yTokenType,l="forward"==o.direction?o.poolType.yTokenType:o.poolType.xTokenType,m="arrow"}else if("deposit"===a.type){var p=a.data;i=p.inAmountX,j=p.inAmountY,k=p.poolType.xTokenType,l=p.poolType.yTokenType,m="slash"}else if("withdraw"===a.type){var q,r,t=a.data;i=null!==(q=t.outAmountX)&& void 0!==q?q:null,j=null!==(r=t.outAmountY)&& void 0!==r?r:null,k=t.poolType.xTokenType,l=t.poolType.yTokenType,m="slash"}if(null===k||null===l)return null;var u=c(k),v=c(l);if((0,ak.Kq)(u)||(0,ak.Kq)(v))return null;var x=null!==i?new s.NS(i,null!==(b=u.demical)&& void 0!==b?b:0):void 0,y=null!==j?new s.NS(j,null!==(e=v.demical)&& void 0!==e?e:0):void 0;return(0,d.jsx)(al,{success:f,title:h,token1Amount:x,token1Name:u.symbol,token2Amount:y,token2Name:v.symbol,time:g,split:m,href:a.href},a.id)}).filter(function(a){return null!==a})},[b,c]),g=f.length>0?f:(0,d.jsx)(D,{text:"No Transaction Found"});return(0,d.jsx)("div",{className:"app-content-section-frame",children:(0,d.jsx)("div",{className:"app-content-section-frame-inner",children:(0,d.jsx)(y,{gap:39,children:(0,d.jsx)(z,{title:"Transaction",gap:19,refreshFn:e,refreshToastTitle:"Transactions",children:g})})})})},an=c(6899),ao=k.forwardRef(function(a,b){var c=a.maxFrameWidth,e=a.maxFrameHeight,n=a.style,o=(0,h.s)(),q=o.client,r=o.coins,t=o.getCoinUi,v=o.pools,w=o.primaryCoinPrice,x=(0,g.O)().wallet,y=(0,i.K)(),z=y.accountAddr,A=y.accountCoins,B=y.refreshAccountCoins,C=y.transactionInfos,D=(0,k.useMemo)(function(){return null===q||null===A?[]:q.getAccountPositionInfos(v,A)},[q,v,A]),E=(0,k.useMemo)(function(){return D.map(function(a){var b=t(a.poolInfo.type.xTokenType),c=t(a.poolInfo.type.yTokenType);return{info:a,coinUi1:b,coinUi2:c}})},[D,t]),F=(0,k.useMemo)(function(){return v.filter(function(a){return!1===a.freeze}).map(function(a){var b,c,d,e=t(a.type.xTokenType),f=t(a.type.yTokenType),g=null!==q&&null!==w&&null!==(b=a.getTvl(q,w,e,f))&& void 0!==b?b:0,h=null!==q&&null!==w&&null!==(c=a.getTradeVolumne24h(q,w,e,f))&& void 0!==c?c:0,i=null!==(d=a.getApr())&& void 0!==d?d:0;return{info:a,coinUi1:e,coinUi2:f,tvl:g,apy:i,tradeVolume:h}})},[q,v,t,w]),G=(0,k.useMemo)(function(){return F.filter(function(a){return"v2"==a.info.swapType})},[F]),H=(0,k.useMemo)(function(){return F.filter(function(a){return"stable"==a.info.swapType})},[F]),I=(0,k.useMemo)(function(){return E.filter(function(a){return"v2"==a.info.poolInfo.swapType})},[E]),J=(0,k.useMemo)(function(){return E.filter(function(a){return"stable"==a.info.poolInfo.swapType})},[E]),K=(0,k.useState)(null),L=K[0],M=K[1],P=(0,k.useState)(!1),Q=P[0],R=P[1],S=(0,k.useCallback)(function(a){M(a),R(!0)},[M,R]),U=(0,k.useState)(null),V=U[0],W=U[1],X=(0,k.useState)(!1),Y=X[0],Z=X[1],$=(0,k.useCallback)(function(a){W(a),Z(!0)},[W,Z]),_=(0,k.useMemo)(function(){return new Set(r.map(function(a){return a.name}))},[r]),aa=(0,k.useMemo)(function(){var a=new Map;(null!=A?A:[]).forEach(function(b){if(_.has(b.type.name)){var c=a.get(b.type.name);if(void 0!==c)c.balance.value=c.balance.value+b.balance;else{var d,e,f=t(b.type);a.set(b.type.name,{name:f.symbol,src:null!==(d=f.logoUrl)&& void 0!==d?d:u.d_.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,balance:new s.NS(b.balance,null!==(e=f.demical)&& void 0!==e?e:0)})}}});var b=Array.from(a.values());return b.sort(function(a,b){return a.name<b.name?-1:a.name>b.name?1:0}),b},[A,_,t]),ab=(0,k.useMemo)(function(){var a;return null!==(a=(0,T.$1)("app-position-section-extra-buttons"))&& void 0!==a?a:[]},[]),ac=(0,k.useMemo)(function(){return ab.map(function(a){var b=a.name,c=a.src,d=a.action,e=a.href,f=a.buttonTitle,g=a.background;return{name:b,title:void 0!==f?f:void 0!==d?"Mint":"Link",src:c,background:g,action:function(){var a,c=(a=(0,l.Z)(p().mark(function a(){var b;return p().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(!(null!==x&&null!==q&& void 0!==x.executeRawTransaction)){a.next=6;break}return a.next=3,x.executeRawTransaction(q,d);case 3:return b=a.sent,B(),a.abrupt("return",b);case 6:return a.abrupt("return",an.nu.Fail("Never happens"));case 7:case"end":return a.stop()}},a)})),function(){return a.apply(this,arguments)});null!==x&&null!==q&& void 0!==x.executeRawTransaction&&(void 0!==d?(0,j.pn)(q,"Mint ".concat(b),c()):void 0!==e&&window.open(e,"_blank"))}}})},[x,q,ab,B]),ad=(0,k.useCallback)(function(a){var b=0;return"pool"===a?b=0:"stablepool"==a?b=1:"token"===a?b=2:"transaction"===a&&(b=3),b*c},[c]),af=(0,k.useRef)(null),ag=(0,k.useState)("pool"),ah=ag[0],ai=ag[1],ak=(0,k.useCallback)(function(a){ai(a);var b=ad(ah),d=ad(a);null!==af.current&&function(a,b,c,d){var e=void 0,f=void 0,g=void 0,h=window.requestAnimationFrame;function i(j){void 0===e&&(e=j);var k,l=j-e;f=b+(c-b)*Math.max(Math.min((k=l/d)<.5?2*k*k:1-Math.pow(-2*k+2,2)/2,1),0),a.scrollLeft=f,l<d?g=h(i):a.scrollLeft=c}window.cancelAnimationFrame,g=h(i)}(af.current,b,d,Math.abs(d-b)/(c/200))},[ah,ai,af,c,ad]),al=(0,d.jsx)("div",{className:"app-selection-title-frame-split",children:"|"}),ao=(0,d.jsxs)("div",{className:"app-section-selection-frame no-userselect",children:[(0,d.jsx)("div",{className:"pool"===ah?"app-section-selection-frame-selected":"app-selection-title-frame",onClick:function(){ak("pool")},children:"Pool"}),al,(0,d.jsx)("div",{className:"stablepool"===ah?"app-section-selection-frame-selected":"app-selection-title-frame",onClick:function(){ak("stablepool")},children:"Stable Pool"}),al,(0,d.jsx)("div",{className:"token"===ah?"app-section-selection-frame-selected":"app-selection-title-frame",onClick:function(){ak("token")},children:"Token"}),al,(0,d.jsx)("div",{className:"transaction"===ah?"app-section-selection-frame-selected":"app-selection-title-frame",onClick:function(){ak("transaction")},children:"Transaction"})]});return(0,d.jsxs)("div",{ref:b,className:"app-frame",style:(0,m.Z)({},null!=n?n:{}),children:[ao,(0,d.jsxs)("div",{ref:af,className:"app-content-frame",style:{width:c,height:e},children:[(0,d.jsx)(ae,{positions:I,pools:G,onClickHarvestButton:$,onClickDepositButton:S}),(0,d.jsx)(ae,{positions:J,pools:H,onClickHarvestButton:$,onClickDepositButton:S}),(0,d.jsx)(aj,{coins:aa,mintCoins:ac}),(0,d.jsx)(am,{transactions:C,getCoinUi:t})]}),(0,d.jsx)(f.u,{presented:Q,setPresented:R,contentWidth:460,title:"Deposit Tokens",subtitle:"Select the amount of tokens to deposit",children:(0,d.jsx)(N,{poolInfo:L,getCoinUi:t,wallet:x,client:q,accountAddr:z,dismissModal:function(){R(!1)}})}),(0,d.jsx)(f.u,{presented:Y,setPresented:Z,contentWidth:442,title:"Withdraw Tokens",subtitle:"Select the ratio to withdraw",children:(0,d.jsx)(O,{positionInfo:V,getCoinUi:t,dismissModal:function(){Z(!1)}})})]})});ao.displayName="AppFrame";var ap=c(6701),aq=c(1838),ar=function(a){var b=a.enterTransition,c=(0,X.d)().width,e=c<1230,f=void 0;e&&c<850&&(f=c/850)>1&&(f=void 0);var h=(0,g.O)().connected,i=(0,k.useRef)(null),j=(0,d.jsx)("div",{style:{width:1,height:50}});return e?(0,d.jsxs)("div",{className:"welcome-page-frame-vertical",children:[(0,d.jsx)(R,{style:{zoom:f}}),(0,d.jsx)(E,{condition:"connected"!==h,children:(0,d.jsx)(ab,{maxFrameWidth:1230,style:{zoom:f}})}),b?(0,d.jsx)(ap.Z,{nodeRef:i,in:"connected"===h,mountOnEnter:!0,unmountOnExit:!0,timeout:{enter:1e3,exit:0},classNames:"trans-fade-in",children:(0,d.jsx)(ao,{ref:i,maxFrameWidth:760,maxFrameHeight:850,style:{zoom:f}})}):(0,d.jsx)(E,{condition:"connected"===h,children:(0,d.jsx)(ao,{ref:i,maxFrameWidth:760,maxFrameHeight:850,style:{zoom:f}})}),j]}):(0,d.jsxs)("div",{className:"welcome-page-frame",children:[(0,d.jsx)(E,{condition:"connected"!==h,children:(0,d.jsx)(ab,{maxFrameWidth:1230})}),b?(0,d.jsx)(ap.Z,{nodeRef:i,in:"connected"===h,mountOnEnter:!0,unmountOnExit:!0,timeout:{enter:1e3,exit:0},classNames:"trans-fade-in",children:(0,d.jsx)(ao,{ref:i,maxFrameWidth:760,maxFrameHeight:850})}):(0,d.jsx)(E,{condition:"connected"===h,children:(0,d.jsx)(ao,{ref:i,maxFrameWidth:760,maxFrameHeight:850})}),(0,d.jsx)(R,{})]})},as=function(a){var b=a.enterTransition;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(F,{interval:60}),(0,d.jsx)(I,{interval:20}),(0,d.jsx)("div",{style:{width:"100%",height:"100vh",background:"#f9f9f9"},children:(0,d.jsx)(aq.A,{opacity:.6})}),(0,d.jsx)("div",{className:"main-frame-outer-2",children:(0,d.jsx)("div",{className:"main-frame-outer-1",children:(0,d.jsxs)(e.Ku,{width:1230,style:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"17px 0px 0px",gap:"10px"},children:[(0,d.jsx)(aa,{items:[],verticalAlignWindowWidthThreadhold:720}),(0,d.jsx)("div",{className:"welcome-page-outer-frame",children:(0,d.jsx)(ar,{enterTransition:b})})]})})})]})},at=function(){var a=(0,W.useRouter)().query.walletName;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e.UJ,{}),(0,d.jsx)(f.t,{children:(0,d.jsx)(g.z,{preferredAutoConnectWalletName:a,children:(0,d.jsx)(h.R,{children:(0,d.jsxs)(i.S,{children:[(0,d.jsx)(as,{enterTransition:!0}),(0,d.jsx)(j.tP,{})]})})})})]})}}},function(a){a.O(0,[550,25,644,675,743,701,192,984,774,888,179],function(){var b;return a(a.s=6177)}),_N_E=a.O()}])