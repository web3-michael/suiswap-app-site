(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[599],{8726:function(e,t,a){"use strict";a.d(t,{$:function(){return u},U:function(){return p}});var i,n,l,s,o,r=a(5893),d=a(8600),m=a(7294);let c=new Map([["hollow",{fontSize:13,size:{type:"pad",x:"1.61em",y:"1.23em"},base:e=>({display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",color:null!==(i=e.foreground)&&void 0!==i?i:d.E5,border:"0.077em solid ".concat(null!==(n=e.foreground)&&void 0!==n?n:d.E5),borderRadius:"0.461em",fontWeight:500,lineHeight:"128.5%",letterSpacing:"0.095em",transition:"background 0.8s ease-out, transform 0.5s ease-out, border-radius 0.5s ease-out, box-shadow 0.5s ease-out",flex:"initial"}),hover:e=>({background:null!==(l=e.primaryColor)&&void 0!==l?l:d.g6,color:null!==(s=e.background)&&void 0!==s?s:d.fz,border:"0.077em solid ".concat(null!==(o=e.primaryColor)&&void 0!==o?o:d.g6),borderRadius:"0.1538em",transform:"scale(1.01, 1.01) translate(0.3076em, -0.2307692308em)",boxShadow:"0em 0.7692307692em 1em rgba(46, 152, 241, 0.5)"}),disabled:e=>({background:d.Np})}]]),u=e=>{let{text:t,onClick:a,reprentType:i,style:n,fontSize:l,size:s,enabled:o,primaryColor:d,foreground:u,background:p}=e,f=null==o||o,{base:h,fontSize:x,size:g,hover:v,disabled:_}=c.get(i),j=h({foreground:u,background:p,primaryColor:d}),w=v?v({foreground:u,background:p,primaryColor:d}):void 0,y=_?_({foreground:u,background:p,primaryColor:d}):void 0,[b,k]=(0,m.useState)(!1),N=null!=s?s:g;return(0,r.jsx)("div",{style:{display:"flex",gap:0,padding:0,..."fixed"===N.type?{width:N.x,height:N.y}:{}},children:(0,r.jsx)("div",{onClick:()=>{f&&a&&a()},onMouseEnter:()=>{k(!0)},onMouseLeave:()=>{k(!1)},style:{fontSize:null!=l?l:x,..."fixed"===N.type?{width:"100%",height:"100%"}:{paddingLeft:N.x,paddingRight:N.x,paddingTop:N.y,paddingBottom:N.y},cursor:f?"pointer":"default",...j,...b&&w&&f?w:{},...!f&&y?y:{},...null!=n?n:{}},children:(0,r.jsx)("span",{style:{lineBreak:"anywhere"},children:t})})})},p=e=>{var t,a;let i=null===(t=e.enabled)||void 0===t||t;return(0,r.jsx)(u,{enabled:i,reprentType:"hollow",foreground:i?d.fz:void 0,size:e.size,fontSize:18,style:{borderRadius:10,border:"none",letterSpacing:"0em",...i?{background:d.g6}:{},...null!==(a=e.style)&&void 0!==a?a:{}},text:e.text,onClick:e.onClick})}},405:function(e,t,a){"use strict";a.d(t,{I:function(){return s}});var i=a(5893),n=a(4947),l=a(7294);let s=e=>{let{value:t,fontSize:a,style:s,placeholder:o,onChange:r}=e,d=n.O.components.input,m=(0,l.useRef)(null),c=null!=a?a:d.defaultFontSize,u=d.defaultPadding1/d.defaultFontSize*c,p=d.defaultPadding2/d.defaultFontSize*c,f=d.defaultCornerRadiusRatio*c,h=e=>{let t=e.target.value;r(t)};return(0,i.jsx)("input",{ref:m,value:t,type:"text",placeholder:o,onInput:h,style:{fontWeight:"400",width:"100%",fontSize:c,lineHeight:"128.5%",background:"rgba(255, 255, 255, 0.00)",padding:"".concat(u,"px ").concat(u,"px ").concat(u,"px ").concat(p,"px"),borderRadius:f,overflow:"hidden",color:d.defaultColor,border:"none",outline:"none",...null!=s?s:{}}})}},7213:function(e,t,a){"use strict";a.d(t,{w:function(){return n}});var i=a(5893);let n=e=>{var t,a,n;let l=null!==(t=e.variant)&&void 0!==t?t:"-",s=null!==(a=e.repeat)&&void 0!==a?a:3,o=Array(s).fill(l).join("");return(0,i.jsx)("span",{style:{fontWeight:null!==(n=e.reserveFontWeight)&&void 0!==n&&n?void 0:200},children:o})}},8744:function(e,t,a){"use strict";a.d(t,{V:function(){return r}});var i=a(5893),n=a(7294),l=a(4947),s=a(8600);let o=(e,t,a,i)=>{let n=(t-e.min)/(e.max-e.min)*100,l="linear-gradient(to right, ".concat(a," 0%, ").concat(a," ").concat(n,"%, ").concat(i," ").concat(n,"%, ").concat(i," 100%)");e.style.setProperty("--track-background",l)},r=e=>{let{value:t,onChange:a,color:r,step:d,style:m}=e,c=l.O.components.slider,u=(0,n.useRef)(null),p=null!=d?d:1e-4;return(0,n.useEffect)(()=>{u.current&&o(u.current,t,null!=r?r:c.defaultFilled,s.fz)},[t,u,c.defaultFilled,,r]),(0,i.jsx)("input",{type:"range",style:{height:27,margin:0,background:s.Dn,...null!=m?m:{}},min:0,max:1,step:p,ref:u,value:t,onInput:e=>{let t=Math.round(e.target.value/p)*p;a(t=(0,s.uZ)(t,0,1))}})}},358:function(e,t,a){"use strict";a.d(t,{L:function(){return l}});var i=a(5893),n=a(8600);let l=e=>{let{children:t,selected:a,onClick:l,id:s}=e,o={boxSizing:"border-box",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"0px 4px",gap:"4px",border:"1px solid ".concat(a?n.g6:n.st),background:a?n.g6:void 0,borderRadius:"5px",overflow:"hidden",cursor:l?"pointer":"default"},r={fontWeight:"400",fontSize:"10px",lineHeight:"15px",color:a?n.fz:n.vJ};return(0,i.jsx)("div",{id:s,style:o,onClick:l,children:(0,i.jsx)("span",{style:r,children:t})})}},227:function(e,t,a){"use strict";a.d(t,{Y:function(){return l}});var i=a(5893),n=a(7891);let l=e=>{let{id:t,content:a,children:l,style:s}=e;return(0,i.jsxs)("div",{"data-tooltip-id":t,style:s,children:[l,(0,i.jsx)(n.u,{id:t,style:{fontSize:10,maxWidth:200},place:"bottom",children:a})]})}},7599:function(e,t,a){"use strict";a.d(t,{NC:function(){return D},Qe:function(){return O},TJ:function(){return T},WQ:function(){return R},fQ:function(){return W},sU:function(){return L}});var i=a(5893),n=a(5675),l=a.n(n),s=a(7292),o=a.n(s),r=a(7294),d=a(9769),m=a(793),c=a(2069),u=a(1461),p=a(364),f=a(6501),h=a(1785),x=a(2991),g=a(8788),v=a(7022),_=a(8726),j=a(405),w=a(358),y=a(8744),b=a(227),k=a(7213),N=a(3851),I=a(4947),S=a(1876).Buffer;let C=e=>{var t,a;let{coinType:n,coinUi:s,onClick:r}=e,d=n.package,m=null!==(t=s.name)&&void 0!==t?t:"";return""===m&&(m="".concat(n.module,"::").concat(n.field)),(0,i.jsxs)("div",{className:o()["modal-token-list-item-frame"],onClick:r,children:[(0,i.jsxs)("div",{className:o()["modal-token-list-item-left-frame"],children:[(0,i.jsx)(l(),{alt:"",src:null!==(a=s.logoUrl)&&void 0!==a?a:c.d.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:30,height:30}),(0,i.jsxs)("span",{style:{width:"210px",overflow:"hidden",whiteSpace:"nowrap"},children:[(0,i.jsx)("span",{className:o()["modal-token-list-item-left-symbol-span"],children:s.symbol}),(0,i.jsx)("span",{className:o()["modal-token-list-item-left-detail-span"],children:" "}),(0,i.jsx)("span",{className:o()["modal-token-list-item-left-detail-span"],children:m})]})]}),(0,i.jsx)("div",{className:o()["modal-token-list-item-right-frame"],children:(0,i.jsx)("span",{children:d.length>13?d.slice(0,10)+"...":d})})]})},O=e=>{let{coinTypeAndUis:t,onSelectCoinType:a}=e;return(0,i.jsxs)("div",{className:o()["modal-wallet-frame"],children:[(0,i.jsx)("div",{className:o()["modal-wallet-title-frame"],children:(0,i.jsx)("span",{children:"Select Token"})}),t.length>0?(0,i.jsx)("div",{className:o()["modal-token-list-panel-frame"],children:t.map(e=>{let[t,n]=e;return(0,i.jsx)(C,{onClick:()=>{void 0!==a&&a(t)},coinType:t,coinUi:n},t.uuid())})}):(0,i.jsx)("span",{style:{fontStyle:"normal",fontWeight:"500",fontSize:"21px",lineHeight:"32px",color:"#9da3ae"},children:"No avaliable token for selecting"})]})},z="#d83939",E="#d88f39",T=e=>{var t,a,n,s;let{accountAddr:c,poolInfo:h,getCoinUi:x,wallet:g,client:j,dismissModal:S}=e,C=h.type.xTokenType,O=h.type.yTokenType,T=j.getPrimaryCoinType(),R=(0,r.useRef)(null),D=(0,N.VB)(R),W=null!==D.current&&D.current.width<I.O.specified.depositModal.sw,[L,F]=(0,r.useState)(null),{refreshTransactions:M}=(0,f.K)(),[U,A]=(0,r.useState)("SLIDER");(0,r.useEffect)(()=>{h.isInitialized()||A("CUSTOM")},[h]);let{refresh:B,gasFeePrice:Z}=(0,p.s)(),{refreshAccountObjects:P}=(0,f.K)(),[q,H]=(0,r.useState)([]),[Y,K]=(0,r.useState)([]),[$,G]=(0,r.useState)([]),[Q,J]=(0,r.useState)(""),[V,X]=(0,r.useState)(""),ee=(0,r.useMemo)(()=>j.getEstimateGasAmount("add-liquidity"),[j]),et=(0,r.useMemo)(()=>null===Z?null:Z*ee,[Z,ee]),ea=(null!=$?$:[]).reduce((e,t)=>e+t.balance,d.BigIntConstants.ZERO);(0,r.useEffect)(()=>{if(null===c||null===et)return;let e=async()=>{try{let[e,t,a]=await j.getSortedAccountCoinsArray(c,[C,O,T]);H(e),K(t),G(a)}catch(e){(0,d.debugLog)(e,"deposit-model-fetch-coin-info")}};e()},[c,g,j,C,O,T,et]);let ei=(0,r.useMemo)(()=>{if(null===et||null===q||0===q.length)return d.BigIntConstants.ZERO;let e=q.reduce((e,t)=>e+t.balance,d.BigIntConstants.ZERO),t=d.MoveType.equals(C,T)?e-et:e;return t>d.BigIntConstants.ZERO?t:d.BigIntConstants.ZERO},[q,et,C,T]),en=(0,r.useMemo)(()=>{if(null===et||null===Y||0===Y.length)return d.BigIntConstants.ZERO;let e=Y.reduce((e,t)=>e+t.balance,d.BigIntConstants.ZERO),t=d.MoveType.equals(O,T)?e-et:e;return t>d.BigIntConstants.ZERO?t:d.BigIntConstants.ZERO},[Y,et,O,T]),el=null!==q&&null!==Y&&null!==$&&null!==et,es=d.BigIntConstants.ZERO,eo=d.BigIntConstants.ZERO;h.isInitialized()&&(h.getDepositXAmount(en)>ei?(es=ei,eo=(eo=h.getDepositYAmount(ei))<en?eo:en):(eo=en,es=(es=h.getDepositXAmount(en))<ei?es:ei));let er=x(h.type.xTokenType),ed=x(h.type.yTokenType),em=null!==(t=er.demical)&&void 0!==t?t:0,ec=null!==(a=ed.demical)&&void 0!==a?a:0,eu=er.symbol,ep=ed.symbol,ef=null!==(n=er.logoUrl)&&void 0!==n?n:"/images/token/unknown-token.svg",eh=null!==(s=ed.logoUrl)&&void 0!==s?s:"/images/token/unknown-token.svg",ex=(0,r.useMemo)(()=>(0,d.truncateNumeric)(new d.DemicalFormat(ei,em).toString(!0),10),[ei,em]),eg=(0,r.useMemo)(()=>(0,d.truncateNumeric)(new d.DemicalFormat(en,ec).toString(!0),10),[en,ec]),ev=(0,r.useMemo)(()=>{let e=d.DemicalFormat.fromString(Q);return null!==e&&e.canAlignTo(em)?e.alignTo(em).value:d.BigIntConstants.ZERO},[Q,em]),e_=(0,r.useMemo)(()=>{let e=d.DemicalFormat.fromString(V);return null!==e&&e.canAlignTo(ec)?e.alignTo(ec).value:d.BigIntConstants.ZERO},[V,ec]),ej=(0,r.useCallback)(e=>{if(""===e){J(""),h.isInitialized()&&X("");return}if(em<=0&&e.indexOf(".")>-1)return;let t=d.DemicalFormat.fromString(e);if(null!==t&&t.canAlignTo(em)&&t.value>=d.BigIntConstants.ZERO){t=t.alignTo(em);let a=t.value,i=h.getDepositYAmount(a);a<=ei&&(!h.isInitialized()||i<=en)&&(J(e),h.isInitialized()&&X(new d.DemicalFormat(i,ec).toString()))}},[ei,en,em,ec,J,X,h]),ew=(0,r.useCallback)(e=>{if(""===e){X(""),h.isInitialized()&&J("");return}if(ec<=0&&e.indexOf(".")>-1)return;let t=d.DemicalFormat.fromString(e);if(null!==t&&t.canAlignTo(ec)&&t.value>=d.BigIntConstants.ZERO){t=t.alignTo(ec);let a=t.value,i=h.getDepositXAmount(a);a<=en&&(!h.isInitialized()||i<=ei)&&(X(e),h.isInitialized()&&J(new d.DemicalFormat(i,em).toString()))}},[ei,en,em,ec,J,X,h]),ey=null,eb=null;null===c?[ey,eb]=[z,"Invalid account address"]:ea<ee?[ey,eb]=[z,"Cannot pay enough gas"]:ei===d.BigIntConstants.ZERO?[ey,eb]=[z,"Cannot find avaliable coin ".concat(er.symbol," to deposit")]:en===d.BigIntConstants.ZERO?[ey,eb]=[z,"Cannot find avaliable coin ".concat(ed.symbol," to deposit")]:ev<=d.BigIntConstants.ZERO||ev>ei?[ey,eb]=[z,"Invalid amount input for ".concat(er.symbol)]:e_<=d.BigIntConstants.ZERO||e_>en?[ey,eb]=[z,"Invalid amount input for ".concat(ed.symbol)]:h.canAddLiquidity()?ev>es&&h.isInitialized()?[ey,eb]=[E,"Input amount for ".concat(er.symbol," is enough")]:e_>eo&&h.isInitialized()?[ey,eb]=[E,"Input amount for ".concat(ed.symbol," is enough")]:!h.isInitialized()&&e_>d.BigIntConstants.ZERO&&ev>d.BigIntConstants.ZERO&&([ey,eb]=["#2e98f1","Pool is initialzed"]):[ey,eb]=[z,"Pool is freeze for adding liquidity"];let ek=(0,r.useCallback)(()=>{if(null!==eb&&ey===z){(0,u._N)(eb);return}let e=async()=>{let e=await g.execute(j,{operation:"add-liquidity",pool:h,xAmount:ev,yAmount:e_,unlockEpoch:null===L?d.BigIntConstants.ZERO:BigInt(L)},{title:"add-liuidity"});return e.isSuccess()&&(B(),P(),M()),e};(0,u.pn)(j,"Deposit Coin",e()),void 0!==S&&S()},[L,j,h,P,M,g,eb,ey,B,ev,e_,S]),[eN,eI]=(0,r.useState)(1);(0,r.useEffect)(()=>{if("SLIDER"===U){let e=BigInt(Math.round(1e4*eN)),t=d.BigIntConstants._1E4,a=es*e/t,i=eo*e/t,n=new d.DemicalFormat(ei<a?ei:a,em).toString(!0),l=new d.DemicalFormat(en<i?en:i,ec).toString(!0);e===d.BigIntConstants.ZERO&&(n="",l=""),J(n),X(l)}},[U,eN,em,ec,es,eo,ei,en]);let eS=(0,r.useMemo)(()=>{var e;let t=null!==(e=h.boostMultiplierData.find(e=>e.epoch===L))&&void 0!==e?e:null;if(null===t)return(0,i.jsx)(k.w,{reserveFontWeight:!0});let a=(Number(t.boostMultiplier)/Number(d.PoolInfo.POOL_LSP_DEFAULT_BOOST_MULTIPLIER)).toFixed(1);return(0,i.jsx)("span",{style:{color:v.g6,fontWeight:700},children:a})},[L,h.boostMultiplierData]);return(0,i.jsxs)("div",{ref:R,className:o()["modal-deposit-frame"],children:[(0,i.jsxs)("span",{className:o()["modal-wallet-title-frame"],children:["Deposit",(0,i.jsx)("span",{children:" "}),(0,i.jsx)("span",{style:{fontWeight:"700",fontSize:"24px",lineHeight:"36px"},children:eu}),(0,i.jsx)("span",{style:{fontWeight:"700",fontSize:"24px",lineHeight:"36px"},children:"/"}),(0,i.jsx)("span",{style:{fontWeight:"700",fontSize:"24px",lineHeight:"36px"},children:ep})]}),(0,i.jsxs)("div",{className:o()["modal-deposit-info-frame"],children:[(0,i.jsxs)("div",{className:W?o()["modal-deposit-panel-frame-vertical"]:o()["modal-deposit-panel-frame"],children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,flex:"none",width:W?"100%":void 0},children:[(0,i.jsx)(l(),{src:ef,alt:"",width:29,height:29,style:{borderRadius:"15px",overflow:"hidden"}}),(0,i.jsx)("span",{className:o()["modal-deposit-panel-token-name-label"],children:eu})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:0,width:W?"100%":void 0},children:[(0,i.jsx)("input",{className:W?o()["modal-deposit-panel-token-amount-input-vertical"]:o()["modal-deposit-panel-token-amount-input"],placeholder:"0",style:{color:"CUSTOM"===U?"#000000":"#2e98f1"},disabled:h.isInitialized()&&es<=d.BigIntConstants.ZERO||"CUSTOM"!==U||!el,value:el?Q:"",onInput:e=>{el&&ej(e.target.value)}}),(0,i.jsx)("div",{className:o()["modal-deposit-panel-token-amount-label-frame"],children:(0,i.jsxs)("span",{className:o()["modal-deposit-panel-token-amount-label"],children:[(0,i.jsx)("span",{children:"max: "}),el?(0,i.jsx)("span",{children:ex}):(0,i.jsx)(k.w,{reserveFontWeight:!0})]})})]})]}),(0,i.jsxs)("div",{className:W?o()["modal-deposit-panel-frame-vertical"]:o()["modal-deposit-panel-frame"],children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12,flex:"none"},children:[(0,i.jsx)(l(),{src:eh,alt:"",width:29,height:29,style:{borderRadius:"15px",overflow:"hidden"}}),(0,i.jsx)("span",{className:o()["modal-deposit-panel-token-name-label"],children:ep})]}),(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:0},children:[(0,i.jsx)("input",{className:W?o()["modal-deposit-panel-token-amount-input-vertical"]:o()["modal-deposit-panel-token-amount-input"],placeholder:"0",style:{color:"CUSTOM"===U?"#000000":"#2e98f1"},disabled:h.isInitialized()&&eo<=d.BigIntConstants.ZERO||"CUSTOM"!==U||!el,value:el?V:"",onInput:e=>{el&&ew(e.target.value)}}),(0,i.jsx)("div",{className:o()["modal-deposit-panel-token-amount-label-frame"],children:(0,i.jsxs)("span",{className:o()["modal-deposit-panel-token-amount-label"],children:[(0,i.jsx)("span",{children:"max: "}),el?(0,i.jsx)("span",{children:eg}):(0,i.jsx)(k.w,{reserveFontWeight:!0})]})})]})]}),(0,i.jsxs)("div",{style:{width:"100%"},children:[(0,i.jsxs)("div",{className:o()["modal-deposit-panel-quick-select-frame"],children:[(0,i.jsx)("span",{style:{fontSize:10,color:v.vJ},children:"Deposit Amount: "}),h.isInitialized()&&(0,i.jsx)(w.L,{selected:"SLIDER"===U,onClick:()=>{h.isInitialized()&&el&&A("SLIDER")},children:"RATIO"}),(0,i.jsx)(w.L,{selected:!1,onClick:()=>{"CUSTOM"!==U&&el&&(A("CUSTOM"),J(""),X(""))},children:h.isInitialized()?"CUSTOM":"INITIAL LIQUIDITY"})]}),"SLIDER"===U&&(0,i.jsxs)("div",{style:{width:"100%",gap:10,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",padding:"3.5px 6%"},children:[(0,i.jsx)(y.V,{value:eN,onChange:e=>{eI(e)},style:{width:"100%"}}),(0,i.jsx)("span",{style:{fontWeight:"700",fontSize:"13px",minWidth:70,lineHeight:"150%",lineBreak:"anywhere",textAlign:"right",flex:"none",color:v.g6},children:(100*eN).toFixed(2)+"%"})]}),(0,i.jsx)("div",{className:o()["modal-deposit-panel-quick-select-frame"],children:(0,i.jsx)(b.Y,{id:"deposit-modal-liquidity-boost-info",content:(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{children:"Your final liquidity mining weight and other Suiswap token distribution activities depend on the liquidity value you provide multiplied by the liquidity boost. "}),(0,i.jsx)("br",{}),(0,i.jsx)("br",{}),(0,i.jsx)("span",{children:"Having $1,000 in liquidity with a 2.0 boost value and having $2,000 in liquidity with a 1.0 boost value have the same liquidity mining and activity weight"})]}),children:(0,i.jsxs)("span",{style:{fontSize:10,color:v.vJ},children:["Liquidity Boost: ",eS]})})}),(0,i.jsxs)("div",{className:o()["modal-deposit-panel-quick-select-frame"],children:[(0,i.jsx)("span",{style:{fontSize:10,color:v.vJ},children:"Lock Time: "}),(0,i.jsx)(b.Y,{id:"deposit-modal-lock-epoch-select-button-none",content:"You liquidity will not be unlocked",children:(0,i.jsx)(w.L,{selected:null===L,onClick:()=>{F(null)},children:"NO-LOCK"})}),h.boostMultiplierData.map(e=>{let t=e.epoch,a=t.toString()+" DAY";t%30==0&&(a=Math.round(t/30).toString()+" MONTH"),t%360==0&&(a=Math.round(t/360).toString()+" YEAR"),t%365==0&&(a=Math.round(t/365).toString()+" YEAR");let n=(0,i.jsxs)("span",{children:["You liquidity will be locked ",(0,i.jsx)("b",{children:t})," day before withdraw, but you get ",(0,i.jsx)("b",{children:(Number(e.boostMultiplier)/Number(d.PoolInfo.POOL_LSP_DEFAULT_BOOST_MULTIPLIER)).toFixed(1)})," boost ratio"]});return(0,i.jsx)(b.Y,{id:"deposit-modal-lock-epoch-select-button-".concat(t),content:n,children:(0,i.jsx)(w.L,{selected:L==t,onClick:()=>F(t),children:a},t)},t)})]})]}),null!==eb&&null!==ey&&""!==Q&&""!==V&&el?(0,i.jsx)(m.OY,{color:ey,message:eb}):(0,i.jsx)(i.Fragment,{}),(0,i.jsx)(_.U,{text:"Deposit",enabled:ey!==z&&el,onClick:ek,size:{type:"fixed",x:148,y:37}})]})]})},R=e=>{var t,a;let{positionInfo:n,getCoinUi:s,dismissModal:g}=e,v=(0,r.useRef)(null),[_,j]=(0,r.useState)(1e3),{client:w,refreshPool:y}=(0,p.s)(),{wallet:b,connected:k}=(0,x.O)(),{accountAddr:N,accountCoins:I,refreshAccountObjects:S,refreshTransactions:C}=(0,f.K)(),O=null!==b&&"connected"===k&&null!==N,z=s(n.poolInfo.type.xTokenType),E=s(n.poolInfo.type.yTokenType),T=z.symbol,R=E.symbol,D=(0,r.useMemo)(()=>n.partial(new d.DemicalFormat(BigInt(_),3)),[n,_]),[W,L]=(0,r.useMemo)(()=>D.getShareCoinAmounts(),[D]),F=(0,r.useMemo)(()=>{var e;return new d.DemicalFormat(W,null!==(e=z.demical)&&void 0!==e?e:0)},[W,z]),M=(0,r.useMemo)(()=>{var e;return new d.DemicalFormat(L,null!==(e=E.demical)&&void 0!==e?e:0)},[L,E]),U=(0,r.useMemo)(()=>(0,i.jsx)(m.$z,{value:F,width:20,precision:5}),[F]),A=(0,r.useMemo)(()=>(0,i.jsx)(m.$z,{value:M,width:20,precision:5}),[M]),B=e=>{let t=(e.value-e.min)/(e.max-e.min)*100,a="#2e98f1",i="#f9f9f9",n="linear-gradient(to right, ".concat(a," 0%, ").concat(a," ").concat(t,"%, ").concat(i," ").concat(t,"%, ").concat(i," 100%)");e.style.setProperty("--track-background",n)},Z=(0,r.useCallback)(()=>{if(null===b||!1===O||null===w){(0,u._N)("Cannot correctly sign the operation, wallet is either not connected or we could not operate the sign operation");return}let e=async()=>{try{let e=await b.execute(w,{operation:"remove-liquidity",positionInfo:D},{title:"remove-liquidity"});return e.isSuccess()&&(y(D.poolInfo),S(),C()),e}catch(e){throw e}};(0,u.pn)(w,"Harvest Position",e()),void 0!==g&&g()},[D,b,w,O,y,S,C,g]);(0,r.useEffect)(()=>{null!==v.current&&B(v.current)},[v]);let P=(0,i.jsx)("div",{className:o()["modal-harvest-frame-title"],children:(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{children:"Harvest "}),(0,i.jsx)("span",{style:{fontWeight:700},children:T}),(0,i.jsx)("span",{children:"/"}),(0,i.jsx)("span",{style:{fontWeight:700},children:R})]})}),q=(0,i.jsx)("div",{className:o()["modal-harvest-main-frame"],children:(0,i.jsxs)("div",{className:o()["modal-harvest-amount-frame"],children:[(0,i.jsxs)("div",{className:o()["modal-harvest-amount-detail-frame"],children:[(0,i.jsxs)("div",{className:o()["modal-harvest-amount-detail-left-frame"],children:[(0,i.jsx)(l(),{alt:"",src:null!==(t=z.logoUrl)&&void 0!==t?t:c.d.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:29,height:29,style:{borderRadius:15,overflow:"hidden"}}),(0,i.jsx)("span",{children:T})]}),(0,i.jsx)("span",{className:o()["modal-harvest-amount-detail-right-frame"],children:U})]}),(0,i.jsxs)("div",{className:o()["modal-harvest-amount-detail-frame"],children:[(0,i.jsxs)("div",{className:o()["modal-harvest-amount-detail-left-frame"],children:[(0,i.jsx)(l(),{alt:"",src:null!==(a=E.logoUrl)&&void 0!==a?a:c.d.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:29,height:29,style:{borderRadius:15,overflow:"hidden"}}),(0,i.jsx)("span",{children:R})]}),(0,i.jsx)("span",{className:o()["modal-harvest-amount-detail-right-frame"],children:A})]}),(0,i.jsxs)("div",{className:o()["modal-harvest-amount-slider-frame"],children:[(0,i.jsx)("input",{type:"range",style:{width:200},min:0,max:1,step:.001,ref:v,value:_/1e3,onInput:e=>{B(e.target);let t=Math.round(1e3*e.target.value);t<0?t=0:t>1e3&&(t=1e3),j(t)}}),(0,i.jsxs)("span",{className:o()["modal-harvest-amount-slider-ratio"],children:[(_/10).toFixed(1),(0,i.jsx)("span",{style:{fontWeight:400},children:"%"})]})]}),(0,i.jsx)(h.Nv,{title:"Harvest",fontSize:18,fontWeight:500,borderRadius:12,size:["fixed",163,37],grow:"always",buttonEnabled:_>0,onClick:Z})]})});return(0,i.jsxs)("div",{className:o()["modal-harvest-frame"],children:[P,q]})},D=e=>{var t,a;let{fromCoinUi:n,toCoinUi:s,fromCoinAmount:r,toCoinAmount:u,swapPrice:p,marketPrice:f,priceImpact:x,onClick:g}=e,v=(0,i.jsx)("div",{className:o()["modal-confirm-swap-title-frame"],children:(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{children:"Swap"}),(0,i.jsx)("span",{children:" "}),(0,i.jsx)("span",{style:{fontWeight:700},children:n.symbol}),(0,i.jsx)("span",{children:" to "}),(0,i.jsx)("span",{style:{fontWeight:700},children:s.symbol})]})}),_=(0,i.jsxs)("div",{className:o()["modal-confirm-swap-token-frame"],children:[(0,i.jsxs)("div",{className:o()["modal-confirm-swap-token-frame-left"],children:[(0,i.jsx)(l(),{alt:"",src:null!==(t=n.logoUrl)&&void 0!==t?t:c.d.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:29,height:29}),(0,i.jsx)("span",{children:n.symbol})]}),(0,i.jsx)("div",{className:o()["modal-confirm-swap-token-frame-right"],style:{color:"#a73232"},children:(0,i.jsx)("span",{children:"-".concat(r)})})]}),j=(0,i.jsxs)("div",{className:o()["modal-confirm-swap-token-frame"],children:[(0,i.jsxs)("div",{className:o()["modal-confirm-swap-token-frame-left"],children:[(0,i.jsx)(l(),{alt:"",src:null!==(a=s.logoUrl)&&void 0!==a?a:c.d.DEFAULT_UNKNOWN_COIN_UI_LOGO_PATH,width:29,height:29}),(0,i.jsx)("span",{children:s.symbol})]}),(0,i.jsx)("div",{className:o()["modal-confirm-swap-token-frame-right"],style:{color:"#2e98f1"},children:(0,i.jsx)("span",{children:"+".concat(u)})})]}),w=(0,i.jsxs)("div",{className:o()["modal-confirm-swap-token-frame-outer"],children:[_,j]}),y=(0,i.jsxs)("div",{className:o()["modal-confirm-swap-price-frame"],children:[(0,i.jsxs)("div",{className:o()["modal-confirm-swap-price-frame-top"],children:[(0,i.jsx)("span",{className:o()["modal-confirm-swap-price-frame-top-text-bar"],children:"Swap Price"}),(0,i.jsxs)("span",{className:o()["modal-confirm-swap-price-frame-top-text-bar"],children:[(0,i.jsx)("span",{children:"Price Impact "}),(0,i.jsx)("a",{style:{marginLeft:".15rem"}}),(0,i.jsx)("span",{style:{color:"rgb(202 55 55)",fontWeight:700},children:"-".concat((0,d.formatNumeric)((100*x).toFixed(3)),"%")})]})]}),(0,i.jsxs)("span",{className:o()["modal-confirm-swap-price-frame-bottom"],children:[(0,i.jsx)(m.$h,{value:p,hintFontSize:13,width:8,precision:4}),(0,i.jsx)("span",{children:" "}),(0,i.jsx)("span",{style:{fontWeight:300},children:"|"}),(0,i.jsx)("span",{children:" "}),(0,i.jsx)("span",{style:{color:"#bebebe"},children:(0,i.jsx)(m.$h,{value:f,hintFontSize:13,width:8,precision:4})})]})]}),b=(0,i.jsx)(h.Nv,{title:"Confirm & Swap",fontSize:24,fontWeight:500,borderRadius:12,size:["pad",16,8],grow:"hover",onClick:g}),k=(0,i.jsxs)("div",{className:o()["modal-confirm-swap-frame"],children:[v,w,y,b]});return k},W=e=>{let{avatarUrl:t,address:a,name:n,point:s,details:m,onClick:c}=e,{connected:u}=(0,x.O)(),[p,f]=(0,r.useState)(""),[h,w]=(0,r.useMemo)(()=>{if(!p.startsWith("suiswap-"))return[null,null];let e=p.split("-"),t=null;try{t=BigInt(e[1])}catch(e){}let a=null;try{a=new Uint8Array(S.from(e[2],"base64"))}catch(e){}return[t,a]},[p]),y=""!==n&&(0,i.jsxs)("div",{className:o()["suiswap-points-dashboard-user"],children:[(0,i.jsx)("div",{className:o()["suiswap-points-dashboard-user-image"],children:(0,i.jsx)(l(),{fill:!0,src:t,alt:""})}),(0,i.jsxs)("div",{className:o()["suiswap-points-dashboard-user-right-info"],children:[(0,i.jsx)("div",{className:o()["suiswap-points-dashboard-user-name"],children:n}),void 0!==a?(0,i.jsx)(g.F,{maxWidth:"100%",fontSize:10,fontWeight:800,color:v.E5,children:"".concat((0,d.middleEllipsis)(a,32))}):(0,i.jsx)(_.$,{reprentType:"hollow",text:"LINK SUI ADDRESS",fontSize:10}),(0,i.jsx)("span",{className:o()["suiswap-points-dashboard-user-point"],children:(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{style:{fontSize:32},children:s}),(0,i.jsx)("span",{style:{fontSize:32},children:" "}),(0,i.jsx)("span",{style:{fontSize:16},children:"Points"})]})})]})]}),b=(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",padding:"0px",width:"100%"},children:[(0,i.jsx)(g.F,{fontSize:24,fontWeight:600,color:v.E5,children:"Secret"}),(0,i.jsx)(j.I,{placeholder:"Enter your secrect here to get airdrop",value:p,onChange:f,fontSize:12,style:{fontWeight:700,color:v.E5}})]});return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:o()["suiswap-points-dashboard"],children:[y,b,(0,i.jsx)("div",{className:o()["suiswap-points-item-list"],children:m.map(e=>{let{title:t,name:a,point:n}=e;return(0,i.jsxs)("div",{className:o()["suiswap-points-item"],children:[(0,i.jsxs)("div",{className:o()["suiswap-points-item-left"],children:[(0,i.jsx)("span",{className:o()["suiswap-points-item-title"],children:t}),(0,i.jsx)("span",{className:o()["suiswap-points-item-name"],children:a})]}),(0,i.jsx)("div",{className:o()["suiswap-points-item-right"],children:"+ "+n.toString()})]},a)})}),null!==h&&null!==w&&(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around",width:"100%",alignItems:"flex-start"},children:[(0,i.jsx)(_.$,{reprentType:"hollow",fontSize:12,enabled:"connected"!==u,text:"CONNECT WALLET",style:{marginTop:15},onClick:()=>{void 0!==c&&null!==h&&null!==w&&c(h,w)}}),(0,i.jsx)(_.$,{reprentType:"hollow",fontSize:12,enabled:"connected"===u,text:"AIRDROP",style:{marginTop:15},onClick:()=>{void 0!==c&&null!==h&&null!==w&&c(h,w)}})]})]})})},L=e=>{let{avatarUrl:t,amount:a,decimal:n,address:s,name:r,onClick:c}=e,u=""!==r&&(0,i.jsxs)("div",{className:o()["suiswap-points-dashboard-user"],children:[(0,i.jsx)("div",{className:o()["suiswap-points-dashboard-user-image"],children:(0,i.jsx)(l(),{fill:!0,src:t,alt:""})}),(0,i.jsxs)("div",{className:o()["suiswap-points-dashboard-user-right-info"],children:[(0,i.jsx)("div",{className:o()["suiswap-points-dashboard-user-name"],children:r}),void 0!==s?(0,i.jsx)(g.F,{maxWidth:"100%",fontSize:10,fontWeight:800,color:v.E5,children:"".concat((0,d.middleEllipsis)(s,32))}):(0,i.jsx)(_.$,{reprentType:"hollow",text:"LINK SUI ADDRESS",fontSize:10})]})]});return(0,i.jsxs)("div",{className:o()["suiswap-points-dashboard"],children:[u,(0,i.jsxs)("div",{className:o()["suiswap-points-confirm-item-list"],children:[(0,i.jsxs)("span",{style:{fontSize:48,width:"100%",textAlign:"center",fontWeight:700,color:v.E5},children:[(0,i.jsx)(m.$z,{value:new d.DemicalFormat(a,n),width:15}),(0,i.jsx)("span",{style:{fontSize:"0.4em",fontWeight:600},children:"SSWP"})]}),(0,i.jsx)(_.$,{onClick:c,reprentType:"hollow",fontSize:14,text:"CHECK YOUR WALLET",style:{marginTop:15}})]})]})}},7292:function(e){e.exports={"suiswap-points-dashboard":"modals_suiswap-points-dashboard__kCgsr","suiswap-points-dashboard-user-image":"modals_suiswap-points-dashboard-user-image__OV7Oz","suiswap-points-dashboard-user-name":"modals_suiswap-points-dashboard-user-name__ZB9P5","suiswap-points-dashboard-user-point":"modals_suiswap-points-dashboard-user-point___hEjk","suiswap-points-dashboard-user-right-info":"modals_suiswap-points-dashboard-user-right-info__EDEMk","suiswap-points-dashboard-user":"modals_suiswap-points-dashboard-user__oYRBq","suiswap-points-item-list":"modals_suiswap-points-item-list__Zw9uw","suiswap-points-confirm-item-list":"modals_suiswap-points-confirm-item-list__tjLpV","suiswap-points-item":"modals_suiswap-points-item__zfu6m","suiswap-points-item-left":"modals_suiswap-points-item-left__c6h4l","suiswap-points-item-title":"modals_suiswap-points-item-title__TEyCp","suiswap-points-item-name":"modals_suiswap-points-item-name__aeIQN","suiswap-points-item-right":"modals_suiswap-points-item-right__WoHYZ","main-frame":"modals_main-frame__XvhON","modal-deposit-panel-token-amount-input":"modals_modal-deposit-panel-token-amount-input__mqH90","modal-deposit-panel-token-amount-input-vertical":"modals_modal-deposit-panel-token-amount-input-vertical__2cHGB","modal-harvest-frame-title":"modals_modal-harvest-frame-title__9ah_G","modal-harvest-amount-detail-left-frame":"modals_modal-harvest-amount-detail-left-frame__pRhS2","modal-wallet-frame":"modals_modal-wallet-frame__FbnQi","modal-deposit-frame":"modals_modal-deposit-frame__BAqC3","modal-wallet-title-frame":"modals_modal-wallet-title-frame___2BHc","swap-frame":"modals_swap-frame__ISt9W","modal-confirm-swap-frame":"modals_modal-confirm-swap-frame__sr8uN","modal-confirm-swap-price-frame":"modals_modal-confirm-swap-price-frame__R4gtD","modal-confirm-swap-price-frame-bottom":"modals_modal-confirm-swap-price-frame-bottom__30C0w","modal-confirm-swap-price-frame-top":"modals_modal-confirm-swap-price-frame-top__0WCj1","modal-confirm-swap-price-frame-top-text-bar":"modals_modal-confirm-swap-price-frame-top-text-bar__jYq0n","modal-confirm-swap-title-frame":"modals_modal-confirm-swap-title-frame__TxVaS","modal-confirm-swap-token-frame":"modals_modal-confirm-swap-token-frame__mj3zf","modal-confirm-swap-token-frame-left":"modals_modal-confirm-swap-token-frame-left__t3_sI","modal-confirm-swap-token-frame-outer":"modals_modal-confirm-swap-token-frame-outer__xW_DN","modal-confirm-swap-token-frame-right":"modals_modal-confirm-swap-token-frame-right__ibuj0","modal-deposit-info-frame":"modals_modal-deposit-info-frame__lPBlJ","modal-deposit-panel-frame":"modals_modal-deposit-panel-frame__FliZ0","modal-deposit-panel-frame-vertical":"modals_modal-deposit-panel-frame-vertical__HozPX","modal-deposit-panel-quick-select-frame":"modals_modal-deposit-panel-quick-select-frame__aXF_H","modal-deposit-panel-token-amount-label":"modals_modal-deposit-panel-token-amount-label__tTdZ_","modal-deposit-panel-token-amount-label-frame":"modals_modal-deposit-panel-token-amount-label-frame__Q5jU8","modal-deposit-panel-token-name-label":"modals_modal-deposit-panel-token-name-label__vfWAl","modal-harvest-amount-detail-frame":"modals_modal-harvest-amount-detail-frame__x_GY1","modal-harvest-amount-detail-right-frame":"modals_modal-harvest-amount-detail-right-frame__fIUla","modal-harvest-amount-frame":"modals_modal-harvest-amount-frame__af1ef","modal-harvest-amount-slider-frame":"modals_modal-harvest-amount-slider-frame__7nLmD","modal-harvest-amount-slider-ratio":"modals_modal-harvest-amount-slider-ratio__eQ_fn","modal-harvest-frame":"modals_modal-harvest-frame__K2w5r","modal-harvest-main-frame":"modals_modal-harvest-main-frame__FOMae","modal-token-list-item-frame":"modals_modal-token-list-item-frame__pBvyo","modal-token-list-item-left-detail-span":"modals_modal-token-list-item-left-detail-span__UO1ZQ","modal-token-list-item-left-frame":"modals_modal-token-list-item-left-frame__nQIWe","modal-token-list-item-left-symbol-span":"modals_modal-token-list-item-left-symbol-span__ZvZ8j","modal-token-list-item-right-frame":"modals_modal-token-list-item-right-frame__3oIZf","modal-token-list-panel-frame":"modals_modal-token-list-panel-frame__GCexz"}}}]);