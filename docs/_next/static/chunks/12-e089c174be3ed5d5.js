(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12],{3740:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return m}});let n=r(8754),i=r(1757),s=i._(r(7294)),o=n._(r(2636)),a=r(6781),l=r(3735),c=r(3341);r(4210);let u=n._(r(7746)),h={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function d(t){return void 0!==t.default}function f(t){return void 0===t?t:"number"==typeof t?Number.isFinite(t)?t:NaN:"string"==typeof t&&/^[0-9]+$/.test(t)?parseInt(t,10):NaN}function p(t,e,r,n,i,s,o){if(!t||t["data-loaded-src"]===e)return;t["data-loaded-src"]=e;let a="decode"in t?t.decode():Promise.resolve();a.catch(()=>{}).then(()=>{if(t.parentElement&&t.isConnected){if("blur"===r&&s(!0),null==n?void 0:n.current){let e=new Event("load");Object.defineProperty(e,"target",{writable:!1,value:t});let r=!1,i=!1;n.current({...e,nativeEvent:e,currentTarget:t,target:t,isDefaultPrevented:()=>r,isPropagationStopped:()=>i,persist:()=>{},preventDefault:()=>{r=!0,e.preventDefault()},stopPropagation:()=>{i=!0,e.stopPropagation()}})}(null==i?void 0:i.current)&&i.current(t)}})}function g(t){let[e,r]=s.version.split("."),n=parseInt(e,10),i=parseInt(r,10);return n>18||18===n&&i>=3?{fetchPriority:t}:{fetchpriority:t}}let y=(0,s.forwardRef)((t,e)=>{let{imgAttributes:r,heightInt:n,widthInt:i,qualityInt:o,className:a,imgStyle:l,blurStyle:c,isLazy:u,fetchPriority:h,fill:d,placeholder:f,loading:y,srcString:b,config:m,unoptimized:w,loader:E,onLoadRef:v,onLoadingCompleteRef:x,setBlurComplete:S,setShowAltText:B,onLoad:T,onError:A,...I}=t;return y=u?"lazy":y,s.default.createElement("img",{...I,...g(h),loading:y,width:i,height:n,decoding:"async","data-nimg":d?"fill":"1",className:a,style:{...l,...c},...r,ref:(0,s.useCallback)(t=>{e&&("function"==typeof e?e(t):"object"==typeof e&&(e.current=t)),t&&(A&&(t.src=t.src),t.complete&&p(t,b,f,v,x,S,w))},[b,f,v,x,S,A,w,e]),onLoad:t=>{let e=t.currentTarget;p(e,b,f,v,x,S,w)},onError:t=>{B(!0),"blur"===f&&S(!0),A&&A(t)}})}),b=(0,s.forwardRef)((t,e)=>{var r;let n,i,{src:p,sizes:b,unoptimized:m=!1,priority:w=!1,loading:E,className:v,quality:x,width:S,height:B,fill:T,style:A,onLoad:I,onLoadingComplete:k,placeholder:j="empty",blurDataURL:O,fetchPriority:C,layout:U,objectFit:R,objectPosition:L,lazyBoundary:D,lazyRoot:N,...P}=t,_=(0,s.useContext)(c.ImageConfigContext),H=(0,s.useMemo)(()=>{let t=h||_||l.imageConfigDefault,e=[...t.deviceSizes,...t.imageSizes].sort((t,e)=>t-e),r=t.deviceSizes.sort((t,e)=>t-e);return{...t,allSizes:e,deviceSizes:r}},[_]),$=P.loader||u.default;delete P.loader;let V="__next_img_default"in $;if(V){if("custom"===H.loader)throw Error('Image with src "'+p+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let t=$;$=e=>{let{config:r,...n}=e;return t(n)}}if(U){"fill"===U&&(T=!0);let t={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[U];t&&(A={...A,...t});let e={responsive:"100vw",fill:"100vw"}[U];e&&!b&&(b=e)}let q="",M=f(S),F=f(B);if("object"==typeof(r=p)&&(d(r)||void 0!==r.src)){let t=d(p)?p.default:p;if(!t.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(t));if(!t.height||!t.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(t));if(n=t.blurWidth,i=t.blurHeight,O=O||t.blurDataURL,q=t.src,!T){if(M||F){if(M&&!F){let e=M/t.width;F=Math.round(t.height*e)}else if(!M&&F){let e=F/t.height;M=Math.round(t.width*e)}}else M=t.width,F=t.height}}let z=!w&&("lazy"===E||void 0===E);(!(p="string"==typeof p?p:q)||p.startsWith("data:")||p.startsWith("blob:"))&&(m=!0,z=!1),H.unoptimized&&(m=!0),V&&p.endsWith(".svg")&&!H.dangerouslyAllowSVG&&(m=!0),w&&(C="high");let[W,G]=(0,s.useState)(!1),[K,Z]=(0,s.useState)(!1),Y=f(x),J=Object.assign(T?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:R,objectPosition:L}:{},K?{}:{color:"transparent"},A),X="blur"===j&&O&&!W?{backgroundSize:J.objectFit||"cover",backgroundPosition:J.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:'url("data:image/svg+xml;charset=utf-8,'+(0,a.getImageBlurSvg)({widthInt:M,heightInt:F,blurWidth:n,blurHeight:i,blurDataURL:O,objectFit:J.objectFit})+'")'}:{},Q=function(t){let{config:e,src:r,unoptimized:n,width:i,quality:s,sizes:o,loader:a}=t;if(n)return{src:r,srcSet:void 0,sizes:void 0};let{widths:l,kind:c}=function(t,e,r){let{deviceSizes:n,allSizes:i}=t;if(r){let t=/(^|\s)(1?\d?\d)vw/g,e=[];for(let n;n=t.exec(r);n)e.push(parseInt(n[2]));if(e.length){let t=.01*Math.min(...e);return{widths:i.filter(e=>e>=n[0]*t),kind:"w"}}return{widths:i,kind:"w"}}if("number"!=typeof e)return{widths:n,kind:"w"};let s=[...new Set([e,2*e].map(t=>i.find(e=>e>=t)||i[i.length-1]))];return{widths:s,kind:"x"}}(e,i,o),u=l.length-1;return{sizes:o||"w"!==c?o:"100vw",srcSet:l.map((t,n)=>a({config:e,src:r,quality:s,width:t})+" "+("w"===c?t:n+1)+c).join(", "),src:a({config:e,src:r,quality:s,width:l[u]})}}({config:H,src:p,unoptimized:m,width:M,quality:Y,sizes:b,loader:$}),tt=p,te=(0,s.useRef)(I);(0,s.useEffect)(()=>{te.current=I},[I]);let tr=(0,s.useRef)(k);(0,s.useEffect)(()=>{tr.current=k},[k]);let tn={isLazy:z,imgAttributes:Q,heightInt:F,widthInt:M,qualityInt:Y,className:v,imgStyle:J,blurStyle:X,loading:E,config:H,fetchPriority:C,fill:T,unoptimized:m,placeholder:j,loader:$,srcString:tt,onLoadRef:te,onLoadingCompleteRef:tr,setBlurComplete:G,setShowAltText:Z,...P};return s.default.createElement(s.default.Fragment,null,s.default.createElement(y,{...tn,ref:e}),w?s.default.createElement(o.default,null,s.default.createElement("link",{key:"__nimg-"+Q.src+Q.srcSet+Q.sizes,rel:"preload",as:"image",href:Q.srcSet?void 0:Q.src,imageSrcSet:Q.srcSet,imageSizes:Q.sizes,crossOrigin:P.crossOrigin,...g(C)})):null)}),m=b;("function"==typeof e.default||"object"==typeof e.default&&null!==e.default)&&void 0===e.default.__esModule&&(Object.defineProperty(e.default,"__esModule",{value:!0}),Object.assign(e.default,e),t.exports=e.default)},6781:function(t,e){"use strict";function r(t){let{widthInt:e,heightInt:r,blurWidth:n,blurHeight:i,blurDataURL:s,objectFit:o}=t,a=n||e,l=i||r,c=s.startsWith("data:image/jpeg")?"%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'/%3E%3C/feComponentTransfer%3E%":"";return a&&l?"%3Csvg xmlns='http%3A//www.w3.org/2000/svg' viewBox='0 0 "+a+" "+l+"'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='"+(n&&i?"1":"20")+"'/%3E"+c+"%3C/filter%3E%3Cimage preserveAspectRatio='none' filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' href='"+s+"'/%3E%3C/svg%3E":"%3Csvg xmlns='http%3A//www.w3.org/2000/svg'%3E%3Cimage style='filter:blur(20px)' preserveAspectRatio='"+("contain"===o?"xMidYMid":"cover"===o?"xMidYMid slice":"none")+"' x='0' y='0' height='100%25' width='100%25' href='"+s+"'/%3E%3C/svg%3E"}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"getImageBlurSvg",{enumerable:!0,get:function(){return r}})},7746:function(t,e){"use strict";function r(t){let{config:e,src:r,width:n,quality:i}=t;return e.path+"?url="+encodeURIComponent(r)+"&w="+n+"&q="+(i||75)}Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}}),r.__next_img_default=!0;let n=r},1399:function(){},9008:function(t,e,r){t.exports=r(2636)},5675:function(t,e,r){t.exports=r(3740)},1163:function(t,e,r){t.exports=r(6885)},2904:function(t,e,r){"use strict";r.d(e,{ewe:function(){return oB},r6k:function(){return av},IHK:function(){return su},DN2:function(){return sh},FwJ:function(){return iu}});var n,i,s,o,a,l,c,u,h,d,f,p,g,y={};r.r(y),r.d(y,{bitGet:function(){return tJ},bitLen:function(){return tY},bitMask:function(){return tQ},bitSet:function(){return tX},bytesToHex:function(){return tP},bytesToNumberBE:function(){return tV},bytesToNumberLE:function(){return tq},concatBytes:function(){return tG},createHmacDrbg:function(){return t2},ensureBytes:function(){return tW},equalBytes:function(){return tK},hexToBytes:function(){return t$},hexToNumber:function(){return tH},numberToBytesBE:function(){return tM},numberToBytesLE:function(){return tF},numberToHexUnpadded:function(){return t_},numberToVarBytesBE:function(){return tz},utf8ToBytes:function(){return tZ},validateObject:function(){return t8}});var b={};r.r(b),r.d(b,{bitGet:function(){return rq},bitLen:function(){return rV},bitMask:function(){return rF},bitSet:function(){return rM},bytesToHex:function(){return rk},bytesToNumberBE:function(){return rU},bytesToNumberLE:function(){return rR},concatBytes:function(){return r_},createHmacDrbg:function(){return rG},ensureBytes:function(){return rP},equalBytes:function(){return rH},hexToBytes:function(){return rC},hexToNumber:function(){return rO},numberToBytesBE:function(){return rL},numberToBytesLE:function(){return rD},numberToHexUnpadded:function(){return rj},numberToVarBytesBE:function(){return rN},utf8ToBytes:function(){return r$},validateObject:function(){return rZ}}),r(2141);var m=r(735);function w(t,e){for(var r,n,i,s=t.replace(/[^A-Za-z0-9+/]/g,""),o=s.length,a=e?Math.ceil((3*o+1>>2)/e)*e:3*o+1>>2,l=new Uint8Array(a),c=0,u=0,h=0;h<o;h++)if(i=3&h,c|=((r=s.charCodeAt(h))>64&&r<91?r-65:r>96&&r<123?r-71:r>47&&r<58?r+4:43===r?62:47===r?63:0)<<6*(3-i),3===i||o-h==1){for(n=0;n<3&&u<a;n++,u++)l[u]=c>>>(16>>>n&24)&255;c=0}return l}function E(t){return t<26?t+65:t<52?t+71:t<62?t-4:62===t?43:63===t?47:65}function v(t){for(var e=2,r="",n=t.length,i=0,s=0;s<n;s++)e=s%3,s>0&&4*s/3%76==0&&(r+=""),i|=t[s]<<(16>>>e&24),(2===e||t.length-s==1)&&(r+=String.fromCodePoint(E(i>>>18&63),E(i>>>12&63),E(i>>>6&63),E(63&i)),i=0);return r.slice(0,r.length-2+e)+(2===e?"":1===e?"=":"==")}function x(t){let e=t.replace("0x","").match(/.{1,2}/g).map(t=>parseInt(t,16));if(null===e)throw Error(`Unable to parse HEX: ${t}`);return Uint8Array.from(e)}function S(t){return t.reduce((t,e)=>t+e.toString(16).padStart(2,"0"),"")}function B(t,e){let r=new Uint8Array(e),n=0;for(;t>0;)r[n]=Number(t%BigInt(256)),t/=BigInt(256),n+=1;return r}var T=t=>m.encode(t),A=t=>m.decode(t),I=class{constructor(t){this.bytePosition=0,this.dataView=new DataView(t.buffer)}shift(t){return this.bytePosition+=t,this}read8(){let t=this.dataView.getUint8(this.bytePosition);return this.shift(1),t}read16(){let t=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),t}read32(){let t=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),t}read64(){let t=this.read32();return BigInt("0x"+(this.read32().toString(16)+t.toString(16).padStart(8,"0"))).toString(10)}read128(){let t=BigInt(this.read64());return BigInt("0x"+(BigInt(this.read64()).toString(16)+t.toString(16).padStart(8,"0"))).toString(10)}read256(){let t=BigInt(this.read128());return BigInt("0x"+(BigInt(this.read128()).toString(16)+t.toString(16).padStart(16,"0"))).toString(10)}readBytes(t){let e=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,e,t);return this.shift(t),r}readULEB(){let t=this.bytePosition+this.dataView.byteOffset,{value:e,length:r}=function(t){let e=0,r=0,n=0;for(;;){let i=t[n];if(n+=1,e|=(127&i)<<r,(128&i)==0)break;r+=7}return{value:e,length:n}}(new Uint8Array(this.dataView.buffer,t));return this.shift(r),e}readVec(t){let e=this.readULEB(),r=[];for(let n=0;n<e;n++)r.push(t(this,n,e));return r}},k=class{constructor({size:t=1024,maxSize:e,allocateSize:r=1024}={}){this.bytePosition=0,this.size=t,this.maxSize=e||t,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(t))}ensureSizeOrGrow(t){let e=this.bytePosition+t;if(e>this.size){let t=Math.min(this.maxSize,this.size+this.allocateSize);if(e>t)throw Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${e}`);this.size=t;let r=new ArrayBuffer(this.size);new Uint8Array(r).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(r)}}shift(t){return this.bytePosition+=t,this}write8(t){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(t)),this.shift(1)}write16(t){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(t),!0),this.shift(2)}write32(t){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(t),!0),this.shift(4)}write64(t){return B(BigInt(t),8).forEach(t=>this.write8(t)),this}write128(t){return B(BigInt(t),16).forEach(t=>this.write8(t)),this}write256(t){return B(BigInt(t),32).forEach(t=>this.write8(t)),this}writeULEB(t){return(function(t){let e=[],r=0;if(0===t)return[0];for(;t>0;)e[r]=127&t,(t>>=7)&&(e[r]|=128),r+=1;return e})(t).forEach(t=>this.write8(t)),this}writeVec(t,e){return this.writeULEB(t.length),Array.from(t).forEach((r,n)=>e(this,r,n,t.length)),this}*[Symbol.iterator](){for(let t=0;t<this.bytePosition;t++)yield this.dataView.getUint8(t);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(t){return function(t,e){switch(e){case"base58":return T(t);case"base64":return v(t);case"hex":return S(t);default:throw Error("Unsupported encoding, supported values are: base64, hex")}}(this.toBytes(),t)}},j=class{constructor(t){if(this.types=new Map,this.counter=0,t instanceof j){this.schema=t.schema,this.types=new Map(t.types);return}if(this.schema=t,this.registerAddressType(j.ADDRESS,t.addressLength,t.addressEncoding),this.registerVectorType(t.vectorType),t.types&&t.types.structs)for(let e of Object.keys(t.types.structs))this.registerStructType(e,t.types.structs[e]);if(t.types&&t.types.enums)for(let e of Object.keys(t.types.enums))this.registerEnumType(e,t.types.enums[e]);if(t.types&&t.types.aliases)for(let e of Object.keys(t.types.aliases))this.registerAlias(e,t.types.aliases[e]);!1!==t.withPrimitives&&(this.registerType(O.U8,function(t,e){return t.write8(e)},function(t){return t.read8()},t=>t<256),this.registerType(O.U16,function(t,e){return t.write16(e)},function(t){return t.read16()},t=>t<65536),this.registerType(O.U32,function(t,e){return t.write32(e)},function(t){return t.read32()},t=>t<=4294967296n),this.registerType(O.U64,function(t,e){return t.write64(e)},function(t){return t.read64()}),this.registerType(O.U128,function(t,e){return t.write128(e)},function(t){return t.read128()}),this.registerType(O.U256,function(t,e){return t.write256(e)},function(t){return t.read256()}),this.registerType(O.BOOL,function(t,e){return t.write8(e)},function(t){return"1"===t.read8().toString(10)}),this.registerType(O.STRING,function(t,e){return t.writeVec(Array.from(e),(t,e)=>t.write8(e.charCodeAt(0)))},function(t){return t.readVec(t=>t.read8()).map(t=>String.fromCharCode(Number(t))).join("")},t=>!0),this.registerType(O.HEX,function(t,e){return t.writeVec(Array.from(x(e)),(t,e)=>t.write8(e))},function(t){let e=t.readVec(t=>t.read8());return S(new Uint8Array(e))}),this.registerType(O.BASE58,function(t,e){return t.writeVec(Array.from(A(e)),(t,e)=>t.write8(e))},function(t){let e=t.readVec(t=>t.read8());return T(new Uint8Array(e))}),this.registerType(O.BASE64,function(t,e){return t.writeVec(Array.from(w(e)),(t,e)=>t.write8(e))},function(t){let e=t.readVec(t=>t.read8());return v(new Uint8Array(e))}))}tempKey(){return`bcs-struct-${++this.counter}`}ser(t,e,r){if("string"==typeof t||Array.isArray(t)){let{name:n,params:i}=this.parseTypeName(t);return this.getTypeInterface(n).encode(this,e,r,i)}if("object"==typeof t){let n=this.tempKey(),i=new j(this);return i.registerStructType(n,t).ser(n,e,r)}throw Error(`Incorrect type passed into the '.ser()' function. 
${JSON.stringify(t)}`)}de(t,e,r){if("string"==typeof e){if(r)e=function(t,e){switch(e){case"base58":return A(t);case"base64":return w(t);case"hex":return x(t);default:throw Error("Unsupported encoding, supported values are: base64, hex")}}(e,r);else throw Error("To pass a string to `bcs.de`, specify encoding")}if("string"==typeof t||Array.isArray(t)){let{name:r,params:n}=this.parseTypeName(t);return this.getTypeInterface(r).decode(this,e,n)}if("object"==typeof t){let n=new j(this),i=this.tempKey();return n.registerStructType(i,t).de(i,e,r)}throw Error(`Incorrect type passed into the '.de()' function. 
${JSON.stringify(t)}`)}hasType(t){return this.types.has(t)}registerAlias(t,e){return this.types.set(t,e),this}registerType(t,e,r,n=()=>!0){let{name:i,params:s}=this.parseTypeName(t);return this.types.set(i,{encode(t,e,r,n){let i=s.reduce((t,e,r)=>Object.assign(t,{[e]:n[r]}),{});return this._encodeRaw.call(t,new k(r),e,n,i)},decode(t,e,r){let n=s.reduce((t,e,n)=>Object.assign(t,{[e]:r[n]}),{});return this._decodeRaw.call(t,new I(e),r,n)},_encodeRaw(t,r,s,o){if(n(r))return e.call(this,t,r,s,o);throw Error(`Validation failed for type ${i}, data: ${r}`)},_decodeRaw(t,e,n){return r.call(this,t,e,n)}}),this}registerAddressType(t,e,r="hex"){switch(r){case"base64":return this.registerType(t,function(t,e){return w(e).reduce((t,e)=>t.write8(e),t)},function(t){return v(t.readBytes(e))});case"hex":return this.registerType(t,function(t,e){return x(e).reduce((t,e)=>t.write8(e),t)},function(t){return S(t.readBytes(e))});default:throw Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(t){let{name:e,params:r}=this.parseTypeName(t);if(r.length>1)throw Error("Vector can have only one type parameter; got "+e);return this.registerType(t,function(e,r,n,i){return e.writeVec(r,(e,r)=>{let s=n[0];if(!s)throw Error(`Incorrect number of type parameters passed a to vector '${t}'`);let{name:o,params:a}=this.parseTypeName(s);if(this.hasType(o))return this.getTypeInterface(o)._encodeRaw.call(this,e,r,a,i);if(!(o in i))throw Error(`Unable to find a matching type definition for ${o} in vector; make sure you passed a generic`);let{name:l,params:c}=this.parseTypeName(i[o]);return this.getTypeInterface(l)._encodeRaw.call(this,e,r,c,i)})},function(e,r,n){return e.readVec(e=>{let i=r[0];if(!i)throw Error(`Incorrect number of type parameters passed to a vector '${t}'`);let{name:s,params:o}=this.parseTypeName(i);if(this.hasType(s))return this.getTypeInterface(s)._decodeRaw.call(this,e,o,n);if(!(s in n))throw Error(`Unable to find a matching type definition for ${s} in vector; make sure you passed a generic`);let{name:a,params:l}=this.parseTypeName(n[s]);this.getTypeInterface(a)._decodeRaw.call(this,e,l,n)})})}registerStructType(t,e){for(let t in e){let r=this.tempKey(),n=e[t];Array.isArray(n)||"string"==typeof n||(e[t]=r,this.registerStructType(r,n))}let r=Object.freeze(e),n=Object.keys(r),{name:i,params:s}=this.parseTypeName(t);return this.registerType(t,function(t,e,o,a){if(!e||e.constructor!==Object)throw Error(`Expected ${i} to be an Object, got: ${e}`);if(o.length!==s.length)throw Error(`Incorrect number of generic parameters passed; expected: ${s.length}, got: ${o.length}`);for(let l of n){if(!(l in e))throw Error(`Struct ${i} requires field ${l}:${r[l]}`);let{name:n,params:c}=this.parseTypeName(r[l]);if(s.includes(n)){let r=s.indexOf(n),{name:c,params:u}=this.parseTypeName(o[r]);if(this.hasType(c)){this.getTypeInterface(c)._encodeRaw.call(this,t,e[l],u,a);continue}if(!(c in a))throw Error(`Unable to find a matching type definition for ${c} in ${i}; make sure you passed a generic`);let{name:h,params:d}=this.parseTypeName(a[c]);this.getTypeInterface(h)._encodeRaw.call(this,t,e[l],d,a)}else this.getTypeInterface(n)._encodeRaw.call(this,t,e[l],c,a)}return t},function(t,e,o){if(e.length!==s.length)throw Error(`Incorrect number of generic parameters passed; expected: ${s.length}, got: ${e.length}`);let a={};for(let l of n){let{name:n,params:c}=this.parseTypeName(r[l]);if(s.includes(n)){let r=s.indexOf(n),{name:c,params:u}=this.parseTypeName(e[r]);if(this.hasType(c)){a[l]=this.getTypeInterface(c)._decodeRaw.call(this,t,u,o);continue}if(!(c in o))throw Error(`Unable to find a matching type definition for ${c} in ${i}; make sure you passed a generic`);let{name:h,params:d}=this.parseTypeName(o[c]);a[l]=this.getTypeInterface(h)._decodeRaw.call(this,t,d,o)}else a[l]=this.getTypeInterface(n)._decodeRaw.call(this,t,c,o)}return a})}registerEnumType(t,e){for(let t in e){let r=this.tempKey(),n=e[t];null===n||Array.isArray(n)||"string"==typeof n||(e[t]=r,this.registerStructType(r,n))}let r=Object.freeze(e),n=Object.keys(r),{name:i,params:s}=this.parseTypeName(t);return this.registerType(t,function(t,e,o,a){if(!e)throw Error(`Unable to write enum "${i}", missing data.
Received: "${e}"`);if("object"!=typeof e)throw Error(`Incorrect data passed into enum "${i}", expected object with properties: "${n.join(" | ")}".
Received: "${JSON.stringify(e)}"`);let l=Object.keys(e)[0];if(void 0===l)throw Error(`Empty object passed as invariant of the enum "${i}"`);let c=n.indexOf(l);if(-1===c)throw Error(`Unknown invariant of the enum "${i}", allowed values: "${n.join(" | ")}"; received "${l}"`);let u=r[n[c]];if(t.write8(c),null===u)return t;let h=s.indexOf(u),d=-1===h?u:o[h];{let{name:r,params:n}=this.parseTypeName(d);return this.getTypeInterface(r)._encodeRaw.call(this,t,e[l],n,a)}},function(t,e,o){let a=t.readULEB(),l=n[a],c=r[l];if(-1===a)throw Error(`Decoding type mismatch, expected enum "${i}" invariant index, received "${a}"`);if(null===c)return{[l]:!0};let u=s.indexOf(c),h=-1===u?c:e[u];{let{name:e,params:r}=this.parseTypeName(h);return{[l]:this.getTypeInterface(e)._decodeRaw.call(this,t,r,o)}}})}getTypeInterface(t){let e=this.types.get(t);if("string"==typeof e){let t=[];for(;"string"==typeof e;){if(t.includes(e))throw Error(`Recursive definition found: ${t.join(" -> ")} -> ${e}`);t.push(e),e=this.types.get(e)}}if(void 0===e)throw Error(`Type ${t} is not registered`);return e}parseTypeName(t){if(Array.isArray(t)){let[e,...r]=t;return{name:e,params:r}}if("string"!=typeof t)throw Error(`Illegal type passed as a name of the type: ${t}`);let[e,r]=this.schema.genericSeparators||["<",">"],n=t.indexOf(e),i=Array.from(t).reverse().indexOf(r);if(-1===n&&-1===i)return{name:t,params:[]};if(-1===n||-1===i)throw Error(`Unclosed generic in name '${t}'`);return{name:t.slice(0,n),params:t.slice(n+1,t.length-i-1).split(",").map(t=>t.trim())}}},O=j;function C(t){if(!Number.isSafeInteger(t)||t<0)throw Error(`Wrong positive integer: ${t}`)}function U(t,...e){if(!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}O.U8="u8",O.U16="u16",O.U32="u32",O.U64="u64",O.U128="u128",O.U256="u256",O.BOOL="bool",O.VECTOR="vector",O.ADDRESS="address",O.STRING="string",O.HEX="hex-string",O.BASE58="base58-string",O.BASE64="base64-string";var R={number:C,bool:function(t){if("boolean"!=typeof t)throw Error(`Expected boolean, not ${t}`)},bytes:U,hash:function(t){if("function"!=typeof t||"function"!=typeof t.create)throw Error("Hash should be wrapped by utils.wrapConstructor");C(t.outputLen),C(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw Error("Hash instance has been destroyed");if(e&&t.finished)throw Error("Hash#digest() has already been called")},output:function(t,e){U(t);let r=e.outputLen;if(t.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}};let L=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),D=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),N=(t,e)=>t<<32-e|t>>>e,P=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];if(!P)throw Error("Non little-endian hardware is not supported");let _=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function H(t){if(!(t instanceof Uint8Array))throw Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=_[t[r]];return e}function $(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}(t)),!(t instanceof Uint8Array))throw TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class V{clone(){return this._cloneInto()}}function q(t){let e=e=>t().update($(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}class M extends V{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=D(this.buffer)}update(t){R.exists(this);let{view:e,buffer:r,blockLen:n}=this;t=$(t);let i=t.length;for(let s=0;s<i;){let o=Math.min(n-this.pos,i-s);if(o===n){let e=D(t);for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){R.exists(this),R.output(t,this),this.finished=!0;let{buffer:e,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let t=s;t<n;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+(n?4:0),o,n),t.setUint32(e+(n?0:4),a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let o=D(t),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let t=0;t<l;t++)o.setUint32(4*t,c[t],i)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return t.length=n,t.pos=o,t.finished=i,t.destroyed=s,n%e&&t.buffer.set(r),t}}let F=(t,e,r)=>t&e^~t&r,z=(t,e,r)=>t&e^t&r^e&r,W=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),G=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),K=new Uint32Array(64);class Z extends M{constructor(){super(64,32,8,!1),this.A=0|G[0],this.B=0|G[1],this.C=0|G[2],this.D=0|G[3],this.E=0|G[4],this.F=0|G[5],this.G=0|G[6],this.H=0|G[7]}get(){let{A:t,B:e,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[t,e,r,n,i,s,o,a]}set(t,e,r,n,i,s,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)K[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){let e=K[t-15],r=K[t-2],n=N(e,7)^N(e,18)^e>>>3,i=N(r,17)^N(r,19)^r>>>10;K[t]=i+K[t-7]+n+K[t-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:l,H:c}=this;for(let t=0;t<64;t++){let e=N(o,6)^N(o,11)^N(o,25),u=c+e+F(o,a,l)+W[t]+K[t]|0,h=N(r,2)^N(r,13)^N(r,22),d=h+z(r,n,i)|0;c=l,l=a,a=o,o=s+u|0,s=i,i=n,n=r,r=u+d|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,s,o,a,l,c)}roundClean(){K.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Y extends Z{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}q(()=>new Z),q(()=>new Y);let J=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class X extends V{constructor(t,e,r={},n,i,s){if(super(),this.blockLen=t,this.outputLen=e,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,R.number(t),R.number(e),R.number(n),e<0||e>n)throw Error("outputLen bigger than keyLen");if(void 0!==r.key&&(r.key.length<1||r.key.length>n))throw Error(`key must be up 1..${n} byte long or undefined`);if(void 0!==r.salt&&r.salt.length!==i)throw Error(`salt must be ${i} byte long or undefined`);if(void 0!==r.personalization&&r.personalization.length!==s)throw Error(`personalization must be ${s} byte long or undefined`);this.buffer32=L(this.buffer=new Uint8Array(t))}update(t){R.exists(this);let{blockLen:e,buffer:r,buffer32:n}=this;t=$(t);let i=t.length;for(let s=0;s<i;){this.pos===e&&(this.compress(n,0,!1),this.pos=0);let o=Math.min(e-this.pos,i-s),a=t.byteOffset+s;if(o===e&&!(a%4)&&s+o<i){let r=new Uint32Array(t.buffer,a,Math.floor((i-s)/4));for(let t=0;s+e<i;t+=n.length,s+=e)this.length+=e,this.compress(r,t,!1);continue}r.set(t.subarray(s,s+o),this.pos),this.pos+=o,this.length+=o,s+=o}return this}digestInto(t){R.exists(this),R.output(t,this);let{pos:e,buffer32:r}=this;this.finished=!0,this.buffer.subarray(e).fill(0),this.compress(r,0,!0);let n=L(t);this.get().forEach((t,e)=>n[e]=t)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){let{buffer:e,length:r,finished:n,destroyed:i,outputLen:s,pos:o}=this;return t||(t=new this.constructor({dkLen:s})),t.set(...this.get()),t.length=r,t.finished=n,t.destroyed=i,t.outputLen=s,t.buffer.set(e),t.pos=o,t}}let Q=BigInt(4294967296-1),tt=BigInt(32);function te(t,e=!1){return e?{h:Number(t&Q),l:Number(t>>tt&Q)}:{h:0|Number(t>>tt&Q),l:0|Number(t&Q)}}let tr=(t,e)=>BigInt(t>>>0)<<tt|BigInt(e>>>0);var tn={fromBig:te,split:function(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:o}=te(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]},toBig:tr,shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,r)=>t<<r|e>>>32-r,rotlSL:(t,e,r)=>e<<r|t>>>32-r,rotlBH:(t,e,r)=>e<<r-32|t>>>64-r,rotlBL:(t,e,r)=>t<<r-32|e>>>64-r,add:function(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/4294967296|0)|0,l:0|i}},add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/4294967296|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,i)=>e+r+n+i+(t/4294967296|0)|0,add5H:(t,e,r,n,i,s)=>e+r+n+i+s+(t/4294967296|0)|0,add5L:(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};let ti=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ts=new Uint32Array(32);function to(t,e,r,n,i,s){let o=i[s],a=i[s+1],l=ts[2*t],c=ts[2*t+1],u=ts[2*e],h=ts[2*e+1],d=ts[2*r],f=ts[2*r+1],p=ts[2*n],g=ts[2*n+1],y=tn.add3L(l,u,o);c=tn.add3H(y,c,h,a),l=0|y,({Dh:g,Dl:p}={Dh:g^c,Dl:p^l}),({Dh:g,Dl:p}={Dh:tn.rotr32H(g,p),Dl:tn.rotr32L(g,p)}),({h:f,l:d}=tn.add(f,d,g,p)),({Bh:h,Bl:u}={Bh:h^f,Bl:u^d}),({Bh:h,Bl:u}={Bh:tn.rotrSH(h,u,24),Bl:tn.rotrSL(h,u,24)}),ts[2*t]=l,ts[2*t+1]=c,ts[2*e]=u,ts[2*e+1]=h,ts[2*r]=d,ts[2*r+1]=f,ts[2*n]=p,ts[2*n+1]=g}function ta(t,e,r,n,i,s){let o=i[s],a=i[s+1],l=ts[2*t],c=ts[2*t+1],u=ts[2*e],h=ts[2*e+1],d=ts[2*r],f=ts[2*r+1],p=ts[2*n],g=ts[2*n+1],y=tn.add3L(l,u,o);c=tn.add3H(y,c,h,a),l=0|y,({Dh:g,Dl:p}={Dh:g^c,Dl:p^l}),({Dh:g,Dl:p}={Dh:tn.rotrSH(g,p,16),Dl:tn.rotrSL(g,p,16)}),({h:f,l:d}=tn.add(f,d,g,p)),({Bh:h,Bl:u}={Bh:h^f,Bl:u^d}),({Bh:h,Bl:u}={Bh:tn.rotrBH(h,u,63),Bl:tn.rotrBL(h,u,63)}),ts[2*t]=l,ts[2*t+1]=c,ts[2*e]=u,ts[2*e+1]=h,ts[2*r]=d,ts[2*r+1]=f,ts[2*n]=p,ts[2*n+1]=g}class tl extends X{constructor(t={}){super(128,void 0===t.dkLen?64:t.dkLen,t,64,16,16),this.v0l=0|ti[0],this.v0h=0|ti[1],this.v1l=0|ti[2],this.v1h=0|ti[3],this.v2l=0|ti[4],this.v2h=0|ti[5],this.v3l=0|ti[6],this.v3h=0|ti[7],this.v4l=0|ti[8],this.v4h=0|ti[9],this.v5l=0|ti[10],this.v5h=0|ti[11],this.v6l=0|ti[12],this.v6h=0|ti[13],this.v7l=0|ti[14],this.v7h=0|ti[15];let e=t.key?t.key.length:0;if(this.v0l^=this.outputLen|e<<8|16842752,t.salt){let e=L($(t.salt));this.v4l^=e[0],this.v4h^=e[1],this.v5l^=e[2],this.v5h^=e[3]}if(t.personalization){let e=L($(t.personalization));this.v6l^=e[0],this.v6h^=e[1],this.v7l^=e[2],this.v7h^=e[3]}if(t.key){let e=new Uint8Array(this.blockLen);e.set($(t.key)),this.update(e)}}get(){let{v0l:t,v0h:e,v1l:r,v1h:n,v2l:i,v2h:s,v3l:o,v3h:a,v4l:l,v4h:c,v5l:u,v5h:h,v6l:d,v6h:f,v7l:p,v7h:g}=this;return[t,e,r,n,i,s,o,a,l,c,u,h,d,f,p,g]}set(t,e,r,n,i,s,o,a,l,c,u,h,d,f,p,g){this.v0l=0|t,this.v0h=0|e,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|s,this.v3l=0|o,this.v3h=0|a,this.v4l=0|l,this.v4h=0|c,this.v5l=0|u,this.v5h=0|h,this.v6l=0|d,this.v6h=0|f,this.v7l=0|p,this.v7h=0|g}compress(t,e,r){this.get().forEach((t,e)=>ts[e]=t),ts.set(ti,16);let{h:n,l:i}=tn.fromBig(BigInt(this.length));ts[24]=ti[8]^i,ts[25]=ti[9]^n,r&&(ts[28]=~ts[28],ts[29]=~ts[29]);let s=0;for(let r=0;r<12;r++)to(0,4,8,12,t,e+2*J[s++]),ta(0,4,8,12,t,e+2*J[s++]),to(1,5,9,13,t,e+2*J[s++]),ta(1,5,9,13,t,e+2*J[s++]),to(2,6,10,14,t,e+2*J[s++]),ta(2,6,10,14,t,e+2*J[s++]),to(3,7,11,15,t,e+2*J[s++]),ta(3,7,11,15,t,e+2*J[s++]),to(0,5,10,15,t,e+2*J[s++]),ta(0,5,10,15,t,e+2*J[s++]),to(1,6,11,12,t,e+2*J[s++]),ta(1,6,11,12,t,e+2*J[s++]),to(2,7,8,13,t,e+2*J[s++]),ta(2,7,8,13,t,e+2*J[s++]),to(3,4,9,14,t,e+2*J[s++]),ta(3,4,9,14,t,e+2*J[s++]);this.v0l^=ts[0]^ts[16],this.v0h^=ts[1]^ts[17],this.v1l^=ts[2]^ts[18],this.v1h^=ts[3]^ts[19],this.v2l^=ts[4]^ts[20],this.v2h^=ts[5]^ts[21],this.v3l^=ts[6]^ts[22],this.v3h^=ts[7]^ts[23],this.v4l^=ts[8]^ts[24],this.v4h^=ts[9]^ts[25],this.v5l^=ts[10]^ts[26],this.v5h^=ts[11]^ts[27],this.v6l^=ts[12]^ts[28],this.v6h^=ts[13]^ts[29],this.v7l^=ts[14]^ts[30],this.v7h^=ts[15]^ts[31],ts.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}let tc=function(t){let e=(e,r)=>t(r).update($(e)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=e=>t(e),e}(t=>new tl(t));var tu=r(9492),th=r(2457);function td(t){if(!Number.isSafeInteger(t)||t<0)throw Error(`Wrong positive integer: ${t}`)}function tf(t,...e){if(!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}var tp={number:td,bool:function(t){if("boolean"!=typeof t)throw Error(`Expected boolean, not ${t}`)},bytes:tf,hash:function(t){if("function"!=typeof t||"function"!=typeof t.create)throw Error("Hash should be wrapped by utils.wrapConstructor");td(t.outputLen),td(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw Error("Hash instance has been destroyed");if(e&&t.finished)throw Error("Hash#digest() has already been called")},output:function(t,e){tf(t);let r=e.outputLen;if(t.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}};let tg="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,ty=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),tb=(t,e)=>t<<32-e|t>>>e,tm=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];if(!tm)throw Error("Non little-endian hardware is not supported");function tw(t){if("string"==typeof t&&(t=function(t){if("string"!=typeof t)throw TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}(t)),!(t instanceof Uint8Array))throw TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));class tE{clone(){return this._cloneInto()}}function tv(t){let e=e=>t().update(tw(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function tx(t=32){if(tg&&"function"==typeof tg.getRandomValues)return tg.getRandomValues(new Uint8Array(t));throw Error("crypto.getRandomValues must be defined")}class tS extends tE{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=ty(this.buffer)}update(t){tp.exists(this);let{view:e,buffer:r,blockLen:n}=this;t=tw(t);let i=t.length;for(let s=0;s<i;){let o=Math.min(n-this.pos,i-s);if(o===n){let e=ty(t);for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){tp.exists(this),tp.output(t,this),this.finished=!0;let{buffer:e,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let t=s;t<n;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+(n?4:0),o,n),t.setUint32(e+(n?0:4),a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let o=ty(t),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let t=0;t<l;t++)o.setUint32(4*t,c[t],i)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return t.length=n,t.pos=o,t.finished=i,t.destroyed=s,n%e&&t.buffer.set(r),t}}let tB=(t,e,r)=>t&e^~t&r,tT=(t,e,r)=>t&e^t&r^e&r,tA=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),tI=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tk=new Uint32Array(64);class tj extends tS{constructor(){super(64,32,8,!1),this.A=0|tI[0],this.B=0|tI[1],this.C=0|tI[2],this.D=0|tI[3],this.E=0|tI[4],this.F=0|tI[5],this.G=0|tI[6],this.H=0|tI[7]}get(){let{A:t,B:e,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[t,e,r,n,i,s,o,a]}set(t,e,r,n,i,s,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)tk[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){let e=tk[t-15],r=tk[t-2],n=tb(e,7)^tb(e,18)^e>>>3,i=tb(r,17)^tb(r,19)^r>>>10;tk[t]=i+tk[t-7]+n+tk[t-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:l,H:c}=this;for(let t=0;t<64;t++){let e=tb(o,6)^tb(o,11)^tb(o,25),u=c+e+tB(o,a,l)+tA[t]+tk[t]|0,h=tb(r,2)^tb(r,13)^tb(r,22),d=h+tT(r,n,i)|0;c=l,l=a,a=o,o=s+u|0,s=i,i=n,n=r,r=u+d|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,s,o,a,l,c)}roundClean(){tk.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class tO extends tj{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}let tC=tv(()=>new tj);tv(()=>new tO);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let tU=BigInt(0),tR=BigInt(1),tL=BigInt(2),tD=t=>t instanceof Uint8Array,tN=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function tP(t){if(!tD(t))throw Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=tN[t[r]];return e}function t_(t){let e=t.toString(16);return 1&e.length?`0${e}`:e}function tH(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}function t$(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);if(t.length%2)throw Error("hex string is invalid: unpadded "+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=2*r,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw Error("invalid byte sequence");e[r]=s}return e}function tV(t){return tH(tP(t))}function tq(t){if(!tD(t))throw Error("Uint8Array expected");return tH(tP(Uint8Array.from(t).reverse()))}let tM=(t,e)=>t$(t.toString(16).padStart(2*e,"0")),tF=(t,e)=>tM(t,e).reverse(),tz=t=>t$(t_(t));function tW(t,e,r){let n;if("string"==typeof e)try{n=t$(e)}catch(r){throw Error(`${t} must be valid hex string, got "${e}". Cause: ${r}`)}else if(tD(e))n=Uint8Array.from(e);else throw Error(`${t} must be hex string or Uint8Array`);let i=n.length;if("number"==typeof r&&i!==r)throw Error(`${t} expected ${r} bytes, got ${i}`);return n}function tG(...t){let e=new Uint8Array(t.reduce((t,e)=>t+e.length,0)),r=0;return t.forEach(t=>{if(!tD(t))throw Error("Uint8Array expected");e.set(t,r),r+=t.length}),e}function tK(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function tZ(t){if("string"!=typeof t)throw Error(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function tY(t){let e;for(e=0;t>0n;t>>=tR,e+=1);return e}let tJ=(t,e)=>t>>BigInt(e)&1n,tX=(t,e,r)=>t|(r?tR:tU)<<BigInt(e),tQ=t=>(tL<<BigInt(t-1))-tR,t0=t=>new Uint8Array(t),t1=t=>Uint8Array.from(t);function t2(t,e,r){if("number"!=typeof t||t<2)throw Error("hashLen must be a number");if("number"!=typeof e||e<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=t0(t),i=t0(t),s=0,o=()=>{n.fill(1),i.fill(0),s=0},a=(...t)=>r(i,n,...t),l=(t=t0())=>{i=a(t1([0]),t),n=a(),0!==t.length&&(i=a(t1([1]),t),n=a())},c=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let t=0,r=[];for(;t<e;){n=a();let e=n.slice();r.push(e),t+=n.length}return tG(...r)},u=(t,e)=>{let r;for(o(),l(t);!(r=e(c()));)l();return o(),r};return u}let t3={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function t8(t,e,r={}){let n=(e,r,n)=>{let i=t3[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let s=t[e];if((!n||void 0!==s)&&!i(s,t))throw Error(`Invalid param ${String(e)}=${s} (${typeof s}), expected ${r}`)};for(let[t,r]of Object.entries(e))n(t,r,!1);for(let[t,e]of Object.entries(r))n(t,e,!0);return t}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let t4=BigInt(0),t5=BigInt(1),t6=BigInt(2),t7=BigInt(3),t9=BigInt(4),et=BigInt(5),ee=BigInt(8);function er(t,e){let r=t%e;return r>=t4?r:e+r}function en(t,e,r){let n=t;for(;e-- >t4;)n*=n,n%=r;return n}function ei(t,e){if(t===t4||e<=t4)throw Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=er(t,e),n=e,i=t4,s=t5,o=t5,a=t4;for(;r!==t4;){let t=n/r,e=n%r,l=i-o*t,c=s-a*t;n=r,r=e,i=o,s=a,o=l,a=c}let l=n;if(l!==t5)throw Error("invert: does not exist");return er(i,e)}BigInt(9),BigInt(16);let es=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function eo(t){let e=es.reduce((t,e)=>(t[e]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return t8(t,e)}function ea(t,e){let r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let el=BigInt(0),ec=BigInt(1);function eu(t){return eo(t.Fp),t8(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ea(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}let{bytesToNumberBE:eh,hexToBytes:ed}=y,ef={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){let{Err:e}=ef;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(0===n[0]&&n[1]<=127)throw new e("Invalid signature integer: trailing length");return{d:eh(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=ef,r="string"==typeof t?ed(t):t;if(!(r instanceof Uint8Array))throw Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=ef._parseInt(r.subarray(2)),{d:o,l:a}=ef._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){let e=t=>Number.parseInt(t[0],16)>=8?"00"+t:t,r=t=>{let e=t.toString(16);return 1&e.length?`0${e}`:e},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),l=r(o);return`30${r(o+s+4)}02${l}${i}02${a}${n}`}},ep=BigInt(0),eg=BigInt(1),ey=BigInt(2),eb=BigInt(3),em=BigInt(4),ew=tV;function eE(t,e){if(t<0||t>=1<<8*e)throw Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=255&t,t>>>=8;return new Uint8Array(r)}function ev(t){if(!(t instanceof Uint8Array))throw Error("Uint8Array expected")}function ex(t){if(!Number.isSafeInteger(t))throw Error("number expected")}function eS(t,e,r){let n;t8(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:i,k:s,m:o,hash:a,expand:l,DST:c}=r;ev(t),ex(e);let u=function(t){if(t instanceof Uint8Array)return t;if("string"==typeof t)return tZ(t);throw Error("DST must be Uint8Array or string")}(c),h=i.toString(2).length,d=Math.ceil((h+s)/8),f=e*o*d;if("xmd"===l)n=function(t,e,r,n){ev(t),ev(e),ex(r),e.length>255&&(e=n(tG(tZ("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(o>255)throw Error("Invalid xmd length");let a=tG(e,eE(e.length,1)),l=eE(0,s),c=eE(r,2),u=Array(o),h=n(tG(l,t,c,eE(0,1),a));u[0]=n(tG(h,eE(1,1),a));for(let t=1;t<=o;t++){let e=[function(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}(h,u[t-1]),eE(t+1,1),a];u[t]=n(tG(...e))}let d=tG(...u);return d.slice(0,r)}(t,u,f,a);else if("xof"===l)n=function(t,e,r,n,i){if(ev(t),ev(e),ex(r),e.length>255&&(e=i.create({dkLen:Math.ceil(2*n/8)}).update(tZ("H2C-OVERSIZE-DST-")).update(e).digest()),r>65535||e.length>255)throw Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(eE(r,2)).update(e).update(eE(e.length,1)).digest()}(t,u,f,s,a);else if(void 0===l)n=t;else throw Error('expand must be "xmd", "xof" or undefined');let p=Array(e);for(let t=0;t<e;t++){let e=Array(o);for(let r=0;r<o;r++){let s=d*(r+t*o),a=n.subarray(s,s+d);e[r]=er(ew(a),i)}p[t]=e}return p}class eB extends tE{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,tp.hash(t);let r=tw(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),i.fill(0)}update(t){return tp.exists(this),this.iHash.update(t),this}digestInto(t){tp.exists(this),tp.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return t.finished=n,t.destroyed=i,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let eT=(t,e,r)=>new eB(t,e).update(r).digest();eT.create=(t,e)=>new eB(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let eA=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),eI=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ek=BigInt(1),ej=BigInt(2),eO=(t,e)=>(t+e/ej)/e,eC=function(t,e,r=!1,n={}){if(t<=t4)throw Error(`Expected Fp ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=ea(t,e);if(s>2048)throw Error("Field lengths over 2048 bytes are not supported");let o=function(t){if(t%t9===t7){let e=(t+t5)/t9;return function(t,r){let n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw Error("Cannot find square root");return n}}if(t%ee===et){let e=(t-et)/ee;return function(t,r){let n=t.mul(r,t6),i=t.pow(n,e),s=t.mul(r,i),o=t.mul(t.mul(s,t6),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),r))throw Error("Cannot find square root");return a}}return function(t){let e,r,n;let i=(t-t5)/t6;for(e=t-t5,r=0;e%t6===t4;e/=t6,r++);for(n=t6;n<t&&function(t,e,r){if(r<=t4||e<t4)throw Error("Expected power/modulo > 0");if(r===t5)return t4;let n=t5;for(;e>t4;)e&t5&&(n=n*t%r),t=t*t%r,e>>=t5;return n}(n,i,t)!==t-t5;n++);if(1===r){let e=(t+t5)/t9;return function(t,r){let n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw Error("Cannot find square root");return n}}let s=(e+t5)/t6;return function(t,o){if(t.pow(o,i)===t.neg(t.ONE))throw Error("Cannot find square root");let a=r,l=t.pow(t.mul(t.ONE,n),e),c=t.pow(o,s),u=t.pow(o,e);for(;!t.eql(u,t.ONE);){if(t.eql(u,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(u);e<a&&!t.eql(r,t.ONE);e++)r=t.sqr(r);let r=t.pow(l,t5<<BigInt(a-e-1));l=t.sqr(r),c=t.mul(c,r),u=t.mul(u,l),a=e}return c}}(t)}(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:tQ(i),ZERO:t4,ONE:t5,create:e=>er(e,t),isValid:e=>{if("bigint"!=typeof e)throw Error(`Invalid field element: expected bigint, got ${typeof e}`);return t4<=e&&e<t},is0:t=>t===t4,isOdd:t=>(t&t5)===t5,neg:e=>er(-e,t),eql:(t,e)=>t===e,sqr:e=>er(e*e,t),add:(e,r)=>er(e+r,t),sub:(e,r)=>er(e-r,t),mul:(e,r)=>er(e*r,t),pow:(t,e)=>(function(t,e,r){if(r<t4)throw Error("Expected power > 0");if(r===t4)return t.ONE;if(r===t5)return e;let n=t.ONE,i=e;for(;r>t4;)r&t5&&(n=t.mul(n,i)),i=t.sqr(i),r>>=t5;return n})(a,t,e),div:(e,r)=>er(e*ei(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>ei(e,t),sqrt:n.sqrt||(t=>o(a,t)),invertBatch:t=>(function(t,e){let r=Array(e.length),n=e.reduce((e,n,i)=>t.is0(n)?e:(r[i]=e,t.mul(e,n)),t.ONE),i=t.inv(n);return e.reduceRight((e,n,i)=>t.is0(n)?e:(r[i]=t.mul(e,r[i]),t.mul(e,n)),i),r})(a,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?tF(t,s):tM(t,s),fromBytes:t=>{if(t.length!==s)throw Error(`Fp.fromBytes: expected ${s}, got ${t.length}`);return r?tq(t):tV(t)}});return Object.freeze(a)}(eA,void 0,void 0,{sqrt:function(t){let e=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),l=t*t*t%eA,c=l*l*t%eA,u=en(c,e,eA)*c%eA,h=en(u,e,eA)*c%eA,d=en(h,ej,eA)*l%eA,f=en(d,n,eA)*d%eA,p=en(f,i,eA)*f%eA,g=en(p,o,eA)*p%eA,y=en(g,a,eA)*g%eA,b=en(y,o,eA)*p%eA,m=en(b,e,eA)*c%eA,w=en(m,s,eA)*f%eA,E=en(w,r,eA)*l%eA,v=en(E,ej,eA);if(!eC.eql(eC.sqr(v),t))throw Error("Cannot find square root");return v}}),eU=function(t,e){let r=e=>(function(t){let e=function(t){let e=eu(t);return t8(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n:n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(t){return er(t,n)}let{ProjectivePoint:a,normPrivateKeyToScalar:l,weierstrassEquation:c,isWithinCurveOrder:u}=function(t){let e=/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function(t){let e=eu(t);t8(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,n=e.toBytes||((t,e,n)=>{let i=e.toAffine();return tG(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=e.fromBytes||(t=>{let e=t.subarray(1),n=r.fromBytes(e.subarray(0,r.BYTES)),i=r.fromBytes(e.subarray(r.BYTES,2*r.BYTES));return{x:n,y:i}});function s(t){let{a:n,b:i}=e,s=r.sqr(t),o=r.mul(s,t);return r.add(r.add(o,r.mul(t,n)),i)}function o(t){return"bigint"==typeof t&&ep<t&&t<e.n}function a(t){if(!o(t))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function l(t){let r;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:o}=e;if(n&&"bigint"!=typeof t){if(t instanceof Uint8Array&&(t=tP(t)),"string"!=typeof t||!n.includes(t.length))throw Error("Invalid key");t=t.padStart(2*i,"0")}try{r="bigint"==typeof t?t:tV(tW("private key",t,i))}catch(e){throw Error(`private key must be ${i} bytes, hex or bigint, not ${typeof t}`)}return s&&(r=er(r,o)),a(r),r}let c=new Map;function u(t){if(!(t instanceof h))throw Error("ProjectivePoint expected")}class h{constructor(t,e,n){if(this.px=t,this.py=e,this.pz=n,null==t||!r.isValid(t))throw Error("x required");if(null==e||!r.isValid(e))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required")}static fromAffine(t){let{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw Error("invalid affine point");if(t instanceof h)throw Error("projective point not allowed");let i=t=>r.eql(t,r.ZERO);return i(e)&&i(n)?h.ZERO:new h(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){let e=r.invertBatch(t.map(t=>t.pz));return t.map((t,r)=>t.toAffine(e[r])).map(h.fromAffine)}static fromHex(t){let e=h.fromAffine(i(tW("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return h.BASE.multiply(l(t))}_setWindowSize(t){this._WINDOW_SIZE=t,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw Error("bad point: ZERO")}let{x:t,y:n}=this.toAffine();if(!r.isValid(t)||!r.isValid(n))throw Error("bad point: x or y not FE");let i=r.sqr(n),o=s(t);if(!r.eql(i,o))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw Error("Field doesn't support isOdd")}equals(t){u(t);let{px:e,py:n,pz:i}=this,{px:s,py:o,pz:a}=t,l=r.eql(r.mul(e,a),r.mul(s,i)),c=r.eql(r.mul(n,a),r.mul(o,i));return l&&c}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){let{a:t,b:n}=e,i=r.mul(n,eb),{px:s,py:o,pz:a}=this,l=r.ZERO,c=r.ZERO,u=r.ZERO,d=r.mul(s,s),f=r.mul(o,o),p=r.mul(a,a),g=r.mul(s,o);return g=r.add(g,g),u=r.mul(s,a),u=r.add(u,u),l=r.mul(t,u),c=r.mul(i,p),c=r.add(l,c),l=r.sub(f,c),c=r.add(f,c),c=r.mul(l,c),l=r.mul(g,l),u=r.mul(i,u),p=r.mul(t,p),g=r.sub(d,p),g=r.mul(t,g),g=r.add(g,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,p),d=r.mul(d,g),c=r.add(c,d),p=r.mul(o,a),p=r.add(p,p),d=r.mul(p,g),l=r.sub(l,d),u=r.mul(p,f),u=r.add(u,u),u=r.add(u,u),new h(l,c,u)}add(t){u(t);let{px:n,py:i,pz:s}=this,{px:o,py:a,pz:l}=t,c=r.ZERO,d=r.ZERO,f=r.ZERO,p=e.a,g=r.mul(e.b,eb),y=r.mul(n,o),b=r.mul(i,a),m=r.mul(s,l),w=r.add(n,i),E=r.add(o,a);w=r.mul(w,E),E=r.add(y,b),w=r.sub(w,E),E=r.add(n,s);let v=r.add(o,l);return E=r.mul(E,v),v=r.add(y,m),E=r.sub(E,v),v=r.add(i,s),c=r.add(a,l),v=r.mul(v,c),c=r.add(b,m),v=r.sub(v,c),f=r.mul(p,E),c=r.mul(g,m),f=r.add(c,f),c=r.sub(b,f),f=r.add(b,f),d=r.mul(c,f),b=r.add(y,y),b=r.add(b,y),m=r.mul(p,m),E=r.mul(g,E),b=r.add(b,m),m=r.sub(y,m),m=r.mul(p,m),E=r.add(E,m),y=r.mul(b,E),d=r.add(d,y),y=r.mul(v,E),c=r.mul(w,c),c=r.sub(c,y),y=r.mul(w,b),f=r.mul(v,f),f=r.add(f,y),new h(c,d,f)}subtract(t){return this.add(t.negate())}is0(){return this.equals(h.ZERO)}wNAF(t){return f.wNAFCached(this,c,t,t=>{let e=r.invertBatch(t.map(t=>t.pz));return t.map((t,r)=>t.toAffine(e[r])).map(h.fromAffine)})}multiplyUnsafe(t){let n=h.ZERO;if(t===ep)return n;if(a(t),t===eg)return this;let{endo:i}=e;if(!i)return f.unsafeLadder(this,t);let{k1neg:s,k1:o,k2neg:l,k2:c}=i.splitScalar(t),u=n,d=n,p=this;for(;o>ep||c>ep;)o&eg&&(u=u.add(p)),c&eg&&(d=d.add(p)),p=p.double(),o>>=eg,c>>=eg;return s&&(u=u.negate()),l&&(d=d.negate()),d=new h(r.mul(d.px,i.beta),d.py,d.pz),u.add(d)}multiply(t){let n,i;a(t);let{endo:s}=e;if(s){let{k1neg:e,k1:o,k2neg:a,k2:l}=s.splitScalar(t),{p:c,f:u}=this.wNAF(o),{p:d,f:p}=this.wNAF(l);c=f.constTimeNegate(e,c),d=f.constTimeNegate(a,d),d=new h(r.mul(d.px,s.beta),d.py,d.pz),n=c.add(d),i=u.add(p)}else{let{p:e,f:r}=this.wNAF(t);n=e,i=r}return h.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(t,e,r){let n=h.BASE,i=(t,e)=>e!==ep&&e!==eg&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),s=i(this,e).add(i(t,r));return s.is0()?void 0:s}toAffine(t){let{px:e,py:n,pz:i}=this,s=this.is0();null==t&&(t=s?r.ONE:r.inv(i));let o=r.mul(e,t),a=r.mul(n,t),l=r.mul(i,t);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){let{h:t,isTorsionFree:r}=e;if(t===eg)return!0;if(r)return r(h,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:t,clearCofactor:r}=e;return t===eg?this:r?r(h,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),n(h,this,t)}toHex(t=!0){return tP(this.toRawBytes(t))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);let d=e.nBitLength,f=function(t,e){let r=(t,e)=>{let r=e.negate();return t?r:e},n=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:r,unsafeLadder(e,r){let n=t.ZERO,i=e;for(;r>el;)r&ec&&(n=n.add(i)),i=i.double(),r>>=ec;return n},precomputeWindow(t,e){let{windows:r,windowSize:i}=n(e),s=[],o=t,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let t=1;t<i;t++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(e,i,s){let{windows:o,windowSize:a}=n(e),l=t.ZERO,c=t.BASE,u=BigInt(2**e-1),h=2**e,d=BigInt(e);for(let t=0;t<o;t++){let e=t*a,n=Number(s&u);s>>=d,n>a&&(n-=h,s+=ec);let o=e+Math.abs(n)-1,f=t%2!=0,p=n<0;0===n?c=c.add(r(f,i[e])):l=l.add(r(p,i[o]))}return{p:l,f:c}},wNAFCached(t,e,r,n){let i=t._WINDOW_SIZE||1,s=e.get(t);return s||(s=this.precomputeWindow(t,i),1!==i&&e.set(t,n(s))),this.wNAF(i,s,r)}}}(h,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}({...e,toBytes(t,e,n){let i=e.toAffine(),s=r.toBytes(i.x),o=tG;return n?o(Uint8Array.from([e.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(t){let e=t.length,n=t[0],o=t.subarray(1);if(e===i&&(2===n||3===n)){let t=tV(o);if(!(ep<t&&t<r.ORDER))throw Error("Point is not on curve");let e=c(t),i=r.sqrt(e),s=(i&eg)===eg;return(1&n)==1!==s&&(i=r.neg(i)),{x:t,y:i}}if(e===s&&4===n){let t=r.fromBytes(o.subarray(0,r.BYTES)),e=r.fromBytes(o.subarray(r.BYTES,2*r.BYTES));return{x:t,y:e}}throw Error(`Point of length ${e} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),h=t=>tP(tM(t,e.nByteLength)),d=(t,e,r)=>tV(t.slice(e,r));class f{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){let r=e.nByteLength;return t=tW("compactSignature",t,2*r),new f(d(t,0,r),d(t,r,2*r))}static fromDER(t){let{r:e,s:r}=ef.toSig(tW("DER",t));return new f(e,r)}assertValidity(){if(!u(this.r))throw Error("r must be 0 < r < CURVE.n");if(!u(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new f(this.r,this.s,t)}recoverPublicKey(t){let{r:i,s,recovery:l}=this,c=y(tW("msgHash",t));if(null==l||![0,1,2,3].includes(l))throw Error("recovery id invalid");let u=2===l||3===l?i+e.n:i;if(u>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let d=a.fromHex(((1&l)==0?"02":"03")+h(u)),f=ei(u,n),p=o(-c*f),g=o(s*f),b=a.BASE.multiplyAndAddUnsafe(d,p,g);if(!b)throw Error("point at infinify");return b.assertValidity(),b}hasHighS(){return this.s>n>>eg}normalizeS(){return this.hasHighS()?new f(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return t$(this.toDERHex())}toDERHex(){return ef.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return t$(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}function p(t){let e=t instanceof Uint8Array,r="string"==typeof t,n=(e||r)&&t.length;return e?n===i||n===s:r?n===2*i||n===2*s:t instanceof a}let g=e.bits2int||function(t){let r=tV(t),n=8*t.length-e.nBitLength;return n>0?r>>BigInt(n):r},y=e.bits2int_modN||function(t){return o(g(t))},b=tQ(e.nBitLength);function m(t){if("bigint"!=typeof t)throw Error("bigint expected");if(!(ep<=t&&t<b))throw Error(`bigint expected < 2^${e.nBitLength}`);return tM(t,e.nByteLength)}let w={lowS:e.lowS,prehash:!1},E={lowS:e.lowS,prehash:!1};return a.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return a.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(p(t))throw Error("first arg must be private key");if(!p(e))throw Error("second arg must be public key");let n=a.fromHex(e);return n.multiply(l(t)).toRawBytes(r)},sign:function(t,i,s=w){let{seed:c,k2sig:h}=function(t,i,s=w){if(["recovered","canonical"].some(t=>t in s))throw Error("sign() legacy options not supported");let{hash:c,randomBytes:h}=e,{lowS:d,prehash:p,extraEntropy:b}=s;null==d&&(d=!0),t=tW("msgHash",t),p&&(t=tW("prehashed msgHash",c(t)));let E=y(t),v=l(i),x=[m(v),m(E)];if(null!=b){let t=!0===b?h(r.BYTES):b;x.push(tW("extraEntropy",t,r.BYTES))}let S=tG(...x);return{seed:S,k2sig:function(t){let e=g(t);if(!u(e))return;let r=ei(e,n),i=a.BASE.multiply(e).toAffine(),s=o(i.x);if(s===ep)return;let l=o(r*o(E+s*v));if(l===ep)return;let c=(i.x===s?0:2)|Number(i.y&eg),h=l;if(d&&l>n>>eg)h=l>n>>eg?o(-l):l,c^=1;return new f(s,h,c)}}}(t,i,s),d=t2(e.hash.outputLen,e.nByteLength,e.hmac);return d(c,h)},verify:function(t,r,i,s=E){let l,c;if(r=tW("msgHash",r),i=tW("publicKey",i),"strict"in s)throw Error("options.strict was renamed to lowS");let{lowS:u,prehash:h}=s;try{if("string"==typeof t||t instanceof Uint8Array)try{c=f.fromDER(t)}catch(e){if(!(e instanceof ef.Err))throw e;c=f.fromCompact(t)}else if("object"==typeof t&&"bigint"==typeof t.r&&"bigint"==typeof t.s){let{r:e,s:r}=t;c=new f(e,r)}else throw Error("PARSE");l=a.fromHex(i)}catch(t){if("PARSE"===t.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&c.hasHighS())return!1;h&&(r=e.hash(r));let{r:d,s:p}=c,g=y(r),b=ei(p,n),m=o(g*b),w=o(d*b),v=a.BASE.multiplyAndAddUnsafe(l,m,w)?.toAffine();if(!v)return!1;let x=o(v.x);return x===d},ProjectivePoint:a,Signature:f,utils:{isValidPrivateKey(t){try{return l(t),!0}catch(t){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let t=e.randomBytes(r.BYTES+8),i=function(t,e,r=!1){t=tW("privateHash",t);let n=t.length,i=ea(e).nByteLength+8;if(i<24||n<i||n>1024)throw Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let s=r?tq(t):tV(t);return er(s,e-t5)+t5}(t,n);return tM(i,e.nByteLength)},precompute:(t=8,e=a.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}})({...t,hash:e,hmac:(t,...r)=>eT(e,t,function(...t){if(!t.every(t=>t instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===t.length)return t[0];let e=t.reduce((t,e)=>t+e.length,0),r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){let i=t[e];r.set(i,n),n+=i.length}return r}(...r)),randomBytes:tx});return Object.freeze({...r(e),create:r})}({a:BigInt(0),b:BigInt(7),Fp:eC,n:eI,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-ek*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),s=eO(e*t,eI),o=eO(-r*t,eI),a=er(t-s*e-o*n,eI),l=er(-s*r-o*e,eI),c=a>i,u=l>i;if(c&&(a=eI-a),u&&(l=eI-l),a>i||l>i)throw Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:c,k1:a,k2neg:u,k2:l}}}},tC);BigInt(0),eU.ProjectivePoint,eU.utils.randomPrivateKey;let eR=function(t,e){let r=e.map(t=>Array.from(t).reverse());return(e,n)=>{let[i,s,o,a]=r.map(r=>r.reduce((r,n)=>t.add(t.mul(r,e),n)));return{x:e=t.div(i,s),y:n=t.mul(n,t.div(o,a))}}}(eC,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(t=>BigInt(t)))),eL=function(t,e){if(eo(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let r=function(t,e){let r=t.ORDER,n=ep;for(let t=r-eg;t%ey===ep;t/=ey)n+=eg;let i=n,s=(r-eg)/ey**i,o=(s-eg)/ey,a=ey**i-eg,l=ey**(i-eg),c=t.pow(e,s),u=t.pow(e,(s+eg)/ey),h=(e,r)=>{let n=c,s=t.pow(r,a),h=t.sqr(s);h=t.mul(h,r);let d=t.mul(e,h);d=t.pow(d,o),d=t.mul(d,s),s=t.mul(d,r),h=t.mul(d,e);let f=t.mul(h,s);d=t.pow(f,l);let p=t.eql(d,t.ONE);s=t.mul(h,u),d=t.mul(f,n),h=t.cmov(s,h,p),f=t.cmov(d,f,p);for(let e=i;e>1;e--){let r=ey**(e-ey),i=t.pow(f,r),o=t.eql(i,t.ONE);s=t.mul(h,n),n=t.mul(n,n),i=t.mul(f,n),h=t.cmov(s,h,o),f=t.cmov(i,f,o)}return{isValid:p,value:h}};if(t.ORDER%em===eb){let r=(t.ORDER-eb)/em,n=t.sqrt(t.neg(e));h=(e,i)=>{let s=t.sqr(i),o=t.mul(e,i);s=t.mul(s,o);let a=t.pow(s,r);a=t.mul(a,o);let l=t.mul(a,n),c=t.mul(t.sqr(a),i),u=t.eql(c,e),h=t.cmov(l,a,u);return{isValid:u,value:h}}}return h}(t,e.Z);if(!t.isOdd)throw Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,l,c,u,h;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),c=t.sqr(a),l=t.mul(c,e.A),s=t.add(s,l),s=t.mul(s,o),c=t.mul(c,a),l=t.mul(c,e.B),s=t.add(s,l),u=t.mul(i,o);let{isValid:d,value:f}=r(s,c);h=t.mul(i,n),h=t.mul(h,f),u=t.cmov(u,o,d),h=t.cmov(h,f,d);let p=t.isOdd(n)===t.isOdd(h);return h=t.cmov(t.neg(h),h,p),{x:u=t.div(u,a),y:h}}}(eC,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:eC.create(BigInt("-11"))}),{hashToCurve:eD,encodeToCurve:eN}=function(t,e,r){if("function"!=typeof e)throw Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=eS(n,2,{...r,DST:r.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),l=o.add(a).clearCofactor();return l.assertValidity(),l},encodeToCurve(n,i){let s=eS(n,1,{...r,DST:r.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o}}}(eU.ProjectivePoint,t=>{let{x:e,y:r}=eL(eC.create(t[0]));return eR(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:eC.ORDER,m:1,k:128,expand:"xmd",hash:tC});function eP(t){if(!Number.isSafeInteger(t)||t<0)throw Error(`Wrong positive integer: ${t}`)}function e_(t,...e){if(!(t instanceof Uint8Array))throw TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}r(4565);var eH={number:eP,bool:function(t){if("boolean"!=typeof t)throw Error(`Expected boolean, not ${t}`)},bytes:e_,hash:function(t){if("function"!=typeof t||"function"!=typeof t.create)throw Error("Hash should be wrapped by utils.wrapConstructor");eP(t.outputLen),eP(t.blockLen)},exists:function(t,e=!0){if(t.destroyed)throw Error("Hash instance has been destroyed");if(e&&t.finished)throw Error("Hash#digest() has already been called")},output:function(t,e){e_(t);let r=e.outputLen;if(t.length<r)throw Error(`digestInto() expects output buffer of length at least ${r}`)}};let e$="object"==typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0,eV=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),eq=(t,e)=>t<<32-e|t>>>e,eM=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];if(!eM)throw Error("Non little-endian hardware is not supported");function eF(t){if("string"!=typeof t)throw TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function ez(t){if("string"==typeof t&&(t=eF(t)),!(t instanceof Uint8Array))throw TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));class eW{clone(){return this._cloneInto()}}function eG(t){let e=e=>t().update(ez(e)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function eK(t=32){if(e$&&"function"==typeof e$.getRandomValues)return e$.getRandomValues(new Uint8Array(t));throw Error("crypto.getRandomValues must be defined")}class eZ extends eW{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,eH.hash(t);let r=ez(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),i.fill(0)}update(t){return eH.exists(this),this.iHash.update(t),this}digestInto(t){eH.exists(this),eH.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return t.finished=n,t.destroyed=i,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let eY=(t,e,r)=>new eZ(t,e).update(r).digest();eY.create=(t,e)=>new eZ(t,e);class eJ extends eW{constructor(t,e,r,n){super(),this.blockLen=t,this.outputLen=e,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=eV(this.buffer)}update(t){eH.exists(this);let{view:e,buffer:r,blockLen:n}=this;t=ez(t);let i=t.length;for(let s=0;s<i;){let o=Math.min(n-this.pos,i-s);if(o===n){let e=eV(t);for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){eH.exists(this),eH.output(t,this),this.finished=!0;let{buffer:e,view:r,blockLen:n,isLE:i}=this,{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>n-s&&(this.process(r,0),s=0);for(let t=s;t<n;t++)e[t]=0;!function(t,e,r,n){if("function"==typeof t.setBigUint64)return t.setBigUint64(e,r,n);let i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+(n?4:0),o,n),t.setUint32(e+(n?0:4),a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);let o=eV(t),a=this.outputLen;if(a%4)throw Error("_sha2: outputLen should be aligned to 32bit");let l=a/4,c=this.get();if(l>c.length)throw Error("_sha2: outputLen bigger than state");for(let t=0;t<l;t++)o.setUint32(4*t,c[t],i)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let r=t.slice(0,e);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:r,length:n,finished:i,destroyed:s,pos:o}=this;return t.length=n,t.pos=o,t.finished=i,t.destroyed=s,n%e&&t.buffer.set(r),t}}let eX=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),eQ=Uint8Array.from({length:16},(t,e)=>e),e0=eQ.map(t=>(9*t+5)%16),e1=[eQ],e2=[e0];for(let t=0;t<4;t++)for(let e of[e1,e2])e.push(e[t].map(t=>eX[t]));let e3=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),e8=e1.map((t,e)=>t.map(t=>e3[e][t])),e4=e2.map((t,e)=>t.map(t=>e3[e][t])),e5=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),e6=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),e7=(t,e)=>t<<e|t>>>32-e;function e9(t,e,r,n){return 0===t?e^r^n:1===t?e&r|~e&n:2===t?(e|~r)^n:3===t?e&n|r&~n:e^(r|~n)}let rt=new Uint32Array(16);class re extends eJ{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:t,h1:e,h2:r,h3:n,h4:i}=this;return[t,e,r,n,i]}set(t,e,r,n,i){this.h0=0|t,this.h1=0|e,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(t,e){for(let r=0;r<16;r++,e+=4)rt[r]=t.getUint32(e,!0);let r=0|this.h0,n=r,i=0|this.h1,s=i,o=0|this.h2,a=o,l=0|this.h3,c=l,u=0|this.h4,h=u;for(let t=0;t<5;t++){let e=4-t,d=e5[t],f=e6[t],p=e1[t],g=e2[t],y=e8[t],b=e4[t];for(let e=0;e<16;e++){let n=e7(r+e9(t,i,o,l)+rt[p[e]]+d,y[e])+u|0;r=u,u=l,l=0|e7(o,10),o=i,i=n}for(let t=0;t<16;t++){let r=e7(n+e9(e,s,a,c)+rt[g[t]]+f,b[t])+h|0;n=h,h=c,c=0|e7(a,10),a=s,s=r}}this.set(this.h1+o+c|0,this.h2+l+h|0,this.h3+u+n|0,this.h4+r+s|0,this.h0+i+a|0)}roundClean(){rt.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}eG(()=>new re);let rr=(t,e,r)=>t&e^~t&r,rn=(t,e,r)=>t&e^t&r^e&r,ri=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),rs=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ro=new Uint32Array(64);class ra extends eJ{constructor(){super(64,32,8,!1),this.A=0|rs[0],this.B=0|rs[1],this.C=0|rs[2],this.D=0|rs[3],this.E=0|rs[4],this.F=0|rs[5],this.G=0|rs[6],this.H=0|rs[7]}get(){let{A:t,B:e,C:r,D:n,E:i,F:s,G:o,H:a}=this;return[t,e,r,n,i,s,o,a]}set(t,e,r,n,i,s,o,a){this.A=0|t,this.B=0|e,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|s,this.G=0|o,this.H=0|a}process(t,e){for(let r=0;r<16;r++,e+=4)ro[r]=t.getUint32(e,!1);for(let t=16;t<64;t++){let e=ro[t-15],r=ro[t-2],n=eq(e,7)^eq(e,18)^e>>>3,i=eq(r,17)^eq(r,19)^r>>>10;ro[t]=i+ro[t-7]+n+ro[t-16]|0}let{A:r,B:n,C:i,D:s,E:o,F:a,G:l,H:c}=this;for(let t=0;t<64;t++){let e=eq(o,6)^eq(o,11)^eq(o,25),u=c+e+rr(o,a,l)+ri[t]+ro[t]|0,h=eq(r,2)^eq(r,13)^eq(r,22),d=h+rn(r,n,i)|0;c=l,l=a,a=o,o=s+u|0,s=i,i=n,n=r,r=u+d|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,a=a+this.F|0,l=l+this.G|0,c=c+this.H|0,this.set(r,n,i,s,o,a,l,c)}roundClean(){ro.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class rl extends ra{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}let rc=eG(()=>new ra);eG(()=>new rl);let ru=BigInt(4294967296-1),rh=BigInt(32);function rd(t,e=!1){return e?{h:Number(t&ru),l:Number(t>>rh&ru)}:{h:0|Number(t>>rh&ru),l:0|Number(t&ru)}}let rf=(t,e)=>BigInt(t>>>0)<<rh|BigInt(e>>>0);var rp={fromBig:rd,split:function(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){let{h:s,l:o}=rd(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]},toBig:rf,shrSH:(t,e,r)=>t>>>r,shrSL:(t,e,r)=>t<<32-r|e>>>r,rotrSH:(t,e,r)=>t>>>r|e<<32-r,rotrSL:(t,e,r)=>t<<32-r|e>>>r,rotrBH:(t,e,r)=>t<<64-r|e>>>r-32,rotrBL:(t,e,r)=>t>>>r-32|e<<64-r,rotr32H:(t,e)=>e,rotr32L:(t,e)=>t,rotlSH:(t,e,r)=>t<<r|e>>>32-r,rotlSL:(t,e,r)=>e<<r|t>>>32-r,rotlBH:(t,e,r)=>e<<r-32|t>>>64-r,rotlBL:(t,e,r)=>t<<r-32|e>>>64-r,add:function(t,e,r,n){let i=(e>>>0)+(n>>>0);return{h:t+r+(i/4294967296|0)|0,l:0|i}},add3L:(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),add3H:(t,e,r,n)=>e+r+n+(t/4294967296|0)|0,add4L:(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),add4H:(t,e,r,n,i)=>e+r+n+i+(t/4294967296|0)|0,add5H:(t,e,r,n,i,s)=>e+r+n+i+s+(t/4294967296|0)|0,add5L:(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0)};let[rg,ry]=rp.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),rb=new Uint32Array(80),rm=new Uint32Array(80);class rw extends eJ{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:l,El:c,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[t,e,r,n,i,s,o,a,l,c,u,h,d,f,p,g]}set(t,e,r,n,i,s,o,a,l,c,u,h,d,f,p,g){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(t,e){for(let r=0;r<16;r++,e+=4)rb[r]=t.getUint32(e),rm[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){let e=0|rb[t-15],r=0|rm[t-15],n=rp.rotrSH(e,r,1)^rp.rotrSH(e,r,8)^rp.shrSH(e,r,7),i=rp.rotrSL(e,r,1)^rp.rotrSL(e,r,8)^rp.shrSL(e,r,7),s=0|rb[t-2],o=0|rm[t-2],a=rp.rotrSH(s,o,19)^rp.rotrBH(s,o,61)^rp.shrSH(s,o,6),l=rp.rotrSL(s,o,19)^rp.rotrBL(s,o,61)^rp.shrSL(s,o,6),c=rp.add4L(i,l,rm[t-7],rm[t-16]),u=rp.add4H(c,n,a,rb[t-7],rb[t-16]);rb[t]=0|u,rm[t]=0|c}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:l,Dl:c,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:y,Hl:b}=this;for(let t=0;t<80;t++){let e=rp.rotrSH(u,h,14)^rp.rotrSH(u,h,18)^rp.rotrBH(u,h,41),m=rp.rotrSL(u,h,14)^rp.rotrSL(u,h,18)^rp.rotrBL(u,h,41),w=u&d^~u&p,E=h&f^~h&g,v=rp.add5L(b,m,E,ry[t],rm[t]),x=rp.add5H(v,y,e,w,rg[t],rb[t]),S=0|v,B=rp.rotrSH(r,n,28)^rp.rotrBH(r,n,34)^rp.rotrBH(r,n,39),T=rp.rotrSL(r,n,28)^rp.rotrBL(r,n,34)^rp.rotrBL(r,n,39),A=r&i^r&o^i&o,I=n&s^n&a^s&a;y=0|p,b=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=rp.add(0|l,0|c,0|x,0|S)),l=0|o,c=0|a,o=0|i,a=0|s,i=0|r,s=0|n;let k=rp.add3L(S,T,I);r=rp.add3H(k,x,B,A),n=0|k}({h:r,l:n}=rp.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=rp.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=rp.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:l,l:c}=rp.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:h}=rp.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=rp.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=rp.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:b}=rp.add(0|this.Hh,0|this.Hl,0|y,0|b)),this.set(r,n,i,s,o,a,l,c,u,h,d,f,p,g,y,b)}roundClean(){rb.fill(0),rm.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class rE extends rw{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class rv extends rw{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class rx extends rw{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}eG(()=>new rw),eG(()=>new rE),eG(()=>new rv),eG(()=>new rx);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let rS=BigInt(0),rB=BigInt(1),rT=BigInt(2),rA=t=>t instanceof Uint8Array,rI=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function rk(t){if(!rA(t))throw Error("Uint8Array expected");let e="";for(let r=0;r<t.length;r++)e+=rI[t[r]];return e}function rj(t){let e=t.toString(16);return 1&e.length?`0${e}`:e}function rO(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);return BigInt(""===t?"0":`0x${t}`)}function rC(t){if("string"!=typeof t)throw Error("hex string expected, got "+typeof t);if(t.length%2)throw Error("hex string is invalid: unpadded "+t.length);let e=new Uint8Array(t.length/2);for(let r=0;r<e.length;r++){let n=2*r,i=t.slice(n,n+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw Error("invalid byte sequence");e[r]=s}return e}function rU(t){return rO(rk(t))}function rR(t){if(!rA(t))throw Error("Uint8Array expected");return rO(rk(Uint8Array.from(t).reverse()))}let rL=(t,e)=>rC(t.toString(16).padStart(2*e,"0")),rD=(t,e)=>rL(t,e).reverse(),rN=t=>rC(rj(t));function rP(t,e,r){let n;if("string"==typeof e)try{n=rC(e)}catch(r){throw Error(`${t} must be valid hex string, got "${e}". Cause: ${r}`)}else if(rA(e))n=Uint8Array.from(e);else throw Error(`${t} must be hex string or Uint8Array`);let i=n.length;if("number"==typeof r&&i!==r)throw Error(`${t} expected ${r} bytes, got ${i}`);return n}function r_(...t){let e=new Uint8Array(t.reduce((t,e)=>t+e.length,0)),r=0;return t.forEach(t=>{if(!rA(t))throw Error("Uint8Array expected");e.set(t,r),r+=t.length}),e}function rH(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function r$(t){if("string"!=typeof t)throw Error(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function rV(t){let e;for(e=0;t>rS;t>>=rB,e+=1);return e}let rq=(t,e)=>t>>BigInt(e)&rB,rM=(t,e,r)=>t|(r?rB:rS)<<BigInt(e),rF=t=>(rT<<BigInt(t-1))-rB,rz=t=>new Uint8Array(t),rW=t=>Uint8Array.from(t);function rG(t,e,r){if("number"!=typeof t||t<2)throw Error("hashLen must be a number");if("number"!=typeof e||e<2)throw Error("qByteLen must be a number");if("function"!=typeof r)throw Error("hmacFn must be a function");let n=rz(t),i=rz(t),s=0,o=()=>{n.fill(1),i.fill(0),s=0},a=(...t)=>r(i,n,...t),l=(t=rz())=>{i=a(rW([0]),t),n=a(),0!==t.length&&(i=a(rW([1]),t),n=a())},c=()=>{if(s++>=1e3)throw Error("drbg: tried 1000 values");let t=0,r=[];for(;t<e;){n=a();let e=n.slice();r.push(e),t+=n.length}return r_(...r)},u=(t,e)=>{let r;for(o(),l(t);!(r=e(c()));)l();return o(),r};return u}let rK={bigint:t=>"bigint"==typeof t,function:t=>"function"==typeof t,boolean:t=>"boolean"==typeof t,string:t=>"string"==typeof t,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>"function"==typeof t&&Number.isSafeInteger(t.outputLen)};function rZ(t,e,r={}){let n=(e,r,n)=>{let i=rK[r];if("function"!=typeof i)throw Error(`Invalid validator "${r}", expected function`);let s=t[e];if((!n||void 0!==s)&&!i(s,t))throw Error(`Invalid param ${String(e)}=${s} (${typeof s}), expected ${r}`)};for(let[t,r]of Object.entries(e))n(t,r,!1);for(let[t,e]of Object.entries(r))n(t,e,!0);return t}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let rY=BigInt(0),rJ=BigInt(1),rX=BigInt(2),rQ=BigInt(3),r0=BigInt(4),r1=BigInt(5),r2=BigInt(8);function r3(t,e){let r=t%e;return r>=rY?r:e+r}function r8(t,e,r){let n=t;for(;e-- >rY;)n*=n,n%=r;return n}function r4(t,e){if(t===rY||e<=rY)throw Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=r3(t,e),n=e,i=rY,s=rJ,o=rJ,a=rY;for(;r!==rY;){let t=n/r,e=n%r,l=i-o*t,c=s-a*t;n=r,r=e,i=o,s=a,o=l,a=c}let l=n;if(l!==rJ)throw Error("invert: does not exist");return r3(i,e)}BigInt(9),BigInt(16);let r5=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function r6(t){let e=r5.reduce((t,e)=>(t[e]="function",t),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});return rZ(t,e)}function r7(t,e){let r=void 0!==e?e:t.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let r9=BigInt(0),nt=BigInt(1);function ne(t){return r6(t.Fp),rZ(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...r7(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}let{bytesToNumberBE:nr,hexToBytes:nn}=b,ni={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(t){let{Err:e}=ni;if(t.length<2||2!==t[0])throw new e("Invalid signature integer tag");let r=t[1],n=t.subarray(2,r+2);if(!r||n.length!==r)throw new e("Invalid signature integer: wrong length");if(128&n[0])throw new e("Invalid signature integer: negative");if(0===n[0]&&!(128&n[1]))throw new e("Invalid signature integer: unnecessary leading zero");return{d:nr(n),l:t.subarray(r+2)}},toSig(t){let{Err:e}=ni,r="string"==typeof t?nn(t):t;if(!(r instanceof Uint8Array))throw Error("ui8a expected");let n=r.length;if(n<2||48!=r[0])throw new e("Invalid signature tag");if(r[1]!==n-2)throw new e("Invalid signature: incorrect length");let{d:i,l:s}=ni._parseInt(r.subarray(2)),{d:o,l:a}=ni._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){let e=t=>8&Number.parseInt(t[0],16)?"00"+t:t,r=t=>{let e=t.toString(16);return 1&e.length?`0${e}`:e},n=e(r(t.s)),i=e(r(t.r)),s=n.length/2,o=i.length/2,a=r(s),l=r(o);return`30${r(o+s+4)}02${l}${i}02${a}${n}`}},ns=BigInt(0),no=BigInt(1),na=BigInt(2),nl=BigInt(3),nc=BigInt(4),nu=rU;function nh(t,e){if(t<0||t>=1<<8*e)throw Error(`bad I2OSP call: value=${t} length=${e}`);let r=Array.from({length:e}).fill(0);for(let n=e-1;n>=0;n--)r[n]=255&t,t>>>=8;return new Uint8Array(r)}function nd(t){if(!(t instanceof Uint8Array))throw Error("Uint8Array expected")}function nf(t){if(!Number.isSafeInteger(t))throw Error("number expected")}function np(t,e,r){let n;rZ(r,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});let{p:i,k:s,m:o,hash:a,expand:l,DST:c}=r;nd(t),nf(e);let u=function(t){if(t instanceof Uint8Array)return t;if("string"==typeof t)return r$(t);throw Error("DST must be Uint8Array or string")}(c),h=i.toString(2).length,d=Math.ceil((h+s)/8),f=e*o*d;if("xmd"===l)n=function(t,e,r,n){nd(t),nd(e),nf(r),e.length>255&&(e=n(r_(r$("H2C-OVERSIZE-DST-"),e)));let{outputLen:i,blockLen:s}=n,o=Math.ceil(r/i);if(o>255)throw Error("Invalid xmd length");let a=r_(e,nh(e.length,1)),l=nh(0,s),c=nh(r,2),u=Array(o),h=n(r_(l,t,c,nh(0,1),a));u[0]=n(r_(h,nh(1,1),a));for(let t=1;t<=o;t++){let e=[function(t,e){let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t[n]^e[n];return r}(h,u[t-1]),nh(t+1,1),a];u[t]=n(r_(...e))}let d=r_(...u);return d.slice(0,r)}(t,u,f,a);else if("xof"===l)n=function(t,e,r,n,i){if(nd(t),nd(e),nf(r),e.length>255&&(e=i.create({dkLen:Math.ceil(2*n/8)}).update(r$("H2C-OVERSIZE-DST-")).update(e).digest()),r>65535||e.length>255)throw Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(t).update(nh(r,2)).update(e).update(nh(e.length,1)).digest()}(t,u,f,s,a);else if("_internal_pass"===l)n=t;else throw Error('expand must be "xmd" or "xof"');let p=Array(e);for(let t=0;t<e;t++){let e=Array(o);for(let r=0;r<o;r++){let s=d*(r+t*o),a=n.subarray(s,s+d);e[r]=r3(nu(a),i)}p[t]=e}return p}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let ng=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),ny=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),nb=BigInt(1),nm=BigInt(2),nw=(t,e)=>(t+e/nm)/e,nE=function(t,e,r=!1,n={}){if(t<=rY)throw Error(`Expected Fp ORDER > 0, got ${t}`);let{nBitLength:i,nByteLength:s}=r7(t,e);if(s>2048)throw Error("Field lengths over 2048 bytes are not supported");let o=function(t){if(t%r0===rQ){let e=(t+rJ)/r0;return function(t,r){let n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw Error("Cannot find square root");return n}}if(t%r2===r1){let e=(t-r1)/r2;return function(t,r){let n=t.mul(r,rX),i=t.pow(n,e),s=t.mul(r,i),o=t.mul(t.mul(s,rX),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),r))throw Error("Cannot find square root");return a}}return function(t){let e,r,n;let i=(t-rJ)/rX;for(e=t-rJ,r=0;e%rX===rY;e/=rX,r++);for(n=rX;n<t&&function(t,e,r){if(r<=rY||e<rY)throw Error("Expected power/modulo > 0");if(r===rJ)return rY;let n=rJ;for(;e>rY;)e&rJ&&(n=n*t%r),t=t*t%r,e>>=rJ;return n}(n,i,t)!==t-rJ;n++);if(1===r){let e=(t+rJ)/r0;return function(t,r){let n=t.pow(r,e);if(!t.eql(t.sqr(n),r))throw Error("Cannot find square root");return n}}let s=(e+rJ)/rX;return function(t,o){if(t.pow(o,i)===t.neg(t.ONE))throw Error("Cannot find square root");let a=r,l=t.pow(t.mul(t.ONE,n),e),c=t.pow(o,s),u=t.pow(o,e);for(;!t.eql(u,t.ONE);){if(t.eql(u,t.ZERO))return t.ZERO;let e=1;for(let r=t.sqr(u);e<a&&!t.eql(r,t.ONE);e++)r=t.sqr(r);let r=t.pow(l,rJ<<BigInt(a-e-1));l=t.sqr(r),c=t.mul(c,r),u=t.mul(u,l),a=e}return c}}(t)}(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:rF(i),ZERO:rY,ONE:rJ,create:e=>r3(e,t),isValid:e=>{if("bigint"!=typeof e)throw Error(`Invalid field element: expected bigint, got ${typeof e}`);return rY<=e&&e<t},is0:t=>t===rY,isOdd:t=>(t&rJ)===rJ,neg:e=>r3(-e,t),eql:(t,e)=>t===e,sqr:e=>r3(e*e,t),add:(e,r)=>r3(e+r,t),sub:(e,r)=>r3(e-r,t),mul:(e,r)=>r3(e*r,t),pow:(t,e)=>(function(t,e,r){if(r<rY)throw Error("Expected power > 0");if(r===rY)return t.ONE;if(r===rJ)return e;let n=t.ONE,i=e;for(;r>rY;)r&rJ&&(n=t.mul(n,i)),i=t.sqr(i),r>>=rJ;return n})(a,t,e),div:(e,r)=>r3(e*r4(r,t),t),sqrN:t=>t*t,addN:(t,e)=>t+e,subN:(t,e)=>t-e,mulN:(t,e)=>t*e,inv:e=>r4(e,t),sqrt:n.sqrt||(t=>o(a,t)),invertBatch:t=>(function(t,e){let r=Array(e.length),n=e.reduce((e,n,i)=>t.is0(n)?e:(r[i]=e,t.mul(e,n)),t.ONE),i=t.inv(n);return e.reduceRight((e,n,i)=>t.is0(n)?e:(r[i]=t.mul(e,r[i]),t.mul(e,n)),i),r})(a,t),cmov:(t,e,r)=>r?e:t,toBytes:t=>r?rD(t,s):rL(t,s),fromBytes:t=>{if(t.length!==s)throw Error(`Fp.fromBytes: expected ${s}, got ${t.length}`);return r?rR(t):rU(t)}});return Object.freeze(a)}(ng,void 0,void 0,{sqrt:function(t){let e=BigInt(3),r=BigInt(6),n=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),l=t*t*t%ng,c=l*l*t%ng,u=r8(c,e,ng)*c%ng,h=r8(u,e,ng)*c%ng,d=r8(h,nm,ng)*l%ng,f=r8(d,n,ng)*d%ng,p=r8(f,i,ng)*f%ng,g=r8(p,o,ng)*p%ng,y=r8(g,a,ng)*g%ng,b=r8(y,o,ng)*p%ng,m=r8(b,e,ng)*c%ng,w=r8(m,s,ng)*f%ng,E=r8(w,r,ng)*l%ng,v=r8(E,nm,ng);if(!nE.eql(nE.sqr(v),t))throw Error("Cannot find square root");return v}}),nv=function(t,e){let r=e=>(function(t){let e=function(t){let e=ne(t);return rZ(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}(t),{Fp:r,n:n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(t){return r3(t,n)}let{ProjectivePoint:a,normPrivateKeyToScalar:l,weierstrassEquation:c,isWithinCurveOrder:u}=function(t){let e=/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function(t){let e=ne(t);rZ(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof r||"bigint"!=typeof r.beta||"function"!=typeof r.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}(t),{Fp:r}=e,n=e.toBytes||((t,e,n)=>{let i=e.toAffine();return r_(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),i=e.fromBytes||(t=>{let e=t.subarray(1),n=r.fromBytes(e.subarray(0,r.BYTES)),i=r.fromBytes(e.subarray(r.BYTES,2*r.BYTES));return{x:n,y:i}});function s(t){let{a:n,b:i}=e,s=r.sqr(t),o=r.mul(s,t);return r.add(r.add(o,r.mul(t,n)),i)}if(!r.eql(r.sqr(e.Gy),s(e.Gx)))throw Error("bad generator point: equation left != right");function o(t){return"bigint"==typeof t&&ns<t&&t<e.n}function a(t){if(!o(t))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function l(t){let r;let{allowedPrivateKeyLengths:n,nByteLength:i,wrapPrivateKey:s,n:o}=e;if(n&&"bigint"!=typeof t){if(t instanceof Uint8Array&&(t=rk(t)),"string"!=typeof t||!n.includes(t.length))throw Error("Invalid key");t=t.padStart(2*i,"0")}try{r="bigint"==typeof t?t:rU(rP("private key",t,i))}catch(e){throw Error(`private key must be ${i} bytes, hex or bigint, not ${typeof t}`)}return s&&(r=r3(r,o)),a(r),r}let c=new Map;function u(t){if(!(t instanceof h))throw Error("ProjectivePoint expected")}class h{constructor(t,e,n){if(this.px=t,this.py=e,this.pz=n,null==t||!r.isValid(t))throw Error("x required");if(null==e||!r.isValid(e))throw Error("y required");if(null==n||!r.isValid(n))throw Error("z required")}static fromAffine(t){let{x:e,y:n}=t||{};if(!t||!r.isValid(e)||!r.isValid(n))throw Error("invalid affine point");if(t instanceof h)throw Error("projective point not allowed");let i=t=>r.eql(t,r.ZERO);return i(e)&&i(n)?h.ZERO:new h(e,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(t){let e=r.invertBatch(t.map(t=>t.pz));return t.map((t,r)=>t.toAffine(e[r])).map(h.fromAffine)}static fromHex(t){let e=h.fromAffine(i(rP("pointHex",t)));return e.assertValidity(),e}static fromPrivateKey(t){return h.BASE.multiply(l(t))}_setWindowSize(t){this._WINDOW_SIZE=t,c.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw Error("bad point: ZERO")}let{x:t,y:n}=this.toAffine();if(!r.isValid(t)||!r.isValid(n))throw Error("bad point: x or y not FE");let i=r.sqr(n),o=s(t);if(!r.eql(i,o))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:t}=this.toAffine();if(r.isOdd)return!r.isOdd(t);throw Error("Field doesn't support isOdd")}equals(t){u(t);let{px:e,py:n,pz:i}=this,{px:s,py:o,pz:a}=t,l=r.eql(r.mul(e,a),r.mul(s,i)),c=r.eql(r.mul(n,a),r.mul(o,i));return l&&c}negate(){return new h(this.px,r.neg(this.py),this.pz)}double(){let{a:t,b:n}=e,i=r.mul(n,nl),{px:s,py:o,pz:a}=this,l=r.ZERO,c=r.ZERO,u=r.ZERO,d=r.mul(s,s),f=r.mul(o,o),p=r.mul(a,a),g=r.mul(s,o);return g=r.add(g,g),u=r.mul(s,a),u=r.add(u,u),l=r.mul(t,u),c=r.mul(i,p),c=r.add(l,c),l=r.sub(f,c),c=r.add(f,c),c=r.mul(l,c),l=r.mul(g,l),u=r.mul(i,u),p=r.mul(t,p),g=r.sub(d,p),g=r.mul(t,g),g=r.add(g,u),u=r.add(d,d),d=r.add(u,d),d=r.add(d,p),d=r.mul(d,g),c=r.add(c,d),p=r.mul(o,a),p=r.add(p,p),d=r.mul(p,g),l=r.sub(l,d),u=r.mul(p,f),u=r.add(u,u),u=r.add(u,u),new h(l,c,u)}add(t){u(t);let{px:n,py:i,pz:s}=this,{px:o,py:a,pz:l}=t,c=r.ZERO,d=r.ZERO,f=r.ZERO,p=e.a,g=r.mul(e.b,nl),y=r.mul(n,o),b=r.mul(i,a),m=r.mul(s,l),w=r.add(n,i),E=r.add(o,a);w=r.mul(w,E),E=r.add(y,b),w=r.sub(w,E),E=r.add(n,s);let v=r.add(o,l);return E=r.mul(E,v),v=r.add(y,m),E=r.sub(E,v),v=r.add(i,s),c=r.add(a,l),v=r.mul(v,c),c=r.add(b,m),v=r.sub(v,c),f=r.mul(p,E),c=r.mul(g,m),f=r.add(c,f),c=r.sub(b,f),f=r.add(b,f),d=r.mul(c,f),b=r.add(y,y),b=r.add(b,y),m=r.mul(p,m),E=r.mul(g,E),b=r.add(b,m),m=r.sub(y,m),m=r.mul(p,m),E=r.add(E,m),y=r.mul(b,E),d=r.add(d,y),y=r.mul(v,E),c=r.mul(w,c),c=r.sub(c,y),y=r.mul(w,b),f=r.mul(v,f),f=r.add(f,y),new h(c,d,f)}subtract(t){return this.add(t.negate())}is0(){return this.equals(h.ZERO)}wNAF(t){return f.wNAFCached(this,c,t,t=>{let e=r.invertBatch(t.map(t=>t.pz));return t.map((t,r)=>t.toAffine(e[r])).map(h.fromAffine)})}multiplyUnsafe(t){let n=h.ZERO;if(t===ns)return n;if(a(t),t===no)return this;let{endo:i}=e;if(!i)return f.unsafeLadder(this,t);let{k1neg:s,k1:o,k2neg:l,k2:c}=i.splitScalar(t),u=n,d=n,p=this;for(;o>ns||c>ns;)o&no&&(u=u.add(p)),c&no&&(d=d.add(p)),p=p.double(),o>>=no,c>>=no;return s&&(u=u.negate()),l&&(d=d.negate()),d=new h(r.mul(d.px,i.beta),d.py,d.pz),u.add(d)}multiply(t){let n,i;a(t);let{endo:s}=e;if(s){let{k1neg:e,k1:o,k2neg:a,k2:l}=s.splitScalar(t),{p:c,f:u}=this.wNAF(o),{p:d,f:p}=this.wNAF(l);c=f.constTimeNegate(e,c),d=f.constTimeNegate(a,d),d=new h(r.mul(d.px,s.beta),d.py,d.pz),n=c.add(d),i=u.add(p)}else{let{p:e,f:r}=this.wNAF(t);n=e,i=r}return h.normalizeZ([n,i])[0]}multiplyAndAddUnsafe(t,e,r){let n=h.BASE,i=(t,e)=>e!==ns&&e!==no&&t.equals(n)?t.multiply(e):t.multiplyUnsafe(e),s=i(this,e).add(i(t,r));return s.is0()?void 0:s}toAffine(t){let{px:e,py:n,pz:i}=this,s=this.is0();null==t&&(t=s?r.ONE:r.inv(i));let o=r.mul(e,t),a=r.mul(n,t),l=r.mul(i,t);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(l,r.ONE))throw Error("invZ was invalid");return{x:o,y:a}}isTorsionFree(){let{h:t,isTorsionFree:r}=e;if(t===no)return!0;if(r)return r(h,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:t,clearCofactor:r}=e;return t===no?this:r?r(h,this):this.multiplyUnsafe(e.h)}toRawBytes(t=!0){return this.assertValidity(),n(h,this,t)}toHex(t=!0){return rk(this.toRawBytes(t))}}h.BASE=new h(e.Gx,e.Gy,r.ONE),h.ZERO=new h(r.ZERO,r.ONE,r.ZERO);let d=e.nBitLength,f=function(t,e){let r=(t,e)=>{let r=e.negate();return t?r:e},n=t=>({windows:Math.ceil(e/t)+1,windowSize:2**(t-1)});return{constTimeNegate:r,unsafeLadder(e,r){let n=t.ZERO,i=e;for(;r>r9;)r&nt&&(n=n.add(i)),i=i.double(),r>>=nt;return n},precomputeWindow(t,e){let{windows:r,windowSize:i}=n(e),s=[],o=t,a=o;for(let t=0;t<r;t++){a=o,s.push(a);for(let t=1;t<i;t++)a=a.add(o),s.push(a);o=a.double()}return s},wNAF(e,i,s){let{windows:o,windowSize:a}=n(e),l=t.ZERO,c=t.BASE,u=BigInt(2**e-1),h=2**e,d=BigInt(e);for(let t=0;t<o;t++){let e=t*a,n=Number(s&u);s>>=d,n>a&&(n-=h,s+=nt);let o=e+Math.abs(n)-1,f=t%2!=0,p=n<0;0===n?c=c.add(r(f,i[e])):l=l.add(r(p,i[o]))}return{p:l,f:c}},wNAFCached(t,e,r,n){let i=t._WINDOW_SIZE||1,s=e.get(t);return s||(s=this.precomputeWindow(t,i),1!==i&&e.set(t,n(s))),this.wNAF(i,s,r)}}}(h,e.endo?Math.ceil(d/2):d);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:l,weierstrassEquation:s,isWithinCurveOrder:o}}({...e,toBytes(t,e,n){let i=e.toAffine(),s=r.toBytes(i.x),o=r_;return n?o(Uint8Array.from([e.hasEvenY()?2:3]),s):o(Uint8Array.from([4]),s,r.toBytes(i.y))},fromBytes(t){let e=t.length,n=t[0],o=t.subarray(1);if(e===i&&(2===n||3===n)){let t=rU(o);if(!(ns<t&&t<r.ORDER))throw Error("Point is not on curve");let e=c(t),i=r.sqrt(e),s=(i&no)===no;return(1&n)==1!==s&&(i=r.neg(i)),{x:t,y:i}}if(e===s&&4===n){let t=r.fromBytes(o.subarray(0,r.BYTES)),e=r.fromBytes(o.subarray(r.BYTES,2*r.BYTES));return{x:t,y:e}}throw Error(`Point of length ${e} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),h=t=>rk(rL(t,e.nByteLength)),d=(t,e,r)=>rU(t.slice(e,r));class f{constructor(t,e,r){this.r=t,this.s=e,this.recovery=r,this.assertValidity()}static fromCompact(t){let r=e.nByteLength;return t=rP("compactSignature",t,2*r),new f(d(t,0,r),d(t,r,2*r))}static fromDER(t){let{r:e,s:r}=ni.toSig(rP("DER",t));return new f(e,r)}assertValidity(){if(!u(this.r))throw Error("r must be 0 < r < CURVE.n");if(!u(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(t){return new f(this.r,this.s,t)}recoverPublicKey(t){let{r:i,s,recovery:l}=this,c=y(rP("msgHash",t));if(null==l||![0,1,2,3].includes(l))throw Error("recovery id invalid");let u=2===l||3===l?i+e.n:i;if(u>=r.ORDER)throw Error("recovery id 2 or 3 invalid");let d=a.fromHex(((1&l)==0?"02":"03")+h(u)),f=r4(u,n),p=o(-c*f),g=o(s*f),b=a.BASE.multiplyAndAddUnsafe(d,p,g);if(!b)throw Error("point at infinify");return b.assertValidity(),b}hasHighS(){return this.s>n>>no}normalizeS(){return this.hasHighS()?new f(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return rC(this.toDERHex())}toDERHex(){return ni.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return rC(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}function p(t){let e=t instanceof Uint8Array,r="string"==typeof t,n=(e||r)&&t.length;return e?n===i||n===s:r?n===2*i||n===2*s:t instanceof a}let g=e.bits2int||function(t){let r=rU(t),n=8*t.length-e.nBitLength;return n>0?r>>BigInt(n):r},y=e.bits2int_modN||function(t){return o(g(t))},b=rF(e.nBitLength);function m(t){if("bigint"!=typeof t)throw Error("bigint expected");if(!(ns<=t&&t<b))throw Error(`bigint expected < 2^${e.nBitLength}`);return rL(t,e.nByteLength)}let w={lowS:e.lowS,prehash:!1},E={lowS:e.lowS,prehash:!1};return a.BASE._setWindowSize(8),{CURVE:e,getPublicKey:function(t,e=!0){return a.fromPrivateKey(t).toRawBytes(e)},getSharedSecret:function(t,e,r=!0){if(p(t))throw Error("first arg must be private key");if(!p(e))throw Error("second arg must be public key");let n=a.fromHex(e);return n.multiply(l(t)).toRawBytes(r)},sign:function(t,i,s=w){let{seed:c,k2sig:h}=function(t,i,s=w){if(["recovered","canonical"].some(t=>t in s))throw Error("sign() legacy options not supported");let{hash:c,randomBytes:h}=e,{lowS:d,prehash:p,extraEntropy:b}=s;null==d&&(d=!0),t=rP("msgHash",t),p&&(t=rP("prehashed msgHash",c(t)));let E=y(t),v=l(i),x=[m(v),m(E)];if(null!=b){let t=!0===b?h(r.BYTES):b;x.push(rP("extraEntropy",t,r.BYTES))}let S=r_(...x);return{seed:S,k2sig:function(t){let e=g(t);if(!u(e))return;let r=r4(e,n),i=a.BASE.multiply(e).toAffine(),s=o(i.x);if(s===ns)return;let l=o(r*o(E+s*v));if(l===ns)return;let c=(i.x===s?0:2)|Number(i.y&no),h=l;if(d&&l>n>>no)h=l>n>>no?o(-l):l,c^=1;return new f(s,h,c)}}}(t,i,s),d=rG(e.hash.outputLen,e.nByteLength,e.hmac);return d(c,h)},verify:function(t,r,i,s=E){let l,c;if(r=rP("msgHash",r),i=rP("publicKey",i),"strict"in s)throw Error("options.strict was renamed to lowS");let{lowS:u,prehash:h}=s;try{if("string"==typeof t||t instanceof Uint8Array)try{c=f.fromDER(t)}catch(e){if(!(e instanceof ni.Err))throw e;c=f.fromCompact(t)}else if("object"==typeof t&&"bigint"==typeof t.r&&"bigint"==typeof t.s){let{r:e,s:r}=t;c=new f(e,r)}else throw Error("PARSE");l=a.fromHex(i)}catch(t){if("PARSE"===t.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(u&&c.hasHighS())return!1;h&&(r=e.hash(r));let{r:d,s:p}=c,g=y(r),b=r4(p,n),m=o(g*b),w=o(d*b),v=a.BASE.multiplyAndAddUnsafe(l,m,w)?.toAffine();if(!v)return!1;let x=o(v.x);return x===d},ProjectivePoint:a,Signature:f,utils:{isValidPrivateKey(t){try{return l(t),!0}catch(t){return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{let t=e.randomBytes(r.BYTES+8),i=function(t,e,r=!1){t=rP("privateHash",t);let n=t.length,i=r7(e).nByteLength+8;if(i<24||n<i||n>1024)throw Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${n}`);let s=r?rR(t):rU(t);return r3(s,e-rJ)+rJ}(t,n);return rL(i,e.nByteLength)},precompute:(t=8,e=a.BASE)=>(e._setWindowSize(t),e.multiply(BigInt(3)),e)}}})({...t,hash:e,hmac:(t,...r)=>eY(e,t,function(...t){if(!t.every(t=>t instanceof Uint8Array))throw Error("Uint8Array list expected");if(1===t.length)return t[0];let e=t.reduce((t,e)=>t+e.length,0),r=new Uint8Array(e);for(let e=0,n=0;e<t.length;e++){let i=t[e];r.set(i,n),n+=i.length}return r}(...r)),randomBytes:eK});return Object.freeze({...r(e),create:r})}({a:BigInt(0),b:BigInt(7),Fp:nE,n:ny,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{let e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-nb*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),n=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=BigInt("0x100000000000000000000000000000000"),s=nw(e*t,ny),o=nw(-r*t,ny),a=r3(t-s*e-o*n,ny),l=r3(-s*r-o*e,ny),c=a>i,u=l>i;if(c&&(a=ny-a),u&&(l=ny-l),a>i||l>i)throw Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:c,k1:a,k2neg:u,k2:l}}}},rc);BigInt(0),nv.ProjectivePoint,nv.utils.randomPrivateKey;let nx=function(t,e){let r=e.map(t=>Array.from(t).reverse());return(e,n)=>{let[i,s,o,a]=r.map(r=>r.reduce((r,n)=>t.add(t.mul(r,e),n)));return{x:e=t.div(i,s),y:n=t.mul(n,t.div(o,a))}}}(nE,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(t=>BigInt(t)))),nS=function(t,e){if(r6(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw Error("mapToCurveSimpleSWU: invalid opts");let r=function(t,e){let r=t.ORDER,n=ns;for(let t=r-no;t%na===ns;t/=na)n+=no;let i=n,s=(r-no)/na**i,o=(s-no)/na,a=na**i-no,l=na**(i-no),c=t.pow(e,s),u=t.pow(e,(s+no)/na),h=(e,r)=>{let n=c,s=t.pow(r,a),h=t.sqr(s);h=t.mul(h,r);let d=t.mul(e,h);d=t.pow(d,o),d=t.mul(d,s),s=t.mul(d,r),h=t.mul(d,e);let f=t.mul(h,s);d=t.pow(f,l);let p=t.eql(d,t.ONE);s=t.mul(h,u),d=t.mul(f,n),h=t.cmov(s,h,p),f=t.cmov(d,f,p);for(let e=i;e>no;e--){let r=na**(e-na),i=t.pow(f,r),o=t.eql(i,t.ONE);s=t.mul(h,n),n=t.mul(n,n),i=t.mul(f,n),h=t.cmov(s,h,o),f=t.cmov(i,f,o)}return{isValid:p,value:h}};if(t.ORDER%nc===nl){let r=(t.ORDER-nl)/nc,n=t.sqrt(t.neg(e));h=(e,i)=>{let s=t.sqr(i),o=t.mul(e,i);s=t.mul(s,o);let a=t.pow(s,r);a=t.mul(a,o);let l=t.mul(a,n),c=t.mul(t.sqr(a),i),u=t.eql(c,e),h=t.cmov(l,a,u);return{isValid:u,value:h}}}return h}(t,e.Z);if(!t.isOdd)throw Error("Fp.isOdd is not implemented!");return n=>{let i,s,o,a,l,c,u,h;i=t.sqr(n),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),c=t.sqr(a),l=t.mul(c,e.A),s=t.add(s,l),s=t.mul(s,o),c=t.mul(c,a),l=t.mul(c,e.B),s=t.add(s,l),u=t.mul(i,o);let{isValid:d,value:f}=r(s,c);h=t.mul(i,n),h=t.mul(h,f),u=t.cmov(u,o,d),h=t.cmov(h,f,d);let p=t.isOdd(n)===t.isOdd(h);return h=t.cmov(t.neg(h),h,p),{x:u=t.div(u,a),y:h}}}(nE,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:nE.create(BigInt("-11"))}),{hashToCurve:nB,encodeToCurve:nT}=function(t,e,r){if("function"!=typeof e)throw Error("mapToCurve() must be defined");return{hashToCurve(n,i){let s=np(n,2,{...r,DST:r.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),l=o.add(a).clearCofactor();return l.assertValidity(),l},encodeToCurve(n,i){let s=np(n,1,{...r,DST:r.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o}}}(nv.ProjectivePoint,t=>{let{x:e,y:r}=nS(nE.create(t[0]));return nx(e,r)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:nE.ORDER,m:1,k:128,expand:"xmd",hash:rc});/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function nA(t){if(!Number.isSafeInteger(t))throw Error(`Wrong integer: ${t}`)}function nI(...t){let e=(t,e)=>r=>t(e(r)),r=Array.from(t).reverse().reduce((t,r)=>t?e(t,r.encode):r.encode,void 0),n=t.reduce((t,r)=>t?e(t,r.decode):r.decode,void 0);return{encode:r,decode:n}}function nk(t){return{encode:e=>{if(!Array.isArray(e)||e.length&&"number"!=typeof e[0])throw Error("alphabet.encode input should be an array of numbers");return e.map(e=>{if(nA(e),e<0||e>=t.length)throw Error(`Digit index outside alphabet: ${e} (alphabet: ${t.length})`);return t[e]})},decode:e=>{if(!Array.isArray(e)||e.length&&"string"!=typeof e[0])throw Error("alphabet.decode input should be array of strings");return e.map(e=>{if("string"!=typeof e)throw Error(`alphabet.decode: not string element=${e}`);let r=t.indexOf(e);if(-1===r)throw Error(`Unknown letter: "${e}". Allowed: ${t}`);return r})}}}function nj(t=""){if("string"!=typeof t)throw Error("join separator should be string");return{encode:e=>{if(!Array.isArray(e)||e.length&&"string"!=typeof e[0])throw Error("join.encode input should be array of strings");for(let t of e)if("string"!=typeof t)throw Error(`join.encode: non-string input=${t}`);return e.join(t)},decode:e=>{if("string"!=typeof e)throw Error("join.decode input should be string");return e.split(t)}}}function nO(t,e="="){if(nA(t),"string"!=typeof e)throw Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw Error("padding.encode input should be array of strings");for(let t of r)if("string"!=typeof t)throw Error(`padding.encode: non-string input=${t}`);for(;r.length*t%8;)r.push(e);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!=typeof r[0])throw Error("padding.encode input should be array of strings");for(let t of r)if("string"!=typeof t)throw Error(`padding.decode: non-string input=${t}`);let n=r.length;if(n*t%8)throw Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if(!((n-1)*t%8))throw Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function nC(t){if("function"!=typeof t)throw Error("normalize fn should be function");return{encode:t=>t,decode:e=>t(e)}}function nU(t,e,r){if(e<2)throw Error(`convertRadix: wrong from=${e}, base cannot be less than 2`);if(r<2)throw Error(`convertRadix: wrong to=${r}, base cannot be less than 2`);if(!Array.isArray(t))throw Error("convertRadix: data should be array");if(!t.length)return[];let n=0,i=[],s=Array.from(t);for(s.forEach(t=>{if(nA(t),t<0||t>=e)throw Error(`Wrong integer: ${t}`)});;){let t=0,o=!0;for(let i=n;i<s.length;i++){let a=s[i],l=e*t+a;if(!Number.isSafeInteger(l)||e*t/e!==t||l-a!=e*t||(t=l%r,s[i]=Math.floor(l/r),!Number.isSafeInteger(s[i])||s[i]*r+t!==l))throw Error("convertRadix: carry overflow");o&&(s[i]?o=!1:n=i)}if(i.push(t),o)break}for(let e=0;e<t.length-1&&0===t[e];e++)i.push(0);return i.reverse()}let nR=(t,e)=>e?nR(e,t%e):t,nL=(t,e)=>t+(e-nR(t,e));function nD(t,e,r,n){if(!Array.isArray(t))throw Error("convertRadix2: data should be array");if(e<=0||e>32)throw Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw Error(`convertRadix2: wrong to=${r}`);if(nL(e,r)>32)throw Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${nL(e,r)}`);let i=0,s=0,o=2**r-1,a=[];for(let n of t){if(nA(n),n>=2**e)throw Error(`convertRadix2: invalid data word=${n} from=${e}`);if(i=i<<e|n,s+e>32)throw Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)a.push((i>>s-r&o)>>>0);i&=2**s-1}if(i=i<<r-s&o,!n&&s>=e)throw Error("Excess padding");if(!n&&i)throw Error(`Non-zero padding: ${i}`);return n&&s>0&&a.push(i>>>0),a}function nN(t,e=!1){if(nA(t),t<=0||t>32)throw Error("radix2: bits should be in (0..32]");if(nL(8,t)>32||nL(t,8)>32)throw Error("radix2: carry overflow");return{encode:r=>{if(!(r instanceof Uint8Array))throw Error("radix2.encode input should be Uint8Array");return nD(Array.from(r),8,t,!e)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw Error("radix2.decode input should be array of strings");return Uint8Array.from(nD(r,t,8,e))}}}function nP(t){if("function"!=typeof t)throw Error("unsafeWrapper fn should be function");return function(...e){try{return t.apply(null,e)}catch(t){}}}nI(nN(4),nk("0123456789ABCDEF"),nj("")),nI(nN(5),nk("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),nO(5),nj("")),nI(nN(5),nk("0123456789ABCDEFGHIJKLMNOPQRSTUV"),nO(5),nj("")),nI(nN(5),nk("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),nj(""),nC(t=>t.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),nI(nN(6),nk("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),nO(6),nj("")),nI(nN(6),nk("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),nO(6),nj(""));let n_=t=>nI((nA(58),{encode:t=>{if(!(t instanceof Uint8Array))throw Error("radix.encode input should be Uint8Array");return nU(Array.from(t),256,58)},decode:t=>{if(!Array.isArray(t)||t.length&&"number"!=typeof t[0])throw Error("radix.decode input should be array of strings");return Uint8Array.from(nU(t,58,256))}}),nk(t),nj("")),nH=n_("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");n_("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),n_("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");let n$=nI(nk("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),nj("")),nV=[996825010,642813549,513874426,1027748829,705979059];function nq(t){let e=t>>25,r=(33554431&t)<<5;for(let t=0;t<nV.length;t++)(e>>t&1)==1&&(r^=nV[t]);return r}function nM(t,e,r=1){let n=t.length,i=1;for(let e=0;e<n;e++){let r=t.charCodeAt(e);if(r<33||r>126)throw Error(`Invalid prefix (${t})`);i=nq(i)^r>>5}i=nq(i);for(let e=0;e<n;e++)i=nq(i)^31&t.charCodeAt(e);for(let t of e)i=nq(i)^t;for(let t=0;t<6;t++)i=nq(i);return i^=r,n$.encode(nD([i%1073741824],30,5,!1))}function nF(t){let e="bech32"===t?1:734539939,r=nN(5),n=r.decode,i=r.encode,s=nP(n);function o(t,r=90){if("string"!=typeof t)throw Error(`bech32.decode input should be string, not ${typeof t}`);if(t.length<8||!1!==r&&t.length>r)throw TypeError(`Wrong string length: ${t.length} (${t}). Expected (8..${r})`);let n=t.toLowerCase();if(t!==n&&t!==t.toUpperCase())throw Error("String must be lowercase or uppercase");t=n;let i=t.lastIndexOf("1");if(0===i||-1===i)throw Error('Letter "1" must be present between prefix and data only');let s=t.slice(0,i),o=t.slice(i+1);if(o.length<6)throw Error("Data must be at least 6 characters long");let a=n$.decode(o).slice(0,-6),l=nM(s,a,e);if(!o.endsWith(l))throw Error(`Invalid checksum in ${t}: expected "${l}"`);return{prefix:s,words:a}}let a=nP(o);return{encode:function(t,r,n=90){if("string"!=typeof t)throw Error(`bech32.encode prefix should be string, not ${typeof t}`);if(!Array.isArray(r)||r.length&&"number"!=typeof r[0])throw Error(`bech32.encode words should be array of numbers, not ${typeof r}`);let i=t.length+7+r.length;if(!1!==n&&i>n)throw TypeError(`Length ${i} exceeds limit ${n}`);return t=t.toLowerCase(),`${t}1${n$.encode(r)}${nM(t,r,e)}`},decode:o,decodeToBytes:function(t){let{prefix:e,words:r}=o(t,!1);return{prefix:e,words:r,bytes:n(r)}},decodeUnsafe:a,fromWords:n,fromWordsUnsafe:s,toWords:i}}nF("bech32"),nF("bech32m"),nI(nN(4),nk("0123456789abcdef"),nj(""),nC(t=>{if("string"!=typeof t||t.length%2)throw TypeError(`hex.decode: expected string, got ${typeof t} with length ${t.length}`);return t.toLowerCase()})),nv.ProjectivePoint,nI(function(t,e){if(nA(t),"function"!=typeof e)throw Error("checksum fn should be function");return{encode(r){if(!(r instanceof Uint8Array))throw Error("checksum.encode: input should be Uint8Array");let n=e(r).slice(0,t),i=new Uint8Array(r.length+t);return i.set(r),i.set(n,r.length),i},decode(r){if(!(r instanceof Uint8Array))throw Error("checksum.decode: input should be Uint8Array");let n=r.slice(0,-t),i=e(n).slice(0,t),s=r.slice(-t);for(let e=0;e<t;e++)if(i[e]!==s[e])throw Error("Invalid checksum");return n}}}(4,t=>rc(rc(t))),nH),eF("Bitcoin seed");let[nz,nW]=tn.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),nG=new Uint32Array(80),nK=new Uint32Array(80);class nZ extends M{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:r,Bl:n,Ch:i,Cl:s,Dh:o,Dl:a,Eh:l,El:c,Fh:u,Fl:h,Gh:d,Gl:f,Hh:p,Hl:g}=this;return[t,e,r,n,i,s,o,a,l,c,u,h,d,f,p,g]}set(t,e,r,n,i,s,o,a,l,c,u,h,d,f,p,g){this.Ah=0|t,this.Al=0|e,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|s,this.Dh=0|o,this.Dl=0|a,this.Eh=0|l,this.El=0|c,this.Fh=0|u,this.Fl=0|h,this.Gh=0|d,this.Gl=0|f,this.Hh=0|p,this.Hl=0|g}process(t,e){for(let r=0;r<16;r++,e+=4)nG[r]=t.getUint32(e),nK[r]=t.getUint32(e+=4);for(let t=16;t<80;t++){let e=0|nG[t-15],r=0|nK[t-15],n=tn.rotrSH(e,r,1)^tn.rotrSH(e,r,8)^tn.shrSH(e,r,7),i=tn.rotrSL(e,r,1)^tn.rotrSL(e,r,8)^tn.shrSL(e,r,7),s=0|nG[t-2],o=0|nK[t-2],a=tn.rotrSH(s,o,19)^tn.rotrBH(s,o,61)^tn.shrSH(s,o,6),l=tn.rotrSL(s,o,19)^tn.rotrBL(s,o,61)^tn.shrSL(s,o,6),c=tn.add4L(i,l,nK[t-7],nK[t-16]),u=tn.add4H(c,n,a,nG[t-7],nG[t-16]);nG[t]=0|u,nK[t]=0|c}let{Ah:r,Al:n,Bh:i,Bl:s,Ch:o,Cl:a,Dh:l,Dl:c,Eh:u,El:h,Fh:d,Fl:f,Gh:p,Gl:g,Hh:y,Hl:b}=this;for(let t=0;t<80;t++){let e=tn.rotrSH(u,h,14)^tn.rotrSH(u,h,18)^tn.rotrBH(u,h,41),m=tn.rotrSL(u,h,14)^tn.rotrSL(u,h,18)^tn.rotrBL(u,h,41),w=u&d^~u&p,E=h&f^~h&g,v=tn.add5L(b,m,E,nW[t],nK[t]),x=tn.add5H(v,y,e,w,nz[t],nG[t]),S=0|v,B=tn.rotrSH(r,n,28)^tn.rotrBH(r,n,34)^tn.rotrBH(r,n,39),T=tn.rotrSL(r,n,28)^tn.rotrBL(r,n,34)^tn.rotrBL(r,n,39),A=r&i^r&o^i&o,I=n&s^n&a^s&a;y=0|p,b=0|g,p=0|d,g=0|f,d=0|u,f=0|h,({h:u,l:h}=tn.add(0|l,0|c,0|x,0|S)),l=0|o,c=0|a,o=0|i,a=0|s,i=0|r,s=0|n;let k=tn.add3L(S,T,I);r=tn.add3H(k,x,B,A),n=0|k}({h:r,l:n}=tn.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:s}=tn.add(0|this.Bh,0|this.Bl,0|i,0|s)),({h:o,l:a}=tn.add(0|this.Ch,0|this.Cl,0|o,0|a)),({h:l,l:c}=tn.add(0|this.Dh,0|this.Dl,0|l,0|c)),({h:u,l:h}=tn.add(0|this.Eh,0|this.El,0|u,0|h)),({h:d,l:f}=tn.add(0|this.Fh,0|this.Fl,0|d,0|f)),({h:p,l:g}=tn.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:b}=tn.add(0|this.Hh,0|this.Hl,0|y,0|b)),this.set(r,n,i,s,o,a,l,c,u,h,d,f,p,g,y,b)}roundClean(){nG.fill(0),nK.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class nY extends nZ{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class nJ extends nZ{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class nX extends nZ{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}q(()=>new nZ),q(()=>new nY),q(()=>new nJ),q(()=>new nX);class nQ extends V{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,R.hash(t);let r=$(e);if(this.iHash=t.create(),"function"!=typeof this.iHash.update)throw TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?t.create().update(r).digest():r);for(let t=0;t<i.length;t++)i[t]^=54;this.iHash.update(i),this.oHash=t.create();for(let t=0;t<i.length;t++)i[t]^=106;this.oHash.update(i),i.fill(0)}update(t){return R.exists(this),this.iHash.update(t),this}digestInto(t){R.exists(this),R.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:r,finished:n,destroyed:i,blockLen:s,outputLen:o}=this;return t.finished=n,t.destroyed=i,t.blockLen=s,t.outputLen=o,t.oHash=e._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}let n0=(t,e,r)=>new nQ(t,e).update(r).digest();n0.create=(t,e)=>new nQ(t,e);var n1=r(7219),n2=r(6083),n3=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},n8=(t,e,r)=>(n3(t,e,"read from private field"),r?r.call(t):e.get(t)),n4=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},n5=(t,e,r,n)=>(n3(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),n6=(t,e,r)=>(n3(t,e,"access private method"),r),n7=(0,tu.string)(),n9=(0,tu.string)(),it=(0,tu.string)(),ie=(0,tu.string)(),ir=(0,tu.string)(),ii=(0,tu.string)(),is=(0,tu.union)([(0,tu.object)({AddressOwner:ir}),(0,tu.object)({ObjectOwner:ir}),(0,tu.object)({Shared:(0,tu.object)({initial_shared_version:(0,tu.number)()})}),(0,tu.literal)("Immutable")]),io=(0,tu.define)("SuiJsonValue",()=>!0);function ia(t){try{let e=A(t);return 32===e.length}catch(t){return!1}}function il(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2==0&&32==(/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2)}function ic(t,e=!1){let r=t.toLowerCase();return!e&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(64,"0")}`}function iu(t,e=!1){return ic(t,e)}(0,tu.union)([(0,tu.string)(),(0,tu.literal)("package")]);var ih=(0,tu.object)({digest:n7,objectId:(0,tu.string)(),version:(0,tu.union)([(0,tu.number)(),(0,tu.string)()])}),id=(0,tu.object)({payment:(0,tu.array)(ih),owner:(0,tu.string)(),price:(0,tu.string)(),budget:(0,tu.string)()}),ip=(0,tu.assign)(ih,(0,tu.object)({type:(0,tu.string)(),owner:is,previousTransaction:n7})),ig=(0,tu.record)((0,tu.string)(),(0,tu.any)()),iy=(0,tu.record)((0,tu.string)(),(0,tu.string)()),ib=(0,tu.object)({type:(0,tu.string)(),fields:ig,hasPublicTransfer:(0,tu.boolean)()}),im=(0,tu.object)({disassembled:iy}),iw=(0,tu.union)([(0,tu.assign)(ib,(0,tu.object)({dataType:(0,tu.literal)("moveObject")})),(0,tu.assign)(im,(0,tu.object)({dataType:(0,tu.literal)("package")}))]);(0,tu.object)({type:(0,tu.string)(),hasPublicTransfer:(0,tu.boolean)(),version:ii,bcsBytes:(0,tu.array)((0,tu.number)())});var iE=(0,tu.object)({id:ie,moduleMap:(0,tu.record)((0,tu.string)(),(0,tu.string)())}),iv=(0,tu.union)([(0,tu.assign)(ib,(0,tu.object)({dataType:(0,tu.literal)("moveObject")})),(0,tu.assign)(iE,(0,tu.object)({dataType:(0,tu.literal)("package")}))]);BigInt(1e9);var ix=(0,tu.string)(),iS=(0,tu.object)({code:(0,tu.string)(),error:(0,tu.optional)((0,tu.string)()),object_id:(0,tu.optional)(ie),version:(0,tu.optional)(ii),digest:(0,tu.optional)(ix)}),iB=(0,tu.object)({data:(0,tu.nullable)((0,tu.record)((0,tu.string)(),(0,tu.string)())),error:(0,tu.nullable)(iS)}),iT=(0,tu.union)([iB,(0,tu.optional)((0,tu.record)((0,tu.string)(),(0,tu.string)()))]),iA=(0,tu.object)({objectId:ie,version:ii,digest:ix,type:(0,tu.optional)((0,tu.string)()),content:(0,tu.optional)(iw),bcs:(0,tu.optional)(iv),owner:(0,tu.optional)(is),previousTransaction:(0,tu.optional)(n7),storageRebate:(0,tu.optional)((0,tu.string)()),display:(0,tu.optional)(iT)});(0,tu.object)({showType:(0,tu.optional)((0,tu.boolean)()),showContent:(0,tu.optional)((0,tu.boolean)()),showBcs:(0,tu.optional)((0,tu.boolean)()),showOwner:(0,tu.optional)((0,tu.boolean)()),showPreviousTransaction:(0,tu.optional)((0,tu.boolean)()),showStorageRebate:(0,tu.optional)((0,tu.boolean)()),showDisplay:(0,tu.optional)((0,tu.boolean)())}),(0,tu.union)([(0,tu.literal)("Exists"),(0,tu.literal)("notExists"),(0,tu.literal)("Deleted")]),(0,tu.array)(ip);var iI=(0,tu.object)({data:(0,tu.optional)(iA),error:(0,tu.optional)(iS)});function ik(t){if("reference"in t)return t.reference;let e=t.data;return e?{objectId:e.objectId,version:e.version,digest:e.digest}:function(t){if(t.error&&"object_id"in t.error&&"version"in t.error&&"digest"in t.error){let e=t.error;return{objectId:e.object_id,version:e.version,digest:e.digest}}}(t)}function ij(t){let e="data"in t?t.data:t;if(e&&void 0!==e.content&&"moveObject"===e.content.dataType)return e.content}var iO=(0,tu.object)({objectId:ie,atCheckpoint:(0,tu.optional)((0,tu.number)())}),iC=(0,tu.object)({data:(0,tu.array)(iI),nextCursor:(0,tu.union)([(0,tu.nullable)(ie),(0,tu.nullable)(iO)]),hasNextPage:(0,tu.boolean)()}),iU=(0,tu.object)({txDigest:n7,eventSeq:ii}),iR=(0,tu.object)({id:iU,packageId:ie,transactionModule:(0,tu.string)(),sender:ir,type:(0,tu.string)(),parsedJson:(0,tu.optional)((0,tu.record)((0,tu.string)(),(0,tu.any)())),bcs:(0,tu.optional)((0,tu.string)()),timestampMs:(0,tu.optional)((0,tu.string)())}),iL=(0,tu.object)({data:(0,tu.array)(iR),nextCursor:(0,tu.nullable)(iU),hasNextPage:(0,tu.boolean)()}),iD=(0,tu.number)(),iN=(0,tu.object)({subscription:iD,result:iR}),iP=(0,tu.string)(),i_=(0,tu.object)({epoch:iP,storage_charge:(0,tu.string)(),computation_charge:(0,tu.string)(),storage_rebate:(0,tu.string)(),epoch_start_timestamp_ms:(0,tu.optional)((0,tu.string)())}),iH=(0,tu.object)({epoch:iP,round:(0,tu.string)(),commit_timestamp_ms:(0,tu.string)()}),i$=(0,tu.object)({objects:(0,tu.array)(ie)}),iV=(0,tu.union)([(0,tu.literal)("GasCoin"),(0,tu.object)({Input:(0,tu.number)()}),(0,tu.object)({Result:(0,tu.number)()}),(0,tu.object)({NestedResult:(0,tu.tuple)([(0,tu.number)(),(0,tu.number)()])})]),iq=(0,tu.object)({arguments:(0,tu.optional)((0,tu.array)(iV)),type_arguments:(0,tu.optional)((0,tu.array)((0,tu.string)())),package:ie,module:(0,tu.string)(),function:(0,tu.string)()}),iM=(0,tu.union)([(0,tu.object)({MoveCall:iq}),(0,tu.object)({TransferObjects:(0,tu.tuple)([(0,tu.array)(iV),iV])}),(0,tu.object)({SplitCoins:(0,tu.tuple)([iV,(0,tu.array)(iV)])}),(0,tu.object)({MergeCoins:(0,tu.tuple)([iV,(0,tu.array)(iV)])}),(0,tu.object)({Publish:(0,tu.tuple)([im,(0,tu.array)(ie)])}),(0,tu.object)({Upgrade:(0,tu.tuple)([im,(0,tu.array)(ie),ie,iV])}),(0,tu.object)({MakeMoveVec:(0,tu.tuple)([(0,tu.nullable)((0,tu.string)()),(0,tu.array)(iV)])})]),iF=(0,tu.union)([(0,tu.object)({type:(0,tu.literal)("pure"),valueType:(0,tu.optional)((0,tu.string)()),value:io}),(0,tu.object)({type:(0,tu.literal)("object"),objectType:(0,tu.literal)("immOrOwnedObject"),objectId:ie,version:ii,digest:ix}),(0,tu.object)({type:(0,tu.literal)("object"),objectType:(0,tu.literal)("sharedObject"),objectId:ie,initialSharedVersion:ii,mutable:(0,tu.boolean)()})]),iz=(0,tu.object)({transactions:(0,tu.array)(iM),inputs:(0,tu.array)(iF)}),iW=(0,tu.union)([(0,tu.assign)(i_,(0,tu.object)({kind:(0,tu.literal)("ChangeEpoch")})),(0,tu.assign)(iH,(0,tu.object)({kind:(0,tu.literal)("ConsensusCommitPrologue")})),(0,tu.assign)(i$,(0,tu.object)({kind:(0,tu.literal)("Genesis")})),(0,tu.assign)(iz,(0,tu.object)({kind:(0,tu.literal)("ProgrammableTransaction")}))]),iG=(0,tu.object)({messageVersion:(0,tu.literal)("v1"),transaction:iW,sender:ir,gasData:id}),iK=(0,tu.string)(),iZ=(0,tu.union)([iK,(0,tu.array)(iK)]);(0,tu.object)({epoch:iP,signature:iZ,signers_map:(0,tu.array)((0,tu.number)())});var iY=(0,tu.object)({computationCost:(0,tu.string)(),storageCost:(0,tu.string)(),storageRebate:(0,tu.string)(),nonRefundableStorageFee:(0,tu.string)()}),iJ=(0,tu.union)([(0,tu.literal)("success"),(0,tu.literal)("failure")]),iX=(0,tu.object)({status:iJ,error:(0,tu.optional)((0,tu.string)())}),iQ=(0,tu.object)({owner:is,reference:ih}),i0=(0,tu.object)({objectId:ie,sequenceNumber:ii}),i1=(0,tu.object)({messageVersion:(0,tu.literal)("v1"),status:iX,executedEpoch:iP,modifiedAtVersions:(0,tu.optional)((0,tu.array)(i0)),gasUsed:iY,sharedObjects:(0,tu.optional)((0,tu.array)(ih)),transactionDigest:n7,created:(0,tu.optional)((0,tu.array)(iQ)),mutated:(0,tu.optional)((0,tu.array)(iQ)),unwrapped:(0,tu.optional)((0,tu.array)(iQ)),deleted:(0,tu.optional)((0,tu.array)(ih)),unwrapped_then_deleted:(0,tu.optional)((0,tu.array)(ih)),wrapped:(0,tu.optional)((0,tu.array)(ih)),gasObject:iQ,eventsDigest:(0,tu.optional)(it),dependencies:(0,tu.optional)((0,tu.array)(n7))}),i2=(0,tu.array)(iR),i3=(0,tu.tuple)([(0,tu.array)((0,tu.number)()),(0,tu.string)()]),i8=(0,tu.tuple)([iV,(0,tu.array)((0,tu.number)()),(0,tu.string)()]),i4=(0,tu.object)({mutableReferenceOutputs:(0,tu.optional)((0,tu.array)(i8)),returnValues:(0,tu.optional)((0,tu.array)(i3))}),i5=(0,tu.object)({effects:i1,events:i2,results:(0,tu.optional)((0,tu.array)(i4)),error:(0,tu.optional)((0,tu.string)())}),i6=(0,tu.string)(),i7=(0,tu.object)({data:iG,txSignatures:(0,tu.array)((0,tu.string)())}),i9=(0,tu.object)({type:(0,tu.literal)("published"),packageId:ie,version:ii,digest:ix,modules:(0,tu.array)((0,tu.string)())}),st=(0,tu.object)({type:(0,tu.literal)("transferred"),sender:ir,recipient:is,objectType:(0,tu.string)(),objectId:ie,version:ii,digest:ix}),se=(0,tu.object)({type:(0,tu.literal)("mutated"),sender:ir,owner:is,objectType:(0,tu.string)(),objectId:ie,version:ii,previousVersion:ii,digest:ix}),sr=(0,tu.object)({type:(0,tu.literal)("deleted"),sender:ir,objectType:(0,tu.string)(),objectId:ie,version:ii}),sn=(0,tu.object)({type:(0,tu.literal)("wrapped"),sender:ir,objectType:(0,tu.string)(),objectId:ie,version:ii}),si=(0,tu.object)({type:(0,tu.literal)("created"),sender:ir,owner:is,objectType:(0,tu.string)(),objectId:ie,version:ii,digest:ix}),ss=(0,tu.union)([i9,st,se,sr,sn,si]),so=(0,tu.object)({owner:is,coinType:(0,tu.string)(),amount:(0,tu.string)()}),sa=(0,tu.object)({digest:n7,transaction:(0,tu.optional)(i7),effects:(0,tu.optional)(i1),events:(0,tu.optional)(i2),timestampMs:(0,tu.optional)((0,tu.string)()),checkpoint:(0,tu.optional)((0,tu.string)()),confirmedLocalExecution:(0,tu.optional)((0,tu.boolean)()),objectChanges:(0,tu.optional)((0,tu.array)(ss)),balanceChanges:(0,tu.optional)((0,tu.array)(so)),errors:(0,tu.optional)((0,tu.array)((0,tu.string)()))});(0,tu.object)({showInput:(0,tu.optional)((0,tu.boolean)()),showEffects:(0,tu.optional)((0,tu.boolean)()),showEvents:(0,tu.optional)((0,tu.boolean)()),showObjectChanges:(0,tu.optional)((0,tu.boolean)()),showBalanceChanges:(0,tu.optional)((0,tu.boolean)())});var sl=(0,tu.object)({data:(0,tu.array)(sa),nextCursor:(0,tu.nullable)(n7),hasNextPage:(0,tu.boolean)()}),sc=(0,tu.object)({effects:i1,events:i2,objectChanges:(0,tu.array)(ss),balanceChanges:(0,tu.array)(so),input:(0,tu.optional)(iG)});function su(t){return t.digest}function sh(t){return t.effects}function sd(t){if(!("object"==typeof t&&null!==t&&"type"in t&&t.type.startsWith("0x1::option::Option<")))return t}iu("0x6");var sf=/^0x2::coin::Coin<(.+)>$/,sp=(0,tu.object)({decimals:(0,tu.number)(),name:(0,tu.string)(),symbol:(0,tu.string)(),description:(0,tu.string)(),iconUrl:(0,tu.nullable)((0,tu.string)()),id:(0,tu.nullable)(ie)}),sg=class{static isCoin(t){return null!=sg.getType(t)?.match(sf)}static getCoinType(t){let[,e]=t.match(sf)??[];return e||null}static getCoinTypeArg(t){let e=sg.getType(t);return e?sg.getCoinType(e):null}static isSUI(t){let e=sg.getCoinTypeArg(t);return!!e&&"SUI"===sg.getCoinSymbol(e)}static getCoinSymbol(t){return t.substring(t.lastIndexOf(":")+1)}static getCoinStructTag(t){return{address:iu(t.split("::")[0]),module:t.split("::")[1],name:t.split("::")[2],typeParams:[]}}static getID(t){return"fields"in t?t.fields.id.id:"objectId"in t?t.objectId:ik(t)?.objectId??function(t){if(t.error&&"object_id"in t.error&&!("version"in t.error)&&!("digest"in t.error))return t.error.object_id}(t)}static totalBalance(t){return t.reduce((t,e)=>t+sg.getBalanceFromCoinStruct(e),BigInt(0))}static sortByBalance(t){return[...t].sort((t,e)=>sg.getBalanceFromCoinStruct(t)<sg.getBalanceFromCoinStruct(e)?-1:sg.getBalanceFromCoinStruct(t)>sg.getBalanceFromCoinStruct(e)?1:0)}static getBalanceFromCoinStruct(t){return BigInt(t.balance)}static getBalance(t){if(!sg.isCoin(t))return;let e=("fields"in t?t.fields:ij(t)?.fields)?.balance;return BigInt(e)}static getType(t){return t.data||t.type?function(t){let e=void 0!==t.data?t.data:t;if(!e?.type&&"data"in t)return e?.content?.dataType==="package"?"package":ij(t)?.type;return e?.type}(t):t.type}},sy=class{static isDelegationSuiObject(t){return"type"in t&&t.type===sy.SUI_OBJECT_TYPE}constructor(t){this.suiObject=t}nextRewardUnclaimedEpoch(){return this.suiObject.data.fields.next_reward_unclaimed_epoch}activeDelegation(){return BigInt(sd(this.suiObject.data.fields.active_delegation)||0)}delegateAmount(){return this.suiObject.data.fields.delegate_amount}endingEpoch(){return sd(this.suiObject.data.fields.ending_epoch)}validatorAddress(){return this.suiObject.data.fields.validator_address}isActive(){return this.activeDelegation()>0&&!this.endingEpoch()}hasUnclaimedRewards(t){return this.nextRewardUnclaimedEpoch()<=t&&(this.isActive()||(this.endingEpoch()||0)>t)}};sy.SUI_OBJECT_TYPE="0x2::delegation::Delegation";var sb="vector",sm={kind:"TransactionKind",sender:O.ADDRESS,gasData:"GasData",expiration:"TransactionExpiration"},sw={enums:{"Option<T>":{None:null,Some:"T"},ObjectArg:{ImmOrOwned:"SuiObjectRef",Shared:"SharedObjectRef"},CallArg:{Pure:[sb,O.U8],Object:"ObjectArg",ObjVec:[sb,"ObjectArg"]},TypeTag:{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:"TypeTag",struct:"StructTag",u16:null,u32:null,u256:null},TransactionKind:{ProgrammableTransaction:"ProgrammableTransaction",ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null},TransactionExpiration:{None:null,Epoch:O.U64},TransactionData:{V1:"TransactionDataV1"}},structs:{SuiObjectRef:{objectId:O.ADDRESS,version:O.U64,digest:"ObjectDigest"},SharedObjectRef:{objectId:O.ADDRESS,initialSharedVersion:O.U64,mutable:O.BOOL},StructTag:{address:O.ADDRESS,module:O.STRING,name:O.STRING,typeParams:[sb,"TypeTag"]},GasData:{payment:[sb,"SuiObjectRef"],owner:O.ADDRESS,price:O.U64,budget:O.U64},SenderSignedData:{data:"TransactionData",txSignatures:[sb,[sb,O.U8]]},TransactionDataV1:sm},aliases:{ObjectDigest:O.BASE58}},sE=new O({genericSeparators:["<",">"],vectorType:"vector",addressLength:32,addressEncoding:"hex",types:sw});!function(t){t.registerType("utf8string",(t,e)=>{let r=Array.from(new TextEncoder().encode(e));return t.writeVec(r,(t,e)=>t.write8(e))},t=>{let e=t.readVec(t=>t.read8());return new TextDecoder().decode(new Uint8Array(e))})}(sE);var sv=(0,tu.object)({amount:(0,tu.number)(),id:ie,transferTxDigest:n7});(0,tu.object)({transferredGasObjects:(0,tu.array)(sv),error:(0,tu.nullable)((0,tu.string)())});var sx=(0,tu.union)([(0,tu.string)(),(0,tu.object)({Object:(0,tu.string)()})]),sS=(0,tu.array)(sx),sB=(0,tu.object)({address:(0,tu.string)(),name:(0,tu.string)()}),sT=(0,tu.union)([(0,tu.literal)("Private"),(0,tu.literal)("Public"),(0,tu.literal)("Friend")]),sA=(0,tu.object)({abilities:(0,tu.array)((0,tu.string)())}),sI=(0,tu.object)({constraints:sA,isPhantom:(0,tu.boolean)()}),sk=(0,tu.object)({TypeParameter:(0,tu.number)()});function sj(t){return!!t&&(!!("string"==typeof t||(0,tu.is)(t,sk)||sC(t))||"object"==typeof t&&!!((0,tu.is)(t.Reference,sO)||(0,tu.is)(t.MutableReference,sO)||(0,tu.is)(t.Vector,sO)))}var sO=(0,tu.define)("SuiMoveNormalizedType",sj);function sC(t){if(!t||"object"!=typeof t||!t.Struct||"object"!=typeof t.Struct)return!1;let e=t.Struct;return!!("string"==typeof e.address&&"string"==typeof e.module&&"string"==typeof e.name&&Array.isArray(e.typeArguments)&&e.typeArguments.every(t=>sj(t)))}(0,tu.define)("SuiMoveNormalizedStructType",sC);var sU=(0,tu.object)({visibility:sT,isEntry:(0,tu.boolean)(),typeParameters:(0,tu.array)(sA),parameters:(0,tu.array)(sO),return:(0,tu.array)(sO)}),sR=(0,tu.object)({name:(0,tu.string)(),type:sO}),sL=(0,tu.object)({abilities:sA,typeParameters:(0,tu.array)(sI),fields:(0,tu.array)(sR)}),sD=(0,tu.object)({fileFormatVersion:(0,tu.number)(),address:(0,tu.string)(),name:(0,tu.string)(),friends:(0,tu.array)(sB),structs:(0,tu.record)((0,tu.string)(),sL),exposedFunctions:(0,tu.record)((0,tu.string)(),sU)}),sN=(0,tu.record)((0,tu.string)(),sD);function sP(t){return"object"==typeof t&&"MutableReference"in t?t.MutableReference:void 0}function s_(t){if("object"==typeof t&&"Struct"in t)return t;let e="object"==typeof t&&"Reference"in t?t.Reference:void 0,r=sP(t);return"object"==typeof e&&"Struct"in e?e:"object"==typeof r&&"Struct"in r?r:void 0}(0,tu.object)({value:(0,tu.number)()});var sH=(0,tu.object)({stakedSuiId:ie,stakeRequestEpoch:iP,stakeActiveEpoch:iP,principal:(0,tu.string)(),status:(0,tu.union)([(0,tu.literal)("Active"),(0,tu.literal)("Pending"),(0,tu.literal)("Unstaked")]),estimatedReward:(0,tu.optional)((0,tu.number)())}),s$=(0,tu.object)({validatorAddress:ir,stakingPool:ie,stakes:(0,tu.array)(sH)}),sV=(0,tu.object)({balance:(0,tu.object)({value:(0,tu.number)()}),distribution_counter:(0,tu.number)(),current_distribution_amount:(0,tu.number)(),stake_subsidy_period_length:(0,tu.number)(),stake_subsidy_decrease_rate:(0,tu.number)()});(0,tu.object)({type:(0,tu.string)(),fields:sV}),(0,tu.object)({value:(0,tu.number)()});var sq=(0,tu.object)({id:(0,tu.string)(),size:(0,tu.number)(),head:(0,tu.object)({vec:(0,tu.array)()}),tail:(0,tu.object)({vec:(0,tu.array)()})});(0,tu.object)({id:(0,tu.string)(),size:(0,tu.number)()}),(0,tu.object)({type:(0,tu.string)(),fields:sq});var sM=(0,tu.object)({exchangeRates:(0,tu.object)({id:(0,tu.string)(),size:(0,tu.number)()}),id:(0,tu.string)(),pendingStake:(0,tu.number)(),pendingPoolTokenWithdraw:(0,tu.number)(),pendingTotalSuiWithdraw:(0,tu.number)(),poolTokenBalance:(0,tu.number)(),rewardsPool:(0,tu.object)({value:(0,tu.number)()}),activationEpoch:(0,tu.object)({vec:(0,tu.array)()}),deactivationEpoch:(0,tu.object)({vec:(0,tu.array)()}),suiBalance:(0,tu.number)()});(0,tu.object)({type:(0,tu.string)(),fields:sM});var sF=(0,tu.array)((0,tu.tuple)([i6,(0,tu.string)()])),sz=(0,tu.object)({epoch:iP,validators:sF}),sW=(0,tu.object)({suiAddress:ir,protocolPubkeyBytes:(0,tu.string)(),networkPubkeyBytes:(0,tu.string)(),workerPubkeyBytes:(0,tu.string)(),proofOfPossessionBytes:(0,tu.string)(),operationCapId:(0,tu.string)(),name:(0,tu.string)(),description:(0,tu.string)(),imageUrl:(0,tu.string)(),projectUrl:(0,tu.string)(),p2pAddress:(0,tu.string)(),netAddress:(0,tu.string)(),primaryAddress:(0,tu.string)(),workerAddress:(0,tu.string)(),nextEpochProtocolPubkeyBytes:(0,tu.nullable)((0,tu.string)()),nextEpochProofOfPossession:(0,tu.nullable)((0,tu.string)()),nextEpochNetworkPubkeyBytes:(0,tu.nullable)((0,tu.string)()),nextEpochWorkerPubkeyBytes:(0,tu.nullable)((0,tu.string)()),nextEpochNetAddress:(0,tu.nullable)((0,tu.string)()),nextEpochP2pAddress:(0,tu.nullable)((0,tu.string)()),nextEpochPrimaryAddress:(0,tu.nullable)((0,tu.string)()),nextEpochWorkerAddress:(0,tu.nullable)((0,tu.string)()),votingPower:(0,tu.string)(),gasPrice:(0,tu.string)(),commissionRate:(0,tu.string)(),nextEpochStake:(0,tu.string)(),nextEpochGasPrice:(0,tu.string)(),nextEpochCommissionRate:(0,tu.string)(),stakingPoolId:(0,tu.string)(),stakingPoolActivationEpoch:(0,tu.nullable)((0,tu.string)()),stakingPoolDeactivationEpoch:(0,tu.nullable)((0,tu.string)()),stakingPoolSuiBalance:(0,tu.string)(),rewardsPool:(0,tu.string)(),poolTokenBalance:(0,tu.string)(),pendingStake:(0,tu.string)(),pendingPoolTokenWithdraw:(0,tu.string)(),pendingTotalSuiWithdraw:(0,tu.string)(),exchangeRatesId:(0,tu.string)(),exchangeRatesSize:(0,tu.string)()}),sG=(0,tu.object)({epoch:(0,tu.string)(),protocolVersion:(0,tu.string)(),systemStateVersion:(0,tu.string)(),storageFundTotalObjectStorageRebates:(0,tu.string)(),storageFundNonRefundableBalance:(0,tu.string)(),referenceGasPrice:(0,tu.string)(),safeMode:(0,tu.boolean)(),safeModeStorageRewards:(0,tu.string)(),safeModeComputationRewards:(0,tu.string)(),safeModeStorageRebates:(0,tu.string)(),safeModeNonRefundableStorageFee:(0,tu.string)(),epochStartTimestampMs:(0,tu.string)(),epochDurationMs:(0,tu.string)(),stakeSubsidyStartEpoch:(0,tu.string)(),maxValidatorCount:(0,tu.string)(),minValidatorJoiningStake:(0,tu.string)(),validatorLowStakeThreshold:(0,tu.string)(),validatorVeryLowStakeThreshold:(0,tu.string)(),validatorLowStakeGracePeriod:(0,tu.string)(),stakeSubsidyBalance:(0,tu.string)(),stakeSubsidyDistributionCounter:(0,tu.string)(),stakeSubsidyCurrentDistributionAmount:(0,tu.string)(),stakeSubsidyPeriodLength:(0,tu.string)(),stakeSubsidyDecreaseRate:(0,tu.number)(),totalStake:(0,tu.string)(),activeValidators:(0,tu.array)(sW),pendingActiveValidatorsId:(0,tu.string)(),pendingActiveValidatorsSize:(0,tu.string)(),pendingRemovals:(0,tu.array)((0,tu.string)()),stakingPoolMappingsId:(0,tu.string)(),stakingPoolMappingsSize:(0,tu.string)(),inactivePoolsId:(0,tu.string)(),inactivePoolsSize:(0,tu.string)(),validatorCandidatesId:(0,tu.string)(),validatorCandidatesSize:(0,tu.string)(),atRiskValidators:(0,tu.array)((0,tu.tuple)([ir,(0,tu.string)()])),validatorReportRecords:(0,tu.array)((0,tu.tuple)([ir,(0,tu.array)(ir)]))}),sK=(0,tu.object)({coinType:(0,tu.string)(),coinObjectId:ie,version:(0,tu.string)(),digest:n7,balance:(0,tu.string)(),lockedUntilEpoch:(0,tu.nullable)((0,tu.number)()),previousTransaction:n7}),sZ=(0,tu.object)({data:(0,tu.array)(sK),nextCursor:(0,tu.nullable)(ie),hasNextPage:(0,tu.boolean)()}),sY=(0,tu.object)({coinType:(0,tu.string)(),coinObjectCount:(0,tu.number)(),totalBalance:(0,tu.string)(),lockedBalance:(0,tu.object)({epochId:(0,tu.optional)((0,tu.number)()),number:(0,tu.optional)((0,tu.number)())})}),sJ=(0,tu.object)({value:(0,tu.string)()}),sX=(0,tu.object)({computationCost:(0,tu.string)(),storageCost:(0,tu.string)(),storageRebate:(0,tu.string)(),nonRefundableStorageFee:(0,tu.string)()});(0,tu.string)();var sQ=(0,tu.string)();(0,tu.object)({digest:(0,tu.array)((0,tu.number)())});var s0=(0,tu.any)(),s1=(0,tu.string)(),s2=(0,tu.object)({nextEpochCommittee:(0,tu.array)((0,tu.tuple)([(0,tu.string)(),(0,tu.string)()])),nextEpochProtocolVersion:(0,tu.string)(),epochCommitments:(0,tu.array)(s0)});(0,tu.object)({transaction:n7,effects:n9});var s3=(0,tu.object)({epoch:(0,tu.string)(),sequenceNumber:(0,tu.string)(),digest:sQ,networkTotalTransactions:(0,tu.string)(),previousDigest:(0,tu.optional)(sQ),epochRollingGasCostSummary:sX,timestampMs:(0,tu.string)(),endOfEpochData:(0,tu.optional)(s2),validatorSignature:(0,tu.optional)(s1),transactions:(0,tu.array)(n7),checkpointCommitments:(0,tu.array)(s0)}),s8=(0,tu.object)({data:(0,tu.array)(s3),nextCursor:(0,tu.nullable)((0,tu.string)()),hasNextPage:(0,tu.boolean)()}),s4={ED25519:0,Secp256k1:1},s5=class{constructor(t){if("string"==typeof t?this.data=w(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),32!==this.data.length)throw Error(`Invalid public key input. Expected 32 bytes, got ${this.data.length}`)}equals(t){return s6(this.toBytes(),t.toBytes())}toBase64(){return v(this.toBytes())}toBytes(){return this.data}toString(){return this.toBase64()}toSuiAddress(){let t=new Uint8Array(33);return t.set([s4.ED25519]),t.set(this.toBytes(),1),ic(H(tc(t,{dkLen:32})).slice(0,64))}};function s6(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}s5.SIZE=32;var s7=class{constructor(t){if("string"==typeof t?this.data=w(t):t instanceof Uint8Array?this.data=t:this.data=Uint8Array.from(t),33!==this.data.length)throw Error(`Invalid public key input. Expected 33 bytes, got ${this.data.length}`)}equals(t){return s6(this.toBytes(),t.toBytes())}toBase64(){return v(this.toBytes())}toBytes(){return this.data}toString(){return this.toBase64()}toSuiAddress(){let t=new Uint8Array(34);return t.set([s4.Secp256k1]),t.set(this.toBytes(),1),ic(H(tc(t,{dkLen:32})).slice(0,64))}};function s9(t){return bip39MnemonicToSeedSync(t,"")}s7.SIZE=33;var ot=class{constructor(t){if(t)this.keypair=t;else{let t=secp256k1.utils.randomPrivateKey(),e=secp256k1.getPublicKey(t,!0);this.keypair={publicKey:e,secretKey:t}}}getKeyScheme(){return"Secp256k1"}static generate(){return new ot}static fromSecretKey(t,e){let r=secp256k1.getPublicKey(t,!0);if(!e||!e.skipValidation){let e=new TextEncoder,n=e.encode("sui validation"),i=bytesToHex3(blake2b3(n,{dkLen:32})),s=secp256k1.sign(i,t);if(!secp256k1.verify(s,i,r,{lowS:!0}))throw Error("Provided secretKey is invalid")}return new ot({publicKey:r,secretKey:t})}static fromSeed(t){let e=secp256k1.getPublicKey(t,!0);return new ot({publicKey:e,secretKey:t})}getPublicKey(){return new s7(this.keypair.publicKey)}signData(t){let e=sha256(t),r=secp256k1.sign(e,this.keypair.secretKey,{lowS:!0});return r.toCompactRawBytes()}static deriveKeypair(t,e){var r;if(null==e&&(e="m/54'/784'/0'/0/0"),r=e,!RegExp("^m\\/54'\\/784'\\/[0-9]+'\\/[0-9]+\\/[0-9]+$").test(r))throw Error("Invalid derivation path");let n=HDKey.fromMasterSeed(s9(t)).derive(e);if(null==n.publicKey||null==n.privateKey)throw Error("Invalid key");return new ot({publicKey:n.publicKey,secretKey:n.privateKey})}export(){return{schema:"Secp256k1",privateKey:toB644(this.keypair.secretKey)}}},oe=2147483648,or=t=>t.replace("'",""),on=t=>{let e=hmac.create(sha512,"ed25519 seed"),r=e.update(fromHEX(t)).digest(),n=r.slice(0,32),i=r.slice(32);return{key:n,chainCode:i}},oi=({key:t,chainCode:e},r)=>{let n=new ArrayBuffer(4),i=new DataView(n);i.setUint32(0,r);let s=new Uint8Array(1+t.length+n.byteLength);s.set(new Uint8Array(1).fill(0)),s.set(t,1),s.set(new Uint8Array(n,0,n.byteLength),t.length+1);let o=hmac.create(sha512,e).update(s).digest(),a=o.slice(0,32),l=o.slice(32);return{key:a,chainCode:l}},os=t=>!!null.test(t)&&!t.split("/").slice(1).map(or).some(isNaN),oo=(t,e,r=oe)=>{if(!os(t))throw Error("Invalid derivation path");let{key:n,chainCode:i}=on(e),s=t.split("/").slice(1).map(or).map(t=>parseInt(t,10));return s.reduce((t,e)=>oi(t,e+r),{key:n,chainCode:i})},oa=class{constructor(t){t?this.keypair=t:this.keypair=nacl2.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new oa(nacl2.sign.keyPair())}static fromSecretKey(t,e){let r=t.length;if(32!==r)throw Error(`Wrong secretKey size. Expected 32 bytes, got ${r}.`);let n=nacl2.sign.keyPair.fromSeed(t);if(!e||!e.skipValidation){let t=new TextEncoder,e=t.encode("sui validation"),r=nacl2.sign.detached(e,n.secretKey);if(!nacl2.sign.detached.verify(e,r,n.publicKey))throw Error("provided secretKey is invalid")}return new oa(n)}getPublicKey(){return new s5(this.keypair.publicKey)}signData(t){return nacl2.sign.detached(t,this.keypair.secretKey)}static deriveKeypair(t,e){var r;if(null==e&&(e="m/44'/784'/0'/0'/0'"),r=e,!RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(r))throw Error("Invalid derivation path");let{key:n}=oo(e,toHEX(s9(t)));return oa.fromSecretKey(n)}export(){return{schema:"ED25519",privateKey:toB645(this.keypair.secretKey.slice(0,32))}}},ol=class extends Error{constructor(t){super("RPC Error",{cause:t.cause}),this.req=t.req,this.code=t.code,this.data=t.data}},oc=class extends Error{constructor(t){super("RPC Validation Error: The response returned from RPC server does not match the TypeScript definition. This is likely because the SDK version is not compatible with the RPC server.",{cause:t.cause}),this.req=t.req,this.result=t.result,this.message=this.toString()}toString(){let t=super.toString();return this.cause&&(t+=`
Cause: ${this.cause}`),this.result&&(t+=`
Reponse Received: ${JSON.stringify(this.result,null,2)}`),t}},ou=class extends Error{},oh=(0,tu.object)({jsonrpc:(0,tu.literal)("2.0"),id:(0,tu.string)(),result:(0,tu.any)()}),od=(0,tu.object)({jsonrpc:(0,tu.literal)("2.0"),id:(0,tu.string)(),error:(0,tu.object)({code:(0,tu.any)(),message:(0,tu.string)(),data:(0,tu.optional)((0,tu.any)())})}),of=class{constructor(t,e){this.rpcClient=new n1(async(r,n)=>{let i={method:"POST",body:r,headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":"0.32.1","Client-Target-Api-Version":aw,...e}};try{let e=await fetch(t,i),r=await e.text();if(e.ok)n(null,r);else{let t="text/html"===e.headers.get("content-type");n(Error(`${e.status} ${e.statusText}${t?"":`: ${r}`}`))}}catch(t){n(t)}},{})}async requestWithType(t,e,r,n=!1){let i={method:t,args:e},s=await this.request(t,e);if((0,tu.is)(s,od))throw new ol({req:i,code:s.error.code,data:s.error.data,cause:Error(s.error.message)});if((0,tu.is)(s,oh)){let[t]=(0,tu.validate)(s.result,r);if(n&&t)console.warn(new oc({req:i,result:s.result,cause:t}));else if(t)throw new oc({req:i,result:s.result,cause:t});return s.result}throw new ol({req:i,data:s})}async request(t,e){return new Promise((r,n)=>{this.rpcClient.request(t,e,(t,e)=>{if(t){n(t);return}r(e)})})}},op=(0,tu.union)([(0,tu.literal)("DynamicField"),(0,tu.literal)("DynamicObject")]),og=(0,tu.object)({type:(0,tu.string)(),value:(0,tu.any)()}),oy=(0,tu.object)({name:og,bcsName:(0,tu.string)(),type:op,objectType:(0,tu.string)(),objectId:ie,version:(0,tu.number)(),digest:(0,tu.string)()}),ob=(0,tu.object)({data:(0,tu.array)(oy),nextCursor:(0,tu.nullable)(ie),hasNextPage:(0,tu.boolean)()}),om=(t,e)=>{let r=new URL(t);return r.protocol=r.protocol.replace("http","ws"),e&&(r.port=e.toString()),r.toString()},ow=t=>t&&"subscription"in t&&"number"==typeof t.subscription&&"result"in t&&"object"==typeof t.result,oE={connectTimeout:15e3,callTimeout:3e4,reconnectInterval:3e3,maxReconnects:5},ov="suix_subscribeEvent",ox=class{constructor(t,e,r=oE){this.endpoint=t,this.skipValidation=e,this.options=r,this.connectionState=0,this.connectionTimeout=null,this.isSetup=!1,this.connectionPromise=null,this.eventSubscriptions=new Map,this.endpoint.startsWith("http")&&(this.endpoint=om(this.endpoint)),this.rpcClient=new n2.Client(this.endpoint,{reconnect_interval:this.options.reconnectInterval,max_reconnects:this.options.maxReconnects,autoconnect:!1})}setupSocket(){this.isSetup||(this.rpcClient.on("open",()=>{this.connectionTimeout&&(clearTimeout(this.connectionTimeout),this.connectionTimeout=null),this.connectionState=2,this.rpcClient.socket.on("message",this.onSocketMessage.bind(this))}),this.rpcClient.on("close",()=>{this.connectionState=0}),this.rpcClient.on("error",console.error),this.isSetup=!0)}onSocketMessage(t){let e=JSON.parse(t),r=e.params;if(e.method===ov){if(this.skipValidation&&ow(r)){let t=this.eventSubscriptions.get(r.subscription);t&&t.onMessage(r.result)}else if((0,tu.is)(r,iN)){let t=this.eventSubscriptions.get(r.subscription);t&&t.onMessage(r.result)}}}async connect(){return this.connectionPromise?this.connectionPromise:2===this.connectionState?Promise.resolve():(this.setupSocket(),this.rpcClient.connect(),this.connectionState=1,this.connectionPromise=new Promise((t,e)=>{this.connectionTimeout=setTimeout(()=>e(Error("timeout")),this.options.connectTimeout),this.rpcClient.once("open",()=>{this.refreshSubscriptions(),this.connectionPromise=null,t()}),this.rpcClient.once("error",t=>{this.connectionPromise=null,e(t)})}),this.connectionPromise)}async refreshSubscriptions(){if(0!==this.eventSubscriptions.size)try{let t=new Map;(await Promise.all(Array.from(this.eventSubscriptions.values()).map(async t=>{let e=t.onMessage,r=t.filter;if(!r||!e)return Promise.resolve(null);let n=await this.subscribeEvent(r,e);return{id:n,onMessage:e,filter:r}}))).forEach(e=>{if(null===e)return;let r=e.filter,n=e.onMessage;t.set(e.id,{filter:r,onMessage:n})}),this.eventSubscriptions=t}catch(t){throw Error(`error refreshing event subscriptions: ${t}`)}}async subscribeEvent(t,e){try{2!==this.connectionState&&await this.connect();let r=await this.rpcClient.call(ov,[t],this.options.callTimeout);return this.eventSubscriptions.set(r,{filter:t,onMessage:e}),r}catch(e){throw Error(`Error subscribing to event: ${JSON.stringify(e,null,2)}, filter: ${JSON.stringify(t)}`)}}async unsubscribeEvent(t){try{2!==this.connectionState&&await this.connect();let e=await this.rpcClient.call("suix_unsubscribeEvent",[t],this.options.callTimeout);return this.eventSubscriptions.delete(t)||e}catch(e){throw Error(`Error unsubscribing from event: ${e}, subscription: ${t}`)}}};async function oS(t,e,r){let n;let i=await fetch(t,{method:"POST",body:JSON.stringify({FixedAmountRequest:{recipient:e}}),headers:{"Content-Type":"application/json",...r||{}}});if(429===i.status)throw new ou("Too many requests from this client have been sent to the faucet. Please retry later");try{n=await i.json()}catch(t){throw Error(`Ecountered error when parsing response from faucet, error: ${t}, status ${i.status}, response ${i}`)}if(n.error)throw Error(`Faucet returns error: ${n.error}`);return n}var oB=class{constructor(t){n4(this,l,void 0),n5(this,l,t)}get fullnode(){return n8(this,l).fullnode}get websocket(){return n8(this,l).websocket||n8(this,l).fullnode}get faucet(){return n8(this,l).faucet}};l=new WeakMap,new oB({fullnode:"http://127.0.0.1:9000",faucet:"http://127.0.0.1:9123/gas"});var oT=new oB({fullnode:"https://fullnode.devnet.sui.io:443/",faucet:"https://faucet.devnet.sui.io/gas"});function oA(t,e){return(0,tu.create)(t,e)}new oB({fullnode:"https://fullnode.testnet.sui.io:443/",faucet:"https://faucet.testnet.sui.io/gas"});var oI=Symbol("transaction-argument-type"),ok=(0,tu.object)({kind:(0,tu.literal)("Input"),index:(0,tu.integer)(),value:(0,tu.optional)((0,tu.any)()),type:(0,tu.optional)((0,tu.union)([(0,tu.literal)("pure"),(0,tu.literal)("object")]))}),oj=[ok,(0,tu.object)({kind:(0,tu.literal)("GasCoin")}),(0,tu.object)({kind:(0,tu.literal)("Result"),index:(0,tu.integer)()}),(0,tu.object)({kind:(0,tu.literal)("NestedResult"),index:(0,tu.integer)(),resultIndex:(0,tu.integer)()})],oO=(0,tu.union)([...oj]),oC=(0,tu.union)([...oj]);oC[oI]={kind:"object"};var oU=t=>{let e=(0,tu.union)([...oj]);return e[oI]={kind:"pure",type:t},e},oR=(0,tu.object)({kind:(0,tu.literal)("MoveCall"),target:(0,tu.define)("target",(0,tu.string)().validator),typeArguments:(0,tu.array)((0,tu.string)()),arguments:(0,tu.array)(oO)}),oL=(0,tu.object)({kind:(0,tu.literal)("TransferObjects"),objects:(0,tu.array)(oC),address:oU(O.ADDRESS)}),oD=(0,tu.object)({kind:(0,tu.literal)("SplitCoins"),coin:oC,amounts:(0,tu.array)(oU("u64"))}),oN=(0,tu.object)({kind:(0,tu.literal)("MergeCoins"),destination:oC,sources:(0,tu.array)(oC)}),oP=(0,tu.object)({kind:(0,tu.literal)("MakeMoveVec"),type:(0,tu.optional)((n=(0,tu.string)(),(0,tu.union)([(0,tu.object)({None:(0,tu.literal)(null)}),(0,tu.object)({Some:n})]))),objects:(0,tu.array)(oC)}),o_=(0,tu.object)({kind:(0,tu.literal)("Publish"),modules:(0,tu.array)((0,tu.array)((0,tu.integer)())),dependencies:(0,tu.array)(ie)}),oH=((i=oH||{})[i.COMPATIBLE=0]="COMPATIBLE",i[i.ADDITIVE=128]="ADDITIVE",i[i.DEP_ONLY=192]="DEP_ONLY",i),o$=(0,tu.object)({kind:(0,tu.literal)("Upgrade"),modules:(0,tu.array)((0,tu.array)((0,tu.integer)())),dependencies:(0,tu.array)(ie),packageId:ie,ticket:oC}),oV=[oR,oL,oD,oN,o_,o$,oP],oq=(0,tu.union)([...oV]),oM={MoveCall:t=>oA({kind:"MoveCall",target:t.target,arguments:t.arguments??[],typeArguments:t.typeArguments??[]},oR),TransferObjects:(t,e)=>oA({kind:"TransferObjects",objects:t,address:e},oL),SplitCoins:(t,e)=>oA({kind:"SplitCoins",coin:t,amounts:e},oD),MergeCoins:(t,e)=>oA({kind:"MergeCoins",destination:t,sources:e},oN),Publish:({modules:t,dependencies:e})=>oA({kind:"Publish",modules:t.map(t=>"string"==typeof t?Array.from(w(t)):t),dependencies:e.map(t=>iu(t))},o_),Upgrade:({modules:t,dependencies:e,packageId:r,ticket:n})=>oA({kind:"Upgrade",modules:t.map(t=>"string"==typeof t?Array.from(w(t)):t),dependencies:e.map(t=>iu(t)),packageId:r,ticket:n},o$),MakeMoveVec:({type:t,objects:e})=>oA({kind:"MakeMoveVec",type:t?{Some:t}:{None:null},objects:e},oP)},oF=/^vector<(.+)>$/,oz=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,oW=class{static parseFromStr(t,e=!1){if("address"===t)return{address:null};if("bool"===t)return{bool:null};if("u8"===t)return{u8:null};if("u16"===t)return{u16:null};if("u32"===t)return{u32:null};if("u64"===t)return{u64:null};if("u128"===t)return{u128:null};else if("u256"===t)return{u256:null};else if("signer"===t)return{signer:null};let r=t.match(oF);if(r)return{vector:oW.parseFromStr(r[1],e)};let n=t.match(oz);if(n){let t=e?ic(n[1]):n[1];return{struct:{address:t,module:n[2],name:n[3],typeParams:void 0===n[5]?[]:oW.parseStructTypeArgs(n[5],e)}}}throw Error(`Encountered unexpected token when parsing type args for ${t}`)}static parseStructTypeArgs(t,e=!1){let r=[],n="",i=0;for(let e=0;e<t.length;e++){let s=t[e];if("<"===s&&i++,">"===s&&i--,0===i&&","===s){r.push(n.trim()),n="";continue}n+=s}return r.push(n.trim()),r.map(t=>oW.parseFromStr(t,e))}static tagToString(t){if("bool"in t)return"bool";if("u8"in t)return"u8";if("u16"in t)return"u16";if("u32"in t)return"u32";if("u64"in t)return"u64";if("u128"in t)return"u128";if("u256"in t)return"u256";if("address"in t)return"address";if("signer"in t)return"signer";if("vector"in t)return`vector<${oW.tagToString(t.vector)}>`;if("struct"in t){let e=t.struct,r=e.typeParams.map(oW.tagToString).join(", ");return`${e.address}::${e.module}::${e.name}${r?`<${r}>`:""}`}throw Error("Invalid TypeTag")}},oG="Argument",oK="vector",oZ="TypeTag",oY="ProgrammableMoveCall",oJ="Transaction",oX="EnumKind",oQ=[oX,oG],o0="SimpleProgrammableMoveCall",o1=new O(sE).registerStructType("ProgrammableTransaction",{inputs:[oK,"CallArg"],transactions:[oK,[oX,oJ]]}).registerEnumType(oG,{GasCoin:null,Input:{index:O.U16},Result:{index:O.U16},NestedResult:{index:O.U16,resultIndex:O.U16}}).registerStructType(oY,{package:O.ADDRESS,module:O.STRING,function:O.STRING,type_arguments:[oK,oZ],arguments:[oK,oQ]}).registerEnumType(oJ,{MoveCall:o0,TransferObjects:{objects:[oK,oQ],address:oQ},SplitCoins:{coin:oQ,amounts:[oK,oQ]},MergeCoins:{destination:oQ,sources:[oK,oQ]},Publish:{modules:[oK,[oK,O.U8]],dependencies:[oK,O.ADDRESS]},MakeMoveVec:{type:["Option",oZ],objects:[oK,oQ]},Upgrade:{modules:[oK,[oK,O.U8]],dependencies:[oK,O.ADDRESS],packageId:O.ADDRESS,ticket:oQ}});o1.registerType([oX,"T"],function(t,e,r,n){let i=e.kind,[s]=r;return this.getTypeInterface(s)._encodeRaw.call(this,t,{[i]:e},r,n)},function(t,e,r){let[n]=e,i=this.getTypeInterface(n)._decodeRaw.call(this,t,e,r),s=Object.keys(i)[0];return{kind:s,...i[s]}},t=>{if("object"!=typeof t&&!("kind"in t))throw Error(`EnumKind: Missing property "kind" in the input ${JSON.stringify(t)}`);return!0}),o1.registerType(o0,function(t,e,r,n){let[i,s,o]=e.target.split("::"),a=e.typeArguments.map(t=>oW.parseFromStr(t,!0));return this.getTypeInterface(oY)._encodeRaw.call(this,t,{package:ic(i),module:s,function:o,type_arguments:a,arguments:e.arguments},r,n)},function(t,e,r){let n=o1.getTypeInterface(oY)._decodeRaw.call(this,t,e,r);return{target:[n.package,n.module,n.function].join("::"),arguments:n.arguments,typeArguments:n.type_arguments.map(oW.tagToString)}},t=>3===t.target.split("::").length);var o2=(0,tu.union)([(0,tu.object)({ImmOrOwned:ih}),(0,tu.object)({Shared:(0,tu.object)({objectId:(0,tu.string)(),initialSharedVersion:(0,tu.union)([(0,tu.integer)(),(0,tu.string)()]),mutable:(0,tu.boolean)()})})]),o3=(0,tu.object)({Pure:(0,tu.array)((0,tu.integer)())}),o8=(0,tu.object)({Object:o2}),o4=(0,tu.union)([o3,o8]),o5={Pure:(t,e)=>({Pure:Array.from(t instanceof Uint8Array?t:o1.ser(e,t).toBytes())}),ObjectRef:({objectId:t,digest:e,version:r})=>({Object:{ImmOrOwned:{digest:e,version:r,objectId:ic(t)}}}),SharedObjectRef:({objectId:t,mutable:e,initialSharedVersion:r})=>({Object:{Shared:{mutable:e,initialSharedVersion:r,objectId:ic(t)}}})};function o6(t){return"string"==typeof t?ic(t):"ImmOrOwned"in t.Object?ic(t.Object.ImmOrOwned.objectId):ic(t.Object.Shared.objectId)}var o7={address:"0x2",module:"object",name:"ID"},o9={address:"0x1",module:"ascii",name:"String"},at={address:"0x1",module:"string",name:"String"},ae={address:"0x1",module:"option",name:"Option"},ar=(t,e)=>t.address===e.address&&t.module===e.module&&t.name===e.name;function an(t,e){if(void 0!==e&&typeof e!==t)throw Error(`Expect ${e} to be ${t}, received ${typeof e}`)}var ai=["Address","Bool","U8","U16","U32","U64","U128","U256"],as=(0,tu.optional)((0,tu.nullable)((0,tu.union)([(0,tu.object)({Epoch:(0,tu.integer)()}),(0,tu.object)({None:(0,tu.union)([(0,tu.literal)(!0),(0,tu.literal)(null)])})]))),ao=(0,tu.string)(),aa=(0,tu.define)("StringEncodedBigint",t=>{if(!["string","number","bigint"].includes(typeof t))return!1;try{return BigInt(t),!0}catch{return!1}}),al=(0,tu.object)({budget:(0,tu.optional)(aa),price:(0,tu.optional)(aa),payment:(0,tu.optional)((0,tu.array)(ih)),owner:(0,tu.optional)(ao)}),ac=(0,tu.object)({version:(0,tu.literal)(1),sender:(0,tu.optional)(ao),expiration:as,gasConfig:al,inputs:(0,tu.array)(ok),transactions:(0,tu.array)(oq)});function au(t){return ic(t).replace("0x","")}var ah=class{constructor(t){this.version=1,this.sender=t?.sender,this.expiration=t?.expiration,this.gasConfig=t?.gasConfig??{},this.inputs=t?.inputs??[],this.transactions=t?.transactions??[]}static fromKindBytes(t){let e=o1.de("TransactionKind",t),r=e?.ProgrammableTransaction;if(!r)throw Error("Unable to deserialize from bytes.");let n=oA({version:1,gasConfig:{},inputs:r.inputs.map((t,e)=>oA({kind:"Input",value:t,index:e,type:(0,tu.is)(t,o3)?"pure":"object"},ok)),transactions:r.transactions},ac);return ah.restore(n)}static fromBytes(t){let e=o1.de("TransactionData",t),r=e?.V1,n=r?.kind?.ProgrammableTransaction;if(!r||!n)throw Error("Unable to deserialize from bytes.");let i=oA({version:1,sender:r.sender,expiration:r.expiration,gasConfig:r.gasData,inputs:n.inputs.map((t,e)=>oA({kind:"Input",value:t,index:e,type:(0,tu.is)(t,o3)?"pure":"object"},ok)),transactions:n.transactions},ac);return ah.restore(i)}static restore(t){(0,tu.assert)(t,ac);let e=new ah;return Object.assign(e,t),e}static getDigestFromBytes(t){let e=function(t,e){let r=Array.from(`${t}::`).map(t=>t.charCodeAt(0)),n=new Uint8Array(r.length+e.length);return n.set(r),n.set(e,r.length),tc(n,{dkLen:32})}("TransactionData",t);return T(e)}build({overrides:t,onlyTransactionKind:e}={}){let r=this.inputs.map(t=>((0,tu.assert)(t.value,o4),t.value)),n={ProgrammableTransaction:{inputs:r,transactions:this.transactions}};if(e)return o1.ser("TransactionKind",n,{maxSize:131072}).toBytes();let i=t?.expiration??this.expiration,s=t?.sender??this.sender,o={...this.gasConfig,...t?.gasConfig};if(!s)throw Error("Missing transaction sender");if(!o.budget)throw Error("Missing gas budget");if(!o.payment)throw Error("Missing gas payment");if(!o.price)throw Error("Missing gas price");let a={sender:au(s),expiration:i||{None:!0},gasData:{payment:o.payment,owner:au(this.gasConfig.owner??s),price:BigInt(o.price),budget:BigInt(o.budget)},kind:{ProgrammableTransaction:{inputs:r,transactions:this.transactions}}};return o1.ser("TransactionData",{V1:a},{maxSize:131072}).toBytes()}getDigest(){let t=this.build({onlyTransactionKind:!1});return ah.getDigestFromBytes(t)}snapshot(){return oA(this,ac)}};function ad(t){if(!t)throw Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return t}var af=Symbol.for("@mysten/transaction"),ap=class{constructor(t){n4(this,u),n4(this,d),n4(this,p),n4(this,c,void 0),n5(this,c,new ah(t?t.blockData:void 0))}static is(t){return!!t&&"object"==typeof t&&!0===t[af]}static fromKind(t){let e=new ap;return n5(e,c,ah.fromKindBytes("string"==typeof t?w(t):t)),e}static from(t){let e=new ap;return"string"==typeof t&&t.startsWith("{")?n5(e,c,ah.restore(JSON.parse(t))):n5(e,c,ah.fromBytes("string"==typeof t?w(t):t)),e}static get Transactions(){return oM}static get Inputs(){return o5}setSender(t){n8(this,c).sender=t}setSenderIfNotSet(t){n8(this,c).sender||(n8(this,c).sender=t)}setExpiration(t){n8(this,c).expiration=t}setGasPrice(t){n8(this,c).gasConfig.price=String(t)}setGasBudget(t){n8(this,c).gasConfig.budget=String(t)}setGasOwner(t){n8(this,c).gasConfig.owner=t}setGasPayment(t){if(t.length>=256)throw Error("Payment objects exceed maximum amount 256");n8(this,c).gasConfig.payment=t.map(t=>(0,tu.mask)(t,ih))}get blockData(){return n8(this,c).snapshot()}get[af](){return!0}get gas(){return{kind:"GasCoin"}}object(t){let e=o6(t),r=n8(this,c).inputs.find(t=>"object"===t.type&&e===o6(t.value));return r??n6(this,u,h).call(this,"object",t)}objectRef(...t){return this.object(o5.ObjectRef(...t))}sharedObjectRef(...t){return this.object(o5.SharedObjectRef(...t))}pure(t,e){return n6(this,u,h).call(this,"pure",t instanceof Uint8Array?o5.Pure(t):e?o5.Pure(t,e):t)}add(t){let e=n8(this,c).transactions.push(t);return function(t){let e=[],r=r=>e[r]??(e[r]={kind:"NestedResult",index:t,resultIndex:r});return new Proxy({kind:"Result",index:t},{set(){throw Error("The transaction result is a proxy, and does not support setting properties directly")},get(t,e){if(e in t)return Reflect.get(t,e);if(e===Symbol.iterator)return function*(){let t=0;for(;;)yield r(t),t++};if("symbol"==typeof e)return;let n=parseInt(e,10);if(!Number.isNaN(n)&&!(n<0))return r(n)}})}(e-1)}splitCoins(...t){return this.add(oM.SplitCoins(...t))}mergeCoins(...t){return this.add(oM.MergeCoins(...t))}publish(...t){return this.add(oM.Publish(...t))}upgrade(...t){return this.add(oM.Upgrade(...t))}moveCall(...t){return this.add(oM.MoveCall(...t))}transferObjects(...t){return this.add(oM.TransferObjects(...t))}makeMoveVec(...t){return this.add(oM.MakeMoveVec(...t))}serialize(){return JSON.stringify(n8(this,c).snapshot())}async build({provider:t,onlyTransactionKind:e}={}){return await n6(this,p,g).call(this,{provider:t,onlyTransactionKind:e}),n8(this,c).build({onlyTransactionKind:e})}async getDigest({provider:t}={}){return await n6(this,p,g).call(this,{provider:t}),n8(this,c).getDigest()}};c=new WeakMap,u=new WeakSet,h=function(t,e){let r=n8(this,c).inputs.length,n=oA({kind:"Input",value:"bigint"==typeof e?String(e):e,index:r,type:t},ok);return n8(this,c).inputs.push(n),n},d=new WeakSet,f=async function(t){let e=n8(this,c).gasConfig.owner??n8(this,c).sender,r=await ad(t).getCoins({owner:e,coinType:"0x2::sui::SUI"}),n=r.data.filter(t=>{let e=n8(this,c).inputs.find(e=>!!(0,tu.is)(e.value,o4)&&"Object"in e.value&&"ImmOrOwned"in e.value.Object&&t.coinObjectId===e.value.Object.ImmOrOwned.objectId);return!e}).slice(0,255).map(t=>({objectId:t.coinObjectId,digest:t.digest,version:t.version}));if(!n.length)throw Error("No valid gas coins found for the transaction.");return n},p=new WeakSet,g=async function({provider:t,onlyTransactionKind:e}){if(!e&&!n8(this,c).sender)throw Error("Missing transaction sender");let{inputs:r,transactions:n}=n8(this,c),i=[],s=[];if(n.forEach(t=>{if("MoveCall"===t.kind){let e=t.arguments.some(t=>"Input"===t.kind&&!(0,tu.is)(r[t.index].value,o4));e&&i.push(t);return}let e=((0,tu.assert)(t,oq),oV.find(e=>(0,tu.is)(t,e)));e.schema&&Object.entries(t).forEach(([t,n])=>{if("kind"===t)return;let i=e.schema[t],o="array"===i.type,a=o?i.schema[oI]:i[oI];if(!a)return;let l=t=>{let e=r[t];if(!e)throw Error(`Missing input ${n.index}`);if(!(0,tu.is)(e.value,o4)){if("object"===a.kind&&"string"==typeof e.value)s.push({id:e.value,input:e});else if("pure"===a.kind)e.value=o5.Pure(e.value,a.type);else throw Error("Unexpected input format.")}};if(o)n.forEach(t=>{"Input"===t.kind&&l(t.index)});else{if("Input"!==n.kind)return;l(n.index)}})}),i.length&&await Promise.all(i.map(async e=>{let[n,i,o]=e.target.split("::"),a=await ad(t).getNormalizedMoveFunction({package:iu(n),module:i,function:o}),l=a.parameters.length>0&&function(t){let e=s_(t)?.Struct;return e?.address==="0x2"&&e?.module==="tx_context"&&e?.name==="TxContext"}(a.parameters.at(-1)),c=l?a.parameters.slice(0,a.parameters.length-1):a.parameters;if(c.length!==e.arguments.length)throw Error("Incorrect number of arguments.");c.forEach((t,n)=>{let i=e.arguments[n];if("Input"!==i.kind)return;let o=r[i.index];if((0,tu.is)(o.value,o4))return;let a=o.value,l=function t(e,r){if("string"==typeof e&&ai.includes(e)){if(e in["U8","U16","U32","U64","U128","U256"])an("number",r);else if("Bool"===e)an("boolean",r);else if("Address"===e&&(an("string",r),r&&!il(r)))throw Error("Invalid Sui Address");return e.toLowerCase()}if("string"==typeof e)throw Error(`Unknown pure normalized type ${JSON.stringify(e,null,2)}`);if("Vector"in e){if((void 0===r||"string"==typeof r)&&"U8"===e.Vector)return"string";if(void 0!==r&&!Array.isArray(r))throw Error(`Expect ${r} to be a array, received ${typeof r}`);let n=t(e.Vector,r?r[0]:void 0);if(void 0===n)return;return`vector<${n}>`}if("Struct"in e){if(ar(e.Struct,o9))return"string";if(ar(e.Struct,at))return"utf8string";if(ar(e.Struct,o7))return"address";if(ar(e.Struct,ae)){let n={Vector:e.Struct.typeArguments[0]};return t(n,r)}}}(t,a);if(l){o.value=o5.Pure(a,l);return}let c=s_(t);if(null!=c||"object"==typeof t&&"TypeParameter"in t){if("string"!=typeof a)throw Error(`Expect the argument to be an object id string, got ${JSON.stringify(a,null,2)}`);s.push({id:a,input:o,normalizedType:t});return}throw Error(`Unknown call arg type ${JSON.stringify(t,null,2)} for value ${JSON.stringify(a,null,2)}`)})})),s.length){let e=[...new Set(s.map(({id:t})=>t))],r=await ad(t).multiGetObjects({ids:e,options:{showOwner:!0}}),n=new Map(e.map((t,e)=>[t,r[e]])),i=Array.from(n).filter(([t,e])=>e.error).map(([t,e])=>t);if(i.length)throw Error(`The following input objects are not invalid: ${i.join(", ")}`);s.forEach(({id:t,input:e,normalizedType:r})=>{let i=n.get(t),s=function(t){let e=(0,tu.is)(t,is)?t:t.data?.owner;return"object"==typeof e&&"Shared"in e?e.Shared.initial_shared_version:void 0}(i);if(s){var o;let n=(o=e.value,(("object"==typeof o&&"Object"in o&&"Shared"in o.Object?o.Object.Shared:void 0)?.mutable??!1)||null!=r&&null!=sP(r));e.value=o5.SharedObjectRef({objectId:t,initialSharedVersion:s,mutable:n})}else e.value=o5.ObjectRef(ik(i))})}if(!e&&(n8(this,c).gasConfig.price||this.setGasPrice(await ad(t).getReferenceGasPrice()),n8(this,c).gasConfig.payment||(n8(this,c).gasConfig.payment=await n6(this,d,f).call(this,t)),!this.blockData.gasConfig.budget)){let e=await ad(t).dryRunTransactionBlock({transactionBlock:n8(this,c).build({overrides:{gasConfig:{budget:String(1e9),payment:[]}}})});if("success"!==e.effects.status.status)throw Error(`Dry run failed, could not automatically determine a budget: ${e.effects.status.error}`,{cause:e});let r=10n*BigInt(this.blockData.gasConfig.payment?.length||0n)*BigInt(this.blockData.gasConfig.price||1n);this.setGasBudget(BigInt(e.effects.gasUsed.computationCost)+BigInt(e.effects.gasUsed.storageCost)+r)}};var ag=(0,tu.object)({currentTps:(0,tu.number)(),tps30Days:(0,tu.number)(),currentCheckpoint:(0,tu.string)(),currentEpoch:(0,tu.string)(),totalAddresses:(0,tu.string)(),totalObjects:(0,tu.string)(),totalPackages:(0,tu.string)()}),ay=(0,tu.object)({lastCheckpointId:(0,tu.string)(),epochEndTimestamp:(0,tu.string)(),protocolVersion:(0,tu.string)(),referenceGasPrice:(0,tu.string)(),totalStake:(0,tu.string)(),storageFundReinvestment:(0,tu.string)(),storageCharge:(0,tu.string)(),storageRebate:(0,tu.string)(),storageFundBalance:(0,tu.string)(),stakeSubsidyAmount:(0,tu.string)(),totalGasFees:(0,tu.string)(),totalStakeRewardsDistributed:(0,tu.string)(),leftoverStorageFundInflow:(0,tu.string)()}),ab=(0,tu.object)({epoch:(0,tu.string)(),validators:(0,tu.array)(sW),epochTotalTransactions:(0,tu.string)(),firstCheckpointId:(0,tu.string)(),epochStartTimestamp:(0,tu.string)(),endOfEpochInfo:(0,tu.nullable)(ay)}),am=(0,tu.object)({data:(0,tu.array)(ab),nextCursor:(0,tu.nullable)((0,tu.string)()),hasNextPage:(0,tu.boolean)()}),aw="0.29.0",aE={skipDataValidation:!0,socketOptions:oE,versionCacheTimeoutInSeconds:600},av=class{constructor(t=oT,e=aE){this.options=e,this.connection=t;let r={...aE,...e};this.options=r,this.client=r.rpcClient??new of(this.connection.fullnode),this.wsClient=r.websocketClient??new ox(this.connection.websocket,r.skipDataValidation,r.socketOptions)}async getRpcApiVersion(){if(this.rpcApiVersion&&this.cacheExpiry&&this.cacheExpiry<=Date.now())return this.rpcApiVersion;try{var t;let e=await this.client.requestWithType("rpc.discover",[],(0,tu.any)(),this.options.skipDataValidation);return this.rpcApiVersion=(t=e.info.version,(0,th.parse)(t)),this.cacheExpiry=Date.now()+(this.options.versionCacheTimeoutInSeconds??0)*1e3,this.rpcApiVersion}catch(t){console.warn("Error fetching version number of the RPC API",t)}}async requestSuiFromFaucet(t,e){if(!this.connection.faucet)throw Error("Faucet URL is not specified");return oS(this.connection.faucet,t,e)}async getCoins(t){if(!t.owner||!il(ic(t.owner)))throw Error("Invalid Sui address");return await this.client.requestWithType("suix_getCoins",[t.owner,t.coinType,t.cursor,t.limit],sZ,this.options.skipDataValidation)}async getAllCoins(t){if(!t.owner||!il(ic(t.owner)))throw Error("Invalid Sui address");return await this.client.requestWithType("suix_getAllCoins",[t.owner,t.cursor,t.limit],sZ,this.options.skipDataValidation)}async getBalance(t){if(!t.owner||!il(ic(t.owner)))throw Error("Invalid Sui address");return await this.client.requestWithType("suix_getBalance",[t.owner,t.coinType],sY,this.options.skipDataValidation)}async getAllBalances(t){if(!t.owner||!il(ic(t.owner)))throw Error("Invalid Sui address");return await this.client.requestWithType("suix_getAllBalances",[t.owner],(0,tu.array)(sY),this.options.skipDataValidation)}async getCoinMetadata(t){return await this.client.requestWithType("suix_getCoinMetadata",[t.coinType],sp,this.options.skipDataValidation)}async getTotalSupply(t){return await this.client.requestWithType("suix_getTotalSupply",[t.coinType],sJ,this.options.skipDataValidation)}async call(t,e){let r=await this.client.request(t,e);if((0,tu.is)(r,od))throw new ol({req:{method:t,args:e},code:r.error.code,data:r.error.data,cause:Error(r.error.message)});return r.result}async getMoveFunctionArgTypes(t){return await this.client.requestWithType("sui_getMoveFunctionArgTypes",[t.package,t.module,t.function],sS,this.options.skipDataValidation)}async getNormalizedMoveModulesByPackage(t){return await this.client.requestWithType("sui_getNormalizedMoveModulesByPackage",[t.package],sN,this.options.skipDataValidation)}async getNormalizedMoveModule(t){return await this.client.requestWithType("sui_getNormalizedMoveModule",[t.package,t.module],sD,this.options.skipDataValidation)}async getNormalizedMoveFunction(t){return await this.client.requestWithType("sui_getNormalizedMoveFunction",[t.package,t.module,t.function],sU,this.options.skipDataValidation)}async getNormalizedMoveStruct(t){return await this.client.requestWithType("sui_getNormalizedMoveStruct",[t.package,t.module,t.struct],sL,this.options.skipDataValidation)}async getOwnedObjects(t){if(!t.owner||!il(ic(t.owner)))throw Error("Invalid Sui address");return await this.client.requestWithType("suix_getOwnedObjects",[t.owner,{filter:t.filter,options:t.options},t.cursor,t.limit],iC,this.options.skipDataValidation)}async getObject(t){if(!t.id||!il(iu(t.id)))throw Error("Invalid Sui Object id");return await this.client.requestWithType("sui_getObject",[t.id,t.options],iI,this.options.skipDataValidation)}async multiGetObjects(t){t.ids.forEach(t=>{if(!t||!il(iu(t)))throw Error(`Invalid Sui Object id ${t}`)});let e=t.ids.length!==new Set(t.ids).size;if(e)throw Error(`Duplicate object ids in batch call ${t.ids}`);return await this.client.requestWithType("sui_multiGetObjects",[t.ids,t.options],(0,tu.array)(iI),this.options.skipDataValidation)}async queryTransactionBlocks(t){return await this.client.requestWithType("suix_queryTransactionBlocks",[{filter:t.filter,options:t.options},t.cursor,t.limit,"descending"===(t.order||"descending")],sl,this.options.skipDataValidation)}async getTransactionBlock(t){if(!ia(t.digest))throw Error("Invalid Transaction digest");return await this.client.requestWithType("sui_getTransactionBlock",[t.digest,t.options],sa,this.options.skipDataValidation)}async multiGetTransactionBlocks(t){t.digests.forEach(t=>{if(!ia(t))throw Error(`Invalid Transaction digest ${t}`)});let e=t.digests.length!==new Set(t.digests).size;if(e)throw Error(`Duplicate digests in batch call ${t.digests}`);return await this.client.requestWithType("sui_multiGetTransactionBlocks",[t.digests,t.options],(0,tu.array)(sa),this.options.skipDataValidation)}async executeTransactionBlock(t){return await this.client.requestWithType("sui_executeTransactionBlock",["string"==typeof t.transactionBlock?t.transactionBlock:v(t.transactionBlock),Array.isArray(t.signature)?t.signature:[t.signature],t.options,t.requestType],sa,this.options.skipDataValidation)}async getTotalTransactionBlocks(){let t=await this.client.requestWithType("sui_getTotalTransactionBlocks",[],(0,tu.string)(),this.options.skipDataValidation);return BigInt(t)}async getReferenceGasPrice(){let t=await this.client.requestWithType("suix_getReferenceGasPrice",[],(0,tu.string)(),this.options.skipDataValidation);return BigInt(t)}async getStakes(t){if(!t.owner||!il(ic(t.owner)))throw Error("Invalid Sui address");return await this.client.requestWithType("suix_getStakes",[t.owner],(0,tu.array)(s$),this.options.skipDataValidation)}async getStakesByIds(t){return t.stakedSuiIds.forEach(t=>{if(!t||!il(iu(t)))throw Error(`Invalid Sui Stake id ${t}`)}),await this.client.requestWithType("suix_getStakesByIds",[t.stakedSuiIds],(0,tu.array)(s$),this.options.skipDataValidation)}async getLatestSuiSystemState(){return await this.client.requestWithType("suix_getLatestSuiSystemState",[],sG,this.options.skipDataValidation)}async queryEvents(t){return await this.client.requestWithType("suix_queryEvents",[t.query,t.cursor,t.limit,"descending"===(t.order||"descending")],iL,this.options.skipDataValidation)}async subscribeEvent(t){return this.wsClient.subscribeEvent(t.filter,t.onMessage)}async unsubscribeEvent(t){return this.wsClient.unsubscribeEvent(t.id)}async devInspectTransactionBlock(t){let e;if(ap.is(t.transactionBlock))t.transactionBlock.setSenderIfNotSet(t.sender),e=v(await t.transactionBlock.build({provider:this,onlyTransactionKind:!0}));else if("string"==typeof t.transactionBlock)e=t.transactionBlock;else if(t.transactionBlock instanceof Uint8Array)e=v(t.transactionBlock);else throw Error("Unknown transaction block format.");return await this.client.requestWithType("sui_devInspectTransactionBlock",[t.sender,e,t.gasPrice,t.epoch],i5,this.options.skipDataValidation)}async dryRunTransactionBlock(t){return await this.client.requestWithType("sui_dryRunTransactionBlock",["string"==typeof t.transactionBlock?t.transactionBlock:v(t.transactionBlock)],sc,this.options.skipDataValidation)}async getDynamicFields(t){if(!t.parentId||!il(iu(t.parentId)))throw Error("Invalid Sui Object id");return await this.client.requestWithType("suix_getDynamicFields",[t.parentId,t.cursor,t.limit],ob,this.options.skipDataValidation)}async getDynamicFieldObject(t){return await this.client.requestWithType("suix_getDynamicFieldObject",[t.parentId,t.name],iI,this.options.skipDataValidation)}async getLatestCheckpointSequenceNumber(){let t=await this.client.requestWithType("sui_getLatestCheckpointSequenceNumber",[],(0,tu.string)(),this.options.skipDataValidation);return String(t)}async getCheckpoint(t){return await this.client.requestWithType("sui_getCheckpoint",[t.id],s3,this.options.skipDataValidation)}async getCheckpoints(t){let e=await this.client.requestWithType("sui_getCheckpoints",[t.cursor,t.limit,t.descendingOrder],s8,this.options.skipDataValidation);return e}async getCommitteeInfo(t){return await this.client.requestWithType("suix_getCommitteeInfo",[t?.epoch],sz)}async getNetworkMetrics(){return await this.client.requestWithType("suix_getNetworkMetrics",[],ag,this.options.skipDataValidation)}async getEpochs(t){return await this.client.requestWithType("suix_getEpochs",[t?.cursor,t?.limit,t?.descendingOrder],am,this.options.skipDataValidation)}async getCurrentEpoch(){return await this.client.requestWithType("suix_getCurrentEpoch",[],ab,this.options.skipDataValidation)}},ax=((s=ax||{})[s.Sui=0]="Sui",s),aS=((o=aS||{})[o.V0=0]="V0",o),aB=((a=aB||{})[a.TransactionData=0]="TransactionData",a[a.TransactionEffects=1]="TransactionEffects",a[a.CheckpointSummary=2]="CheckpointSummary",a[a.PersonalMessage=3]="PersonalMessage",a),aT=class extends null{constructor(t,e){super(e),this.keypair=t}async getAddress(){return this.keypair.getPublicKey().toSuiAddress()}async signData(t){let e=this.keypair.getPublicKey(),r=blake2b5(t,{dkLen:32}),n=this.keypair.signData(r),i=this.keypair.getKeyScheme();return function({signature:t,signatureScheme:e,pubKey:r}){let n=new Uint8Array(1+t.length+r.toBytes().length);return n.set([s4[e]]),n.set(t,1),n.set(r.toBytes(),1+t.length),toB64(n)}({signatureScheme:i,signature:n,pubKey:e})}connect(t){return new aT(this.keypair,t)}};iu("0x5")},1436:function(t,e,r){"use strict";r.d(e,{tP:function(){return y}});var n,i,s,o,a,l=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},c=(t,e,r)=>(l(t,e,"read from private field"),r?r.call(t):e.get(t)),u=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},h=(t,e,r,n)=>(l(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),d=(t,e,r)=>(l(t,e,"access private method"),r),f="1.0.0",p="1.0.0";function g(t,e){let[r]=t.split("."),[n]=e.split(".");return+n==+r}var y=class{constructor({wallet:t}){var e;u(this,o),this.connected=!1,this.connecting=!1,u(this,n,{all:e=e||new Map,on:function(t,r){var n=e.get(t);n?n.push(r):e.set(t,[r])},off:function(t,r){var n=e.get(t);n&&(r?n.splice(n.indexOf(r)>>>0,1):e.set(t,[]))},emit:function(t,r){var n=e.get(t);n&&n.slice().map(function(t){t(r)}),(n=e.get("*"))&&n.slice().map(function(e){e(t,r)})}}),u(this,i,void 0),u(this,s,null),this.signMessage=t=>c(this,i).features["sui:signMessage"].signMessage(t),this.signTransactionBlock=t=>{let e=c(this,i).features["sui:signTransactionBlock"].version;if(!g(e,f))throw Error(`Version mismatch, signTransaction feature version ${e} is not compatible with version ${f}`);return c(this,i).features["sui:signTransactionBlock"].signTransactionBlock(t)},this.signAndExecuteTransactionBlock=t=>{let e=c(this,i).features["sui:signAndExecuteTransactionBlock"].version;if(!g(e,p))throw Error(`Version mismatch, signAndExecuteTransactionBlock feature version ${e} is not compatible with version ${p}`);return c(this,i).features["sui:signAndExecuteTransactionBlock"].signAndExecuteTransactionBlock(t)},this.on=(t,e)=>(c(this,n).on(t,e),()=>{c(this,n).off(t,e)}),h(this,i,t)}get name(){return c(this,i).name}get icon(){return c(this,i).icon}get wallet(){return c(this,i)}async getAccounts(){return c(this,i).accounts}async connect(){try{if(this.connected||this.connecting)return;if(this.connecting=!0,h(this,s,c(this,i).features["standard:events"].on("change",async({accounts:t})=>{t&&(this.connected=t.length>0,await d(this,o,a).call(this))})),c(this,i).accounts.length||await c(this,i).features["standard:connect"].connect(),!c(this,i).accounts.length)throw Error("No wallet accounts found");this.connected=!0,await d(this,o,a).call(this)}finally{this.connecting=!1}}async disconnect(){c(this,i).features["standard:disconnect"]&&await c(this,i).features["standard:disconnect"].disconnect(),this.connected=!1,this.connecting=!1,c(this,s)&&(c(this,s).call(this),h(this,s,null))}};n=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakSet,a=async function(){c(this,n).emit("change",{connected:this.connected,accounts:await this.getAccounts()})},new WeakMap,new WeakMap,new WeakMap,new WeakMap},5003:function(t,e,r){"use strict";let n;r.d(e,{y:function(){return p}});var i,s=function(t,e,r,n,i){if("m"===n)throw TypeError("Private method is not writable");if("a"===n&&!i)throw TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r},o=function(t,e,r,n){if("a"===r&&!n)throw TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)};let a=new Set,l={};function c(...t){return(t=t.filter(t=>!a.has(t))).length?(t.forEach(t=>a.add(t)),l.register?.forEach(e=>d(()=>e(...t))),function(){t.forEach(t=>a.delete(t)),l.unregister?.forEach(e=>d(()=>e(...t)))}):()=>{}}function u(){return[...a]}function h(t,e){return l[t]?.push(e)||(l[t]=[e]),function(){l[t]=l[t]?.filter(t=>e!==t)}}function d(t){try{t()}catch(t){console.error(t)}}class f extends Event{constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),i.set(this,void 0),s(this,i,t,"f")}get detail(){return o(this,i,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw Error("preventDefault cannot be called")}stopImmediatePropagation(){throw Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw Error("stopPropagation cannot be called")}}function p(){if(n||(n=function(){if(n||(n=Object.freeze({register:c,get:u,on:h}),"undefined"==typeof window))return n;let t=Object.freeze({register:c});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(t){console.error("wallet-standard:register-wallet event listener could not be added\n",t)}try{window.dispatchEvent(new f(t))}catch(t){console.error("wallet-standard:app-ready event could not be dispatched\n",t)}return n}(),"undefined"==typeof window))return n;let t=window.navigator.wallets||[];if(!Array.isArray(t))return console.error("window.navigator.wallets is not an array"),n;let{register:e}=n,r=(...t)=>t.forEach(t=>d(()=>t({register:e})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:r})})}catch(t){return console.error("window.navigator.wallets could not be set"),n}return r(...t),n}i=new WeakMap},2920:function(t,e,r){"use strict";let n;r.d(e,{Ix:function(){return I},LG:function(){return A},Am:function(){return L}});var i=r(7294),s=function(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=function t(e){var r,n,i="";if("string"==typeof e||"number"==typeof e)i+=e;else if("object"==typeof e){if(Array.isArray(e))for(r=0;r<e.length;r++)e[r]&&(n=t(e[r]))&&(i&&(i+=" "),i+=n);else for(r in e)e[r]&&(i&&(i+=" "),i+=r)}return i}(t))&&(n&&(n+=" "),n+=e);return n};function o(t){return"number"==typeof t&&!isNaN(t)}function a(t){return"boolean"==typeof t}function l(t){return"string"==typeof t}function c(t){return"function"==typeof t}function u(t){return l(t)||c(t)?t:null}function h(t){return(0,i.isValidElement)(t)||l(t)||c(t)||o(t)}let d={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},f={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};function p(t){let{enter:e,exit:r,appendPosition:n=!1,collapse:s=!0,collapseDuration:o=300}=t;return function(t){let{children:a,position:l,preventExitTransition:c,done:u,nodeRef:h,isIn:d}=t,f=n?e+"--"+l:e,p=n?r+"--"+l:r,g=(0,i.useRef)(0);return(0,i.useLayoutEffect)(()=>{let t=h.current,e=f.split(" "),r=n=>{n.target===h.current&&(t.dispatchEvent(new Event("d")),t.removeEventListener("animationend",r),t.removeEventListener("animationcancel",r),0===g.current&&"animationcancel"!==n.type&&t.classList.remove(...e))};t.classList.add(...e),t.addEventListener("animationend",r),t.addEventListener("animationcancel",r)},[]),(0,i.useEffect)(()=>{let t=h.current,e=()=>{t.removeEventListener("animationend",e),s?function(t,e,r){void 0===r&&(r=300);let{scrollHeight:n,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition="all "+r+"ms",requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,r)})})}(t,u,o):u()};d||(c?e():(g.current=1,t.className+=" "+p,t.addEventListener("animationend",e)))},[d]),i.createElement(i.Fragment,null,a)}}function g(t,e){return{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}}let y={list:new Map,emitQueue:new Map,on(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off(t,e){if(e){let r=this.list.get(t).filter(t=>t!==e);return this.list.set(t,r),this}return this.list.delete(t),this},cancelEmit(t){let e=this.emitQueue.get(t);return e&&(e.forEach(clearTimeout),this.emitQueue.delete(t)),this},emit(t){this.list.has(t)&&this.list.get(t).forEach(e=>{let r=setTimeout(()=>{e(...[].slice.call(arguments,1))},0);this.emitQueue.has(t)||this.emitQueue.set(t,[]),this.emitQueue.get(t).push(r)})}},b=t=>{let{theme:e,type:r,...n}=t;return i.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===e?"currentColor":"var(--toastify-icon-color-"+r+")",...n})},m={info:function(t){return i.createElement(b,{...t},i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return i.createElement(b,{...t},i.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return i.createElement(b,{...t},i.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return i.createElement(b,{...t},i.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return i.createElement("div",{className:"Toastify__spinner"})}},w=t=>t in m;function E(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function v(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}function x(t){let{closeToast:e,theme:r,ariaLabel:n="close"}=t;return i.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+r,type:"button",onClick:t=>{t.stopPropagation(),e(t)},"aria-label":n},i.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},i.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function S(t){let{delay:e,isRunning:r,closeToast:n,type:o,hide:a,className:l,style:u,controlledProgress:h,progress:d,rtl:f,isIn:p,theme:g}=t,y={...u,animationDuration:e+"ms",animationPlayState:r?"running":"paused",opacity:a?0:1};h&&(y.transform="scaleX("+d+")");let b=s("Toastify__progress-bar",h?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--"+g,"Toastify__progress-bar--"+o,{"Toastify__progress-bar--rtl":f}),m=c(l)?l({rtl:f,type:o,defaultClassName:b}):s(b,l);return i.createElement("div",{role:"progressbar","aria-hidden":a?"true":"false","aria-label":"notification timer",className:m,style:y,[h&&d>=1?"onTransitionEnd":"onAnimationEnd"]:h&&d<1?null:()=>{p&&n()}})}S.defaultProps={type:f.DEFAULT,hide:!1};let B=t=>{let{isRunning:e,preventExitTransition:r,toastRef:n,eventHandlers:o}=function(t){let[e,r]=(0,i.useState)(!1),[n,s]=(0,i.useState)(!1),o=(0,i.useRef)(null),a=(0,i.useRef)({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,l=(0,i.useRef)(t),{autoClose:u,pauseOnHover:h,closeToast:d,onClick:f,closeOnClick:p}=t;function g(e){if(t.draggable){a.didMove=!1,document.addEventListener("mousemove",w),document.addEventListener("mouseup",x),document.addEventListener("touchmove",w),document.addEventListener("touchend",x);let r=o.current;a.canCloseOnClick=!0,a.canDrag=!0,a.boundingRect=r.getBoundingClientRect(),r.style.transition="",a.x=E(e.nativeEvent),a.y=v(e.nativeEvent),"x"===t.draggableDirection?(a.start=a.x,a.removalDistance=r.offsetWidth*(t.draggablePercent/100)):(a.start=a.y,a.removalDistance=r.offsetHeight*(80===t.draggablePercent?1.5*t.draggablePercent:t.draggablePercent/100))}}function y(){if(a.boundingRect){let{top:e,bottom:r,left:n,right:i}=a.boundingRect;t.pauseOnHover&&a.x>=n&&a.x<=i&&a.y>=e&&a.y<=r?m():b()}}function b(){r(!0)}function m(){r(!1)}function w(r){let n=o.current;a.canDrag&&n&&(a.didMove=!0,e&&m(),a.x=E(r),a.y=v(r),"x"===t.draggableDirection?a.delta=a.x-a.start:a.delta=a.y-a.start,a.start!==a.x&&(a.canCloseOnClick=!1),n.style.transform="translate"+t.draggableDirection+"("+a.delta+"px)",n.style.opacity=""+(1-Math.abs(a.delta/a.removalDistance)))}function x(){document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",w),document.removeEventListener("touchend",x);let e=o.current;if(a.canDrag&&a.didMove&&e){if(a.canDrag=!1,Math.abs(a.delta)>a.removalDistance){s(!0),t.closeToast();return}e.style.transition="transform 0.2s, opacity 0.2s",e.style.transform="translate"+t.draggableDirection+"(0)",e.style.opacity="1"}}(0,i.useEffect)(()=>{l.current=t}),(0,i.useEffect)(()=>(o.current&&o.current.addEventListener("d",b,{once:!0}),c(t.onOpen)&&t.onOpen((0,i.isValidElement)(t.children)&&t.children.props),()=>{let t=l.current;c(t.onClose)&&t.onClose((0,i.isValidElement)(t.children)&&t.children.props)}),[]),(0,i.useEffect)(()=>(t.pauseOnFocusLoss&&(document.hasFocus()||m(),window.addEventListener("focus",b),window.addEventListener("blur",m)),()=>{t.pauseOnFocusLoss&&(window.removeEventListener("focus",b),window.removeEventListener("blur",m))}),[t.pauseOnFocusLoss]);let S={onMouseDown:g,onTouchStart:g,onMouseUp:y,onTouchEnd:y};return u&&h&&(S.onMouseEnter=m,S.onMouseLeave=b),p&&(S.onClick=t=>{f&&f(t),a.canCloseOnClick&&d()}),{playToast:b,pauseToast:m,isRunning:e,preventExitTransition:n,toastRef:o,eventHandlers:S}}(t),{closeButton:a,children:l,autoClose:u,onClick:h,type:d,hideProgressBar:f,closeToast:p,transition:g,position:y,className:b,style:m,bodyClassName:w,bodyStyle:B,progressClassName:T,progressStyle:A,updateId:I,role:k,progress:j,rtl:O,toastId:C,deleteToast:U,isIn:R,isLoading:L,iconOut:D,theme:N}=t,P=s("Toastify__toast","Toastify__toast-theme--"+N,"Toastify__toast--"+d,{"Toastify__toast--rtl":O}),_=c(b)?b({rtl:O,position:y,type:d,defaultClassName:P}):s(P,b),H=!!j,$={closeToast:p,type:d,theme:N},V=null;return!1===a||(V=c(a)?a($):i.isValidElement(a)?i.cloneElement(a,$):x($)),i.createElement(g,{isIn:R,done:U,position:y,preventExitTransition:r,nodeRef:n},i.createElement("div",{id:C,onClick:h,className:_,...o,style:m,ref:n},i.createElement("div",{...R&&{role:k},className:c(w)?w({type:d}):s("Toastify__toast-body",w),style:B},null!=D&&i.createElement("div",{className:s("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!L})},D),i.createElement("div",null,l)),V,(u||H)&&i.createElement(S,{...I&&!H?{key:"pb-"+I}:{},rtl:O,theme:N,delay:u,isRunning:e,isIn:R,closeToast:p,hide:f,type:d,style:A,className:T,controlledProgress:H,progress:j})))},T=p({enter:"Toastify--animate Toastify__bounce-enter",exit:"Toastify--animate Toastify__bounce-exit",appendPosition:!0});p({enter:"Toastify--animate Toastify__slide-enter",exit:"Toastify--animate Toastify__slide-exit",appendPosition:!0});let A=p({enter:"Toastify--animate Toastify__zoom-enter",exit:"Toastify--animate Toastify__zoom-exit"});p({enter:"Toastify--animate Toastify__flip-enter",exit:"Toastify--animate Toastify__flip-exit"});let I=(0,i.forwardRef)((t,e)=>{let{getToastToRender:r,containerRef:n,isToastActive:d}=function(t){let[,e]=(0,i.useReducer)(t=>t+1,0),[r,n]=(0,i.useState)([]),s=(0,i.useRef)(null),d=(0,i.useRef)(new Map).current,f=t=>-1!==r.indexOf(t),p=(0,i.useRef)({toastKey:1,displayedToast:0,count:0,queue:[],props:t,containerId:null,isToastActive:f,getToast:t=>d.get(t)}).current;function b(t){let{containerId:e}=t,{limit:r}=p.props;r&&(!e||p.containerId===e)&&(p.count-=p.queue.length,p.queue=[])}function E(t){n(e=>null!=t?e.filter(e=>e!==t):[])}function v(){let{toastContent:t,toastProps:e,staleId:r}=p.queue.shift();S(t,e,r)}function x(t,r){var n,f;let{delay:b,staleId:x,...B}=r;if(!h(t)||!s.current||p.props.enableMultiContainer&&B.containerId!==p.props.containerId||d.has(B.toastId)&&null==B.updateId)return;let{toastId:T,updateId:A,data:I}=B,{props:k}=p,j=()=>E(T),O=null==A;O&&p.count++;let C={toastId:T,updateId:A,data:I,containerId:B.containerId,isLoading:B.isLoading,theme:B.theme||k.theme,icon:null!=B.icon?B.icon:k.icon,isIn:!1,key:B.key||p.toastKey++,type:B.type,closeToast:j,closeButton:B.closeButton,rtl:k.rtl,position:B.position||k.position,transition:B.transition||k.transition,className:u(B.className||k.toastClassName),bodyClassName:u(B.bodyClassName||k.bodyClassName),style:B.style||k.toastStyle,bodyStyle:B.bodyStyle||k.bodyStyle,onClick:B.onClick||k.onClick,pauseOnHover:a(B.pauseOnHover)?B.pauseOnHover:k.pauseOnHover,pauseOnFocusLoss:a(B.pauseOnFocusLoss)?B.pauseOnFocusLoss:k.pauseOnFocusLoss,draggable:a(B.draggable)?B.draggable:k.draggable,draggablePercent:B.draggablePercent||k.draggablePercent,draggableDirection:B.draggableDirection||k.draggableDirection,closeOnClick:a(B.closeOnClick)?B.closeOnClick:k.closeOnClick,progressClassName:u(B.progressClassName||k.progressClassName),progressStyle:B.progressStyle||k.progressStyle,autoClose:!B.isLoading&&(n=B.autoClose,f=k.autoClose,!1===n||o(n)&&n>0?n:f),hideProgressBar:a(B.hideProgressBar)?B.hideProgressBar:k.hideProgressBar,progress:B.progress,role:B.role||k.role,deleteToast(){let t=g(d.get(T),"removed");d.delete(T),y.emit(4,t);let r=p.queue.length;if(p.count=null!=T?p.count-1:p.count-p.displayedToast,p.count<0&&(p.count=0),r>0){let t=null!=T?1:p.props.limit;if(1===r||1===t)p.displayedToast++,v();else{let e=t>r?r:t;p.displayedToast=e;for(let t=0;t<e;t++)v()}}else e()}};C.iconOut=function(t){let{theme:e,type:r,isLoading:n,icon:s}=t,a=null,u={theme:e,type:r};return!1===s||(c(s)?a=s(u):(0,i.isValidElement)(s)?a=(0,i.cloneElement)(s,u):l(s)||o(s)?a=s:n?a=m.spinner():w(r)&&(a=m[r](u))),a}(C),c(B.onOpen)&&(C.onOpen=B.onOpen),c(B.onClose)&&(C.onClose=B.onClose),C.closeButton=k.closeButton,!1===B.closeButton||h(B.closeButton)?C.closeButton=B.closeButton:!0===B.closeButton&&(C.closeButton=!h(k.closeButton)||k.closeButton);let U=t;(0,i.isValidElement)(t)&&!l(t.type)?U=(0,i.cloneElement)(t,{closeToast:j,toastProps:C,data:I}):c(t)&&(U=t({closeToast:j,toastProps:C,data:I})),k.limit&&k.limit>0&&p.count>k.limit&&O?p.queue.push({toastContent:U,toastProps:C,staleId:x}):o(b)?setTimeout(()=>{S(U,C,x)},b):S(U,C,x)}function S(t,e,r){let{toastId:i}=e;r&&d.delete(r);let s={content:t,props:e};d.set(i,s),n(t=>[...t,i].filter(t=>t!==r)),y.emit(4,g(s,null==s.props.updateId?"added":"updated"))}return(0,i.useEffect)(()=>(p.containerId=t.containerId,y.cancelEmit(3).on(0,x).on(1,t=>s.current&&E(t)).on(5,b).emit(2,p),()=>{d.clear(),y.emit(3,p)}),[]),(0,i.useEffect)(()=>{p.props=t,p.isToastActive=f,p.displayedToast=r.length}),{getToastToRender:function(e){let r=new Map,n=Array.from(d.values());return t.newestOnTop&&n.reverse(),n.forEach(t=>{let{position:e}=t.props;r.has(e)||r.set(e,[]),r.get(e).push(t)}),Array.from(r,t=>e(t[0],t[1]))},containerRef:s,isToastActive:f}}(t),{className:f,style:p,rtl:b,containerId:E}=t;return(0,i.useEffect)(()=>{e&&(e.current=n.current)},[]),i.createElement("div",{ref:n,className:"Toastify",id:E},r((t,e)=>{let r=e.length?{...p}:{...p,pointerEvents:"none"};return i.createElement("div",{className:function(t){let e=s("Toastify__toast-container","Toastify__toast-container--"+t,{"Toastify__toast-container--rtl":b});return c(f)?f({position:t,rtl:b,defaultClassName:e}):s(e,u(f))}(t),style:r,key:"container-"+t},e.map((t,r)=>{let{content:n,props:s}=t;return i.createElement(B,{...s,isIn:d(s.toastId),style:{...s.style,"--nth":r+1,"--len":e.length},key:"toast-"+s.key},n)}))}))});I.displayName="ToastContainer",I.defaultProps={position:d.TOP_RIGHT,transition:T,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:x,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let k=new Map,j=[];function O(){return Math.random().toString(36).substring(2,9)}function C(t,e){return k.size>0?y.emit(0,t,e):j.push({content:t,options:e}),e.toastId}function U(t,e){return{...e,type:e&&e.type||t,toastId:e&&(l(e.toastId)||o(e.toastId))?e.toastId:O()}}function R(t){return(e,r)=>C(e,U(t,r))}function L(t,e){return C(t,U(f.DEFAULT,e))}L.loading=(t,e)=>C(t,U(f.DEFAULT,{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),L.promise=function(t,e,r){let n,{pending:i,error:s,success:o}=e;i&&(n=l(i)?L.loading(i,r):L.loading(i.render,{...r,...i}));let a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null,delay:100},u=(t,e,i)=>{if(null==e){L.dismiss(n);return}let s={type:t,...a,...r,data:i},o=l(e)?{render:e}:e;return n?L.update(n,{...s,...o}):L(o.render,{...s,...o}),i},h=c(t)?t():t;return h.then(t=>u("success",o,t)).catch(t=>u("error",s,t)),h},L.success=R(f.SUCCESS),L.info=R(f.INFO),L.error=R(f.ERROR),L.warning=R(f.WARNING),L.warn=L.warning,L.dark=(t,e)=>C(t,U(f.DEFAULT,{theme:"dark",...e})),L.dismiss=t=>{k.size>0?y.emit(1,t):j=j.filter(e=>null!=t&&e.options.toastId!==t)},L.clearWaitingQueue=function(t){return void 0===t&&(t={}),y.emit(5,t)},L.isActive=t=>{let e=!1;return k.forEach(r=>{r.isToastActive&&r.isToastActive(t)&&(e=!0)}),e},L.update=function(t,e){void 0===e&&(e={}),setTimeout(()=>{let r=function(t,e){let{containerId:r}=e,i=k.get(r||n);return i?i.getToast(t):null}(t,e);if(r){let{props:n,content:i}=r,s={...n,...e,toastId:e.toastId||t,updateId:O()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,C(o,s)}},0)},L.done=t=>{L.update(t,{progress:1})},L.onChange=t=>(y.on(4,t),()=>{y.off(4,t)}),L.POSITION=d,L.TYPE=f,y.on(2,t=>{n=t.containerId||t,k.set(n,t),j.forEach(t=>{y.emit(0,t.content,t.options)}),j=[]}).on(3,t=>{k.delete(t.containerId||t),0===k.size&&y.off(0).off(1).off(5)})}}]);